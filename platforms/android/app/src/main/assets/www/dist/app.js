window.VERSION = "0.0.2";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"http://backend.educacion.thor.datauy.org"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,t,n){t.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),cordova.plugins.Keyboard.disableScroll(!1)),ionic.Platform.isFullScreen=!0,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AbsController"}).state("app.map",{cache:!1,url:"/map",views:{menuContent:{templateUrl:"templates/map.html",controller:"MapController"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/intro")}]),pmb_im.controllers.controller("AbsController",["$scope",function(e){}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,t,n,o,a,r,i,s){var l=s.initDB();l.info().then(console.log.bind(console)),e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){i.save_initial_position(e),t.go("app.map")},function(e){t.go("app.map")})},e.$on("$ionicView.enter",function(){null!=i.council_modal&&(i.council_modal.hide(),i.council_modal.remove()),e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","_","$cordovaCamera","$cordovaGeolocation","$compile","$ionicModal","$ionicPopup","leafletData","ConfigService","LocationsService","PinService","AuthService","UserService","DBService","$timeout","$interval","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","ConnectivityService","$cordovaInAppBrowser","MapService","ModalService","SemaphoreService","ValidationService",function(e,t,n,o,a,r,i,s,l,c,u,d,p,m,_,g,f,h,v,y,b,w,I,k,E,A,D){e.online_user_geo={},e.online_user_geo_array=new Array,e.baseURL=l.baseURL,e.AppName=l.AppName,e.user_cached_image="./img/icon-user-anonymous.png",e.one_value_popup=null,e.myIntervals=new Array,e.$on("$ionicView.beforeEnter",function(){E.checkNoModalIsOpen(),m.initDB(),w.isOnline()?e.check_user_logged():e.set_offline_user(),document.getElementById("foot_bar").style.display="block",w.isOnline()&&e.create_online_map()}),e.$on("$ionicView.afterEnter",function(){s.getMap();""!=c.initial_lat?k.centerMapOnCoords(c.initial_lat,c.initial_lng,16):k.centerMapOnCoords(-34.901113,-56.164531,14),document.getElementById("spinner").style.display="none"}),e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};I.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},e.create_online_map=function(){e.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:1,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{}},e.loadPinsLayer(),e.map.center={lat:-34.901113,lng:-56.164531,zoom:16},s.getMap().then(function(t){t.on("moveend",e.hideOffScreenPins)})},e.next=function(){v.next()},e.previous=function(){v.previous()},e.back_to_map=function(e){e?(E.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block",document.getElementById("spinner-inside-modal").style.display="none"):document.getElementById("spinner-inside-modal").style.display="none"},e.image=null,e.addImage=function(t,o,a,r){e.isUserPhoto=o,e.isCommentPhoto=a,e.isNewUserPhoto=r;var i=Camera.PictureSourceType.CAMERA,s=!0,l=!0;1==t&&(i=Camera.PictureSourceType.PHOTOLIBRARY,s=!1,l=!1);var c={quality:90,destinationType:Camera.DestinationType.FILE_URI,sourceType:i,allowEdit:!1,correctOrientation:s,encodingType:Camera.EncodingType.JPEG,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:l,targetWidth:500,targetHeight:500};n.getPicture(c).then(function(t){function n(t){window.FilePath.resolveNativePath(t,function(n){t="file://"+n,n.startsWith("file://")&&(t=n),1==e.isUserPhoto?e.profile.picture_url=t:1==e.isCommentPhoto?e.comment.file=t:1==e.isNewUserPhoto&&(e.newuser.picture_url=t),e.imgURI=t},function(e){alert("Error resolveNativePath"+e)})}n(t)},function(e){})},e.urlForImage=function(){var t="http://placehold.it/200x200";if(e.image){var n=e.image.substr(e.image.lastIndexOf("/")+1);t=cordova.file.dataDirectory+n}return t},e.scrollMe=function(e){f.hash(e);var t=y.$getByHandle("content");t.anchorScroll()},e.set_active_option=function(e){document.getElementById(e).className="option-active"},e.hide_special_divs=function(){document.getElementById("user-options-menu").style.display="none"},e.close_report_detail_modal=function(){E.checkNoModalIsOpen(),e.report_detail_id=null},e.locate=function(){o.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"You Are Here",focus:!0,draggable:!1}},function(e){})},e.addMapControls=function(){document.getElementById("map_crosshair").style.display="block",document.getElementById("map_crosshair_button").style.display="block"},e.changeUserLocationPin=function(t,n,o){if(e.online_user_geo_array[o]){layer=e.online_user_geo_array[o];var a=new L.LatLng(t,n);layer.setLatLng(a)}},e.hideOffScreenPins=function(){s.getMap().then(function(t){var n=t.getBounds();e.usersVisible=[],e.online_user_geo_array.forEach(function(o,a){var r=n.contains(o.getLatLng());r?r&&(t.addLayer(o),e.usersVisible.push(o.feature)):t.removeLayer(o)})})},e.loadPinsLayer=function(){},e.timeConverter=function(e){var t=new Date(1e3*e),n=t.getFullYear(),o=t.getMonth();o<10&&(o="0"+o);var a=t.getDate();a<10&&(a="0"+a);var r=t.getHours();r<10&&(r="0"+r);var i=t.getMinutes();i<10&&(i="0"+i);var s=(t.getSeconds(),a+"/"+o+"/"+n+" "+r+":"+i);return s},e.model=[],e.externalModel=[],e.selectedItems=[],e.preselectedSearchItems=[],e.clickedValueModel="",e.removedValueModel="",e.itemsRemoved=function(t){e.removedValueModel=t},e.user_options=function(){var t=document.getElementById("user-options-menu");if("block"==t.style.display)t.style.display="none";else{var n=p.name;null==n?e.show_anonymous_menu():e.show_user_menu()}},e.show_anonymous_menu=function(){var t=document.getElementById("user-options-menu"),n="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesión</div>";n+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",t.innerHTML=n,a(t)(e),t.style.height="120px",t.style.width="150px",t.style.display="block"},e.show_user_menu=function(){var t=document.getElementById("user-options-menu"),n=p.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";n+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesión</div></div>",t.innerHTML=n,a(t)(e),t.style.height="220px",t.style.width="200px",t.style.display="block"},e.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},e.create_field_array_with_twoFields=function(e,t,n,o){var a=new Array;return a.name=e,a.type=t,a.value=n,a.secondValue=o,a},e.fix_fb_image_link=function(e){if(e.indexOf("http://graph.facebook.com")>=0){var t=e.split("http://graph.facebook.com"),n="http://graph.facebook.com"+t[1];return n}return e},e.log_in=function(t,n){if(A.takeIfAvailable("submit-form"))if(w.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(e.create_field_array("Usuario","notNull",t)),o.push(e.create_field_array("Contraseña","notNull",n)),h.check_fields(o,"error_container")?d.log_in(t,n).then(function(t){h.http_response_is_successful(t,"error_container")?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),p.save_user_data(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),m.saveUser(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),e.close_login_modal()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),h.show_error_message("error_container",e.statusText)}):(document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"))}else A.makeAvailableAgain("submit-form"),b.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},e.log_in_background=function(t,n){d.log_in(t,n).then(function(t){return h.http_response_is_successful_ajax(t)?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),p.save_user_data(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),m.saveUser(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),1):0},function(e){return 0})},e.sign_out=function(){p.erase_user_data(),m.eraseUser(),document.getElementById("spinner").style.display="none",e.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},e.show_edit_profile_modal=function(){A.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",e.newuser=new Array,e.newuser.email=p.email,e.newuser.gender=p.gender,e.newuser.username=p.name,e.newuser.interested=p.interested,e.newuser.status=p.status,e.newuser.show_location=p.show_location,e.actual_photo=p.picture_url,null!=e.actual_photo||(e.actual_photo="./img/icon-user-anonymous.png"),"url(./img/icon-user-anonymous.png)"==e.actual_photo&&(e.actual_photo="./img/icon-user-anonymous.png"),E.checkNoModalIsOpen(),D.isMobileDevice()?r.fromTemplateUrl("templates/edit_profile_with_photo.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",E.activeModal=e,document.getElementById("foot_bar").style.display="none",E.activeModal.show(),A.makeAvailableAgain("open-modal")}):r.fromTemplateUrl("templates/edit_profile_with_photo_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",E.activeModal=e,document.getElementById("foot_bar").style.display="none",E.activeModal.show(),A.makeAvailableAgain("open-modal")}))},e.readURL=function(t,n){if(t.files&&t.files[0]){1==n?e.newuser.picture_url=t.files[0]:2==n?e.comment.photo=t.files[0]:e.report.file=t.files[0];var o=new FileReader;o.onload=function(e){document.getElementById("myImage").src=e.target.result},o.readAsDataURL(t.files[0])}},e.close_edit_profile_modal=function(){document.getElementById("foot_bar").style.display="block",E.checkNoModalIsOpen()},e.edit_profile_ok=function(){e.edit_profile()},e.getObjectDataFromResponse=function(e){return e.data?e.data:e},e.edit_profile=function(){if(A.takeIfAvailable("submit-form"))if(w.isOnline()){document.getElementById("spinner-inside-modal").style.display="block",e.newuser.password=p.password;var t=d.edit_user(e.newuser);null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?t.then(function(t){var n=JSON.parse(t.response);h.http_data_response_is_successful(n,"error_container")?(n=e.getObjectDataFromResponse(n),p.save_user_data(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),m.saveUser(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){var t="Código: "+e.code;t=t+" Origen: "+e.source,t=t+" Destino: "+e.target,t=t+" http_status: "+e.http_status,t=t+" Body: "+e.body,t=t+" Exception: "+e.exception,h.show_error_message("error_container","Hubo un error en el envío: "+t),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(t){_(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})}):t.success(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",h.http_response_is_successful(t,"error_container")?(p.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),m.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")}).error(function(e,t,n,o){h.show_error_message("error_container",t),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form")})}else A.makeAvailableAgain("submit-form"),b.show_alert("Sin conexión a internet","Para editar su perfil debe estar conectado a internet")},e.show_login_modal=function(){A.takeIfAvailable("open-modal")&&(e.nonauth=new Array,e.nonauth.user="",e.nonauth.password="",E.checkNoModalIsOpen(),r.fromTemplateUrl("templates/log_in.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),E.activeModal=t,A.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",E.activeModal.show()}))},e.login_ok=function(){e.log_in(e.nonauth.user,e.nonauth.password)},e.close_login_modal=function(){document.getElementById("foot_bar").style.display="block",E.checkNoModalIsOpen()},e.show_sign_up_modal=function(){A.takeIfAvailable("open-modal")&&(e.newuser=new Array,e.newuser.email="",e.newuser.password="",e.newuser.fullname="",e.newuser.id_doc="",e.newuser.telephone="",e.newuser.photo="",E.checkNoModalIsOpen(),D.isMobileDevice()?r.fromTemplateUrl("templates/sign_up.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),E.activeModal=t,A.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",E.activeModal.show()}):r.fromTemplateUrl("templates/sign_up_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),E.activeModal=t,A.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",E.activeModal.show()}))},e.close_sign_up_modal=function(){document.getElementById("foot_bar").style.display="block",E.checkNoModalIsOpen()},e.sign_up=function(){if(A.takeIfAvailable("submit-form"))if(w.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";new Array;null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?d.create_user(e.newuser).then(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",h.http_data_response_is_successful(t,"error_container")?(t=e.getObjectDataFromResponse(t),p.save_user_data(t.name,t.email,e.newuser.password,t.identity_document,t.phone,t.picture_url),p.save_user_data(t.Name,e.newuser.password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),m.saveUser(t.Name,password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"}):d.create_user(e.newuser).then(function(t){if(h.http_response_is_successful(t,"error_container")){p.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),m.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_sign_up_modal();var n=i.alert({title:"Usuario creado con éxito",template:e.getObjectDataFromResponse(t).message});n.then(function(e){}),e.check_user_logged()}else A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(e){A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",h.show_error_message("error_container",e.statusText)})}else A.makeAvailableAgain("submit-form"),b.show_alert("Sin conexión a internet","Para iniciar registrarse debe estar conectado a internet")},e.sign_up_ok=function(){e.sign_up()},e.check_user_logged=function(){var t=p.name;if(null==t){var n=m.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?e.log_in_background(t.name,t.password):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==p.picture_url||""==p.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_offline_user=function(){var t=p.name;if(null==t){var n=m.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?p.save_user_data(t.name,t.password,t.picture_url,t.show_location):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==p.picture_url||""==p.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_user_picture=function(t){document.getElementById("user_picture");0==t?e.user_cached_image="./img/icon-user-anonymous.png":null!=p.picture_url&&""!=p.picture_url?e.user_cached_image=p.picture_url:e.user_cached_image="./img/icon-user-anonymous.png"},e.find_me=function(){e.set_active_option("button-find-me"),e.hide_special_divs();var t={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(t).then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,c.save_new_report_position(t.coords.latitude,t.coords.longitude),w.isOnline()?e.map.center.zoom=18:e.map.center.zoom=16,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"<p align='center'>Te encuentras aquí <br/> <a ng-click='new_report(1);'>Iniciar reporte en tu posición actual</a></p>",focus:!0,draggable:!1,getMessageScope:function(){return e}}},function(t){e.openCouncilSelector()})}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService","ValidationService",function(e,t,n,o){var a=n.baseURL+"/api/";return{log_in:function(t,n){var o="user="+t+"&password="+n;return e.post(a+"login",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sign_out:function(t,n){return e.get(a+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"create_user",n.picture_url,r,i)}if(n.picture_url){var s=new FormData;return s.append("photo",n.picture_url),s.append("user",n.username),s.append("password",n.password),s.append("email",n.email),s.append("gender",n.gender),s.append("interested",n.interested),s.append("status",n.status),s.append("show_location",n.show_location),e.post(a+"create_user",s,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}var l="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;return l=l+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,e.post(a+"create_user",l,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},password_recovery:function(t){return e.get(a+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,o,r){var i="email="+t+"&password_sign_in="+n+"&new_password="+o+"&confirm="+r;return e.post(a+"change_password",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"edit_profile",n.picture_url,r,i)}var s="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;if(s=s+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,n.picture_url){var l=new FormData;return l.append("photo",n.picture_url),l.append("user",n.username),l.append("password",n.password),l.append("email",n.email),l.append("gender",n.gender),l.append("interested",n.interested),l.append("status",n.status),l.append("show_location",n.show_location),e.post(a+"edit_profile",l,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}return e.post(a+"edit_profile",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="http://backend.educacion.thor.datauy.org",ionic.Platform.isWebView()?t.baseURL="http://backend.educacion.thor.datauy.org":t.baseURL="/backend",t.AppName="Educación - ALTEC",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return!0},isOffline:function(){return!1}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(e,t,o,a,r,i,s,l){var c={_id:"user-logged",name:e,password:t,picture_url:o,show_location:a,uid:r,status:i,gender:s,interested:l};n().then(function(e){return c._rev=e._rev,m.put(c)})["catch"](function(e){return m.put(c)})}function n(){return m.get("user-logged")}function o(){m.get("user-logged").then(function(e){return m.remove(e)})}function a(){return m=new PouchDB("tomamosuna_local_db")}function r(e){var t=new Date,n="report_"+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getMilliseconds();return e._id=n,m.put(e)}function i(e){return m.put(e)}function s(){return m.get("categories-list")}function l(e){s().then(function(t){return e._rev=t._rev,m.put(e)})["catch"](function(t){return e._id="categories-list",m.put(e)})}function c(e){return m.get(e)}function u(){return m.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_￿"})}function d(e){m.get(e).then(function(e){return m.remove(e)})}function p(e){return m.remove(e)}var m;return{initDB:a,saveUser:t,getUser:n,eraseUser:o,saveReport:r,getReport:c,getAllReports:u,updateReport:i,deleteReport:d,deleteGivenReport:p,getCategories:s,saveCategories:l}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return e.data&&"success"==e.data.Status||"success"==e.Status?(n.style.display="none",!0):(e.data?n.innerHTML="<h3>"+e.data.Message+"</h3>":n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return"success"!=e.Status?(n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'<h3>- Los campos "'+e.name+'" no coinciden.</h3>'))}),""==o)return!0;var a=document.getElementById(t);return a.innerHTML=o,a.style.display="block",!1}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.last_user_lat="",e.last_user_lng="",e.council_modal=null,e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_last_user_position=function(t,n){e.last_user_lat=t,e.last_user_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,a,r){var i={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(i,{pointToLayer:function(e,o){n=o;var a="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aquí</a></p>",i=t(a)(r);return L.marker(o).bindPopup(i[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.checkNoModalIsOpen=function(){e.activeModal&&(e.activeModal.hide(),e.activeModal.remove())},e}]),pmb_im.services.factory("PinService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/sites/tomamos_una/files/json/users_geo.json",r=n.baseURL+"/api/";return o.getAll=function(){return e.get(a,{cache:!1,params:{hash_id:Math.random()}})},o.sendUserLocation=function(t,n,o,a,i){var s="user="+o+"&password="+a+"&lat="+t+"&lon="+n+"&uid="+i;return e.post(r+"send_user_position",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o._all=[],o.current={},o.lastPinsResponse=null,o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,a,r,i){$scope=n;var s=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+r+'" no puede estar vacío.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+r+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+r+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var a=document.getElementById("error_container_inside");a.innerHTML=n,a.style.display="block",e.preventDefault()}}]});return s}}}]),pmb_im.services.factory("SemaphoreService",[function(){var e={};return e.semaphores=new Array,e.semaphores["open-modal"]="available",e.semaphores["submit-form"]="available",e.semaphores["submit-location"]="available",e.semaphores.can_talk="available",e.takeIfAvailable=function(t){return"available"==e.semaphores[t]&&(e.semaphores[t]="occupied",!0)},e.makeAvailableAgain=function(t){return"occupied"==e.semaphores[t]&&(e.semaphores[t]="available",!0)},e}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,a,r){var i="ubicacionesRestProd",s={};return s.searchLocationByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},s.searchEsquinaByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},s.getLocationGeom=function(t){for(var o=n.url+"/"+i+s.getParamPathByTipo(t.tipo),a=0;a<t.pathParams.length;a++)o+="/"+t.pathParams[a];return e.get(baseURL).then(function(e){return e.data})},s.getLocationGeomPMB=function(t,n,o){
var i=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t+","+n+","+o;return e.get(i)},s.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},s}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.uid=null,t.name=null,t.email=null,t.password=null,t.picture_url="url(./img/icon-user-anonymous.png)",t.show_location=null,t.save_user_data=function(e,n,o,a,r,i,s,l){t.uid=r,t.name=e,t.password=n,t.picture_url=o,t.show_location=a,t.status=i,t.gender=s,t.interested=l},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{isMobileDevice:function(){return!!window.cordova},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=n%10===0?0:10-n%10,t==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2Ficy5jdHJsLmpzIiwiY29udHJvbGxlcnMvaW50cm8uY3RybC5qcyIsImNvbnRyb2xsZXJzL21hcC5jdHJsLmpzIiwic2VydmljZXMvYXV0aC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2NvbmZpZy5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Nvbm5lY3Rpdml0eS5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2RiLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZXJyb3Iuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbW9kYWxTZXJ2aWNlLmpzIiwic2VydmljZXMvcGluLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3NlbWFwaG9yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdWJpY2FjaW9uZXMuc2VydmljZXMuanMiLCJzZXJ2aWNlcy91bmRlcnNjb3JlLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdmFsaWRhdGlvbi5zZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJwbWJfaW0iLCJjb250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlcyIsImFwcCIsImNvbnN0YW50IiwidXJsIiwicnVuIiwiJGlvbmljUGxhdGZvcm0iLCIkcm9vdFNjb3BlIiwiJGNvcmRvdmFLZXlib2FyZCIsIlZFUlNJT04iLCJ3aW5kb3ciLCJyZWFkeSIsImNvcmRvdmEiLCJwbHVnaW5zIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJkaXNhYmxlU2Nyb2xsIiwiaW9uaWMiLCJQbGF0Zm9ybSIsImlzRnVsbFNjcmVlbiIsIlN0YXR1c0JhciIsInN0eWxlRGVmYXVsdCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiZGVidWdJbmZvRW5hYmxlZCIsInN0YXRlIiwiY2FjaGUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInZpZXdzIiwibWVudUNvbnRlbnQiLCJvdGhlcndpc2UiLCIkc2NvcGUiLCIkc3RhdGUiLCIkY29yZG92YUdlb2xvY2F0aW9uIiwiJHN0YXRlUGFyYW1zIiwiJGlvbmljUG9wdXAiLCJMb2NhdGlvbnNTZXJ2aWNlIiwiREJTZXJ2aWNlIiwiZGIiLCJpbml0REIiLCJpbmZvIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJiaW5kIiwiZ2VvbG9jYXRlIiwicG9zT3B0aW9ucyIsInRpbWVvdXQiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbiIsInNhdmVfaW5pdGlhbF9wb3NpdGlvbiIsImdvIiwiZXJyIiwiJG9uIiwiY291bmNpbF9tb2RhbCIsImhpZGUiLCJyZW1vdmUiLCJfIiwiJGNvcmRvdmFDYW1lcmEiLCIkY29tcGlsZSIsIiRpb25pY01vZGFsIiwibGVhZmxldERhdGEiLCJDb25maWdTZXJ2aWNlIiwiUGluU2VydmljZSIsIkF1dGhTZXJ2aWNlIiwiVXNlclNlcnZpY2UiLCIkdGltZW91dCIsIiRpbnRlcnZhbCIsIiRsb2NhdGlvbiIsIkVycm9yU2VydmljZSIsIiRpb25pY1NsaWRlQm94RGVsZWdhdGUiLCIkaW9uaWNTY3JvbGxEZWxlZ2F0ZSIsIlBvcFVwU2VydmljZSIsIkNvbm5lY3Rpdml0eVNlcnZpY2UiLCIkY29yZG92YUluQXBwQnJvd3NlciIsIk1hcFNlcnZpY2UiLCJNb2RhbFNlcnZpY2UiLCJTZW1hcGhvcmVTZXJ2aWNlIiwiVmFsaWRhdGlvblNlcnZpY2UiLCJvbmxpbmVfdXNlcl9nZW8iLCJvbmxpbmVfdXNlcl9nZW9fYXJyYXkiLCJBcnJheSIsImJhc2VVUkwiLCJBcHBOYW1lIiwidXNlcl9jYWNoZWRfaW1hZ2UiLCJvbmVfdmFsdWVfcG9wdXAiLCJteUludGVydmFscyIsImNoZWNrTm9Nb2RhbElzT3BlbiIsImlzT25saW5lIiwiY2hlY2tfdXNlcl9sb2dnZWQiLCJzZXRfb2ZmbGluZV91c2VyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsImNyZWF0ZV9vbmxpbmVfbWFwIiwiZ2V0TWFwIiwiaW5pdGlhbF9sYXQiLCJjZW50ZXJNYXBPbkNvb3JkcyIsImluaXRpYWxfbG5nIiwib3BlbldlYnNpdGUiLCJvcHRpb25zIiwibG9jYXRpb24iLCJjbGVhcmNhY2hlIiwidG9vbGJhciIsIm9wZW4iLCJldmVudCIsIm1hcCIsImRlZmF1bHRzIiwidGlsZUxheWVyIiwibWluWm9vbSIsIm1heFpvb20iLCJ6b29tQ29udHJvbFBvc2l0aW9uIiwibWFya2VycyIsImV2ZW50cyIsImVuYWJsZSIsImxvZ2ljIiwiY2VudGVyIiwibG9hZFBpbnNMYXllciIsImxhdCIsImxuZyIsInpvb20iLCJvbiIsImhpZGVPZmZTY3JlZW5QaW5zIiwibmV4dCIsInByZXZpb3VzIiwiYmFja190b19tYXAiLCJpbWFnZSIsImFkZEltYWdlIiwiaXNGcm9tQWxidW0iLCJpc1VzZXJQaG90byIsImlzQ29tbWVudFBob3RvIiwiaXNOZXdVc2VyUGhvdG8iLCJzb3VyY2UiLCJDYW1lcmEiLCJQaWN0dXJlU291cmNlVHlwZSIsIkNBTUVSQSIsImZpeF9vcmllbnRhdGlvbiIsInNhdmVfdG9fZ2FsbGVyeSIsIlBIT1RPTElCUkFSWSIsInF1YWxpdHkiLCJkZXN0aW5hdGlvblR5cGUiLCJEZXN0aW5hdGlvblR5cGUiLCJGSUxFX1VSSSIsInNvdXJjZVR5cGUiLCJhbGxvd0VkaXQiLCJjb3JyZWN0T3JpZW50YXRpb24iLCJlbmNvZGluZ1R5cGUiLCJFbmNvZGluZ1R5cGUiLCJKUEVHIiwicG9wb3Zlck9wdGlvbnMiLCJDYW1lcmFQb3BvdmVyT3B0aW9ucyIsInNhdmVUb1Bob3RvQWxidW0iLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsImdldFBpY3R1cmUiLCJpbWFnZURhdGEiLCJvbkltYWdlU3VjY2VzcyIsImZpbGVVUkkiLCJGaWxlUGF0aCIsInJlc29sdmVOYXRpdmVQYXRoIiwicmVzdWx0Iiwic3RhcnRzV2l0aCIsInByb2ZpbGUiLCJwaWN0dXJlX3VybCIsImNvbW1lbnQiLCJmaWxlIiwibmV3dXNlciIsImltZ1VSSSIsImVycm9yIiwiYWxlcnQiLCJ1cmxGb3JJbWFnZSIsImltYWdlVVJMIiwibmFtZSIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwiZGF0YURpcmVjdG9yeSIsInNjcm9sbE1lIiwiYW5jaG9yX2lkIiwiaGFzaCIsImhhbmRsZSIsIiRnZXRCeUhhbmRsZSIsImFuY2hvclNjcm9sbCIsInNldF9hY3RpdmVfb3B0aW9uIiwiYnV0dG9uaWQiLCJjbGFzc05hbWUiLCJoaWRlX3NwZWNpYWxfZGl2cyIsImNsb3NlX3JlcG9ydF9kZXRhaWxfbW9kYWwiLCJyZXBvcnRfZGV0YWlsX2lkIiwibG9jYXRlIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJub3ciLCJtZXNzYWdlIiwiZm9jdXMiLCJkcmFnZ2FibGUiLCJhZGRNYXBDb250cm9scyIsImNoYW5nZVVzZXJMb2NhdGlvblBpbiIsImxvbiIsInVpZCIsImxheWVyIiwibmV3TGF0TG5nIiwiTCIsIkxhdExuZyIsInNldExhdExuZyIsIm1hcEJvdW5kcyIsImdldEJvdW5kcyIsInVzZXJzVmlzaWJsZSIsImZvckVhY2giLCJrZXkiLCJzaG91bGRCZVZpc2libGUiLCJjb250YWlucyIsImdldExhdExuZyIsImFkZExheWVyIiwicHVzaCIsImZlYXR1cmUiLCJyZW1vdmVMYXllciIsInRpbWVDb252ZXJ0ZXIiLCJVTklYX3RpbWVzdGFtcCIsImEiLCJEYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW4iLCJnZXRNaW51dGVzIiwidGltZSIsImdldFNlY29uZHMiLCJtb2RlbCIsImV4dGVybmFsTW9kZWwiLCJzZWxlY3RlZEl0ZW1zIiwicHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyIsImNsaWNrZWRWYWx1ZU1vZGVsIiwicmVtb3ZlZFZhbHVlTW9kZWwiLCJpdGVtc1JlbW92ZWQiLCJjYWxsYmFjayIsInVzZXJfb3B0aW9ucyIsIm1lbnUiLCJzaG93X2Fub255bW91c19tZW51Iiwic2hvd191c2VyX21lbnUiLCJodG1sIiwiaW5uZXJIVE1MIiwiaGVpZ2h0Iiwid2lkdGgiLCJjcmVhdGVfZmllbGRfYXJyYXkiLCJ0eXBlIiwidmFsdWUiLCJmaWVsZCIsImNyZWF0ZV9maWVsZF9hcnJheV93aXRoX3R3b0ZpZWxkcyIsInNlY29uZFZhbHVlIiwiZml4X2ZiX2ltYWdlX2xpbmsiLCJpbmRleE9mIiwicGFydHMiLCJzcGxpdCIsIm5ld1VybCIsImxvZ19pbiIsInVzZXIiLCJwYXNzd29yZCIsInRha2VJZkF2YWlsYWJsZSIsImZpZWxkcyIsImNoZWNrX2ZpZWxkcyIsInJlc3AiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJwaG90byIsImdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UiLCJQaG90byIsInNhdmVfdXNlcl9kYXRhIiwiTmFtZSIsIm5vbmF1dGgiLCJTaG93TG9jYXRpb24iLCJVaWQiLCJFc3RhZG8iLCJHZW5kZXIiLCJJbnRlcmVzdGVkSW4iLCJzYXZlVXNlciIsInNldF91c2VyX3BpY3R1cmUiLCJtYWtlQXZhaWxhYmxlQWdhaW4iLCJjbG9zZV9sb2dpbl9tb2RhbCIsInNob3dfZXJyb3JfbWVzc2FnZSIsInN0YXR1c1RleHQiLCJzaG93X2FsZXJ0IiwibG9nX2luX2JhY2tncm91bmQiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNpZ25fb3V0IiwiZXJhc2VfdXNlcl9kYXRhIiwiZXJhc2VVc2VyIiwic2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwiLCJlbWFpbCIsImdlbmRlciIsInVzZXJuYW1lIiwiaW50ZXJlc3RlZCIsInN0YXR1cyIsInNob3dfbG9jYXRpb24iLCJhY3R1YWxfcGhvdG8iLCJpc01vYmlsZURldmljZSIsImZyb21UZW1wbGF0ZVVybCIsInNjb3BlIiwiaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2UiLCJhbmltYXRpb24iLCJtb2RhbCIsImFjdGl2ZU1vZGFsIiwic2hvdyIsInJlYWRVUkwiLCJpbnB1dCIsImZpbGVzIiwicmVwb3J0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJzcmMiLCJ0YXJnZXQiLCJyZWFkQXNEYXRhVVJMIiwiY2xvc2VfZWRpdF9wcm9maWxlX21vZGFsIiwiZWRpdF9wcm9maWxlX29rIiwiZWRpdF9wcm9maWxlIiwicmVzcG9uc2UiLCJkYXRhIiwiZWRpdF9yZXF1ZXN0IiwiZWRpdF91c2VyIiwiSlNPTiIsInBhcnNlIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJjb2RlIiwiaHR0cF9zdGF0dXMiLCJib2R5IiwiZXhjZXB0aW9uIiwicHJvZ3Jlc3MiLCJ1cGxvYWRQcm9ncmVzcyIsImxvYWRlZCIsInRvdGFsIiwiTWF0aCIsInJvdW5kIiwic3VjY2VzcyIsImhlYWRlcnMiLCJzaG93X2xvZ2luX21vZGFsIiwibG9naW5fb2siLCJzaG93X3NpZ25fdXBfbW9kYWwiLCJmdWxsbmFtZSIsImlkX2RvYyIsInRlbGVwaG9uZSIsImNsb3NlX3NpZ25fdXBfbW9kYWwiLCJzaWduX3VwIiwiY3JlYXRlX3VzZXIiLCJpZGVudGl0eV9kb2N1bWVudCIsInBob25lIiwiYWxlcnRQb3B1cCIsInRpdGxlIiwidGVtcGxhdGUiLCJyZXMiLCJzaWduX3VwX29rIiwiZ2V0VXNlciIsImRvYyIsImhhc1Bob3RvIiwiZmluZF9tZSIsInNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbiIsImdldE1lc3NhZ2VTY29wZSIsIm9wZW5Db3VuY2lsU2VsZWN0b3IiLCJmYWN0b3J5IiwiJGh0dHAiLCIkY29yZG92YUZpbGVUcmFuc2ZlciIsInBvc3QiLCJ3aXRoQ3JlZGVudGlhbHMiLCJDb250ZW50LVR5cGUiLCJnZXQiLCJwYXJhbXMiLCJwYXNzd29yZF9zaWduX2luIiwidXNlck9iaiIsImZpbGVLZXkiLCJ0cnVzdEFsbEhvc3RzIiwidXBsb2FkIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInVuZGVmaW5lZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsInBhc3N3b3JkX3JlY292ZXJ5IiwibG9naW5fZW1haWwiLCJwYXNzd29yZF9jaGFuZ2UiLCJvbGRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwiQ29uZmlnT2JqIiwiaXNXZWJWaWV3IiwiJGNvcmRvdmFOZXR3b3JrIiwiaXNPZmZsaW5lIiwiJHEiLCJ1c2VyX25hbWUiLCJ1c2VyX3Bhc3N3b3JkIiwidXNlcl9waWN0dXJlX3VybCIsIl9pZCIsIl9yZXYiLCJfZGIiLCJwdXQiLCJQb3VjaERCIiwic2F2ZVJlcG9ydCIsImRhdGUiLCJuZXdfcmVwb3J0X2lkIiwiZ2V0TWlsbGlzZWNvbmRzIiwidXBkYXRlUmVwb3J0IiwiZ2V0Q2F0ZWdvcmllcyIsInNhdmVDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsImdldFJlcG9ydCIsInJlcG9ydElkIiwiZ2V0QWxsUmVwb3J0cyIsImFsbERvY3MiLCJpbmNsdWRlX2RvY3MiLCJhdHRhY2htZW50cyIsInN0YXJ0a2V5IiwiZW5ka2V5IiwiZGVsZXRlUmVwb3J0IiwicmVwb3J0X2lkIiwiZGVsZXRlR2l2ZW5SZXBvcnQiLCJqc29uUmVzdWx0IiwiZXJyb3JDb250YWluZXJJZCIsImVycm9yRGl2IiwiU3RhdHVzIiwiTWVzc2FnZSIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cCIsImh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgiLCJzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAiLCJlcnJvcnMiLCJ2YWxpZGF0ZV9ub3RfZW1wdHkiLCJ2YWxpZGF0ZV9lbWFpbCIsInZhbGlkYXRlX2lkZG9jX3V5IiwidmFsaWRhdGVfdHdvX3dvcmRzIiwidmFsaWRhdGVfZXF1YWxzVG8iLCIkaW9uaWNMb2FkaW5nIiwiTE9BREVSQVBJIiwic2hvd0xvYWRpbmciLCJ0ZXh0IiwiaGlkZUxvYWRpbmciLCJ0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2UiLCJzZWxmIiwidGhpcyIsImNvbmZpcm1Qb3B1cCIsImNvbmZpcm0iLCJzaG93QWxlcnQiLCJfdGl0bGUiLCJfdGVtcGxhdGUiLCJsb2NhdGlvbnNPYmoiLCJsYXN0X3VzZXJfbGF0IiwibGFzdF91c2VyX2xuZyIsInNlbGVjdGVkX2NvdW5jaWwiLCJzZWxlY3RDb3VuY2lsIiwiY291bmNpbE5hbWUiLCJzYXZlX2xhc3RfdXNlcl9wb3NpdGlvbiIsInNhdmVkTG9jYXRpb25zIiwicHJvajQiLCJkZWZzIiwibWFwU2VydmljZSIsImdvVG9QbGFjZSIsIl9nZW9Kc29uIiwiY3JzIiwicHJvcGVydGllcyIsImZlYXR1cmVzIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsIm5vbWJyZSIsIl9sYXRsbmciLCJQcm9qIiwiZ2VvSnNvbiIsInBvaW50VG9MYXllciIsImxhdGxuZyIsImh0bWxQb3BVcCIsImNvbXBpbGVkIiwibWFya2VyIiwiYmluZFBvcHVwIiwiYWRkVG8iLCJzZXRWaWV3Iiwib3BlblBvcHVwIiwibW9kYWxPQkoiLCJQaW4iLCJfZGF0YSIsImV4dGVuZCIsInBpbnNVUkwiLCJhcGlVUkwiLCJnZXRBbGwiLCJoYXNoX2lkIiwicmFuZG9tIiwic2VuZFVzZXJMb2NhdGlvbiIsIl9hbGwiLCJjdXJyZW50IiwibGFzdFBpbnNSZXNwb25zZSIsImJ1aWxkIiwicHJvdG90eXBlIiwiYWxlcnRfdGl0bGUiLCJhbGVydF9tZXNzYWdlIiwiYXNrRm9yT25lVmFsdWVQb3BVcCIsImZpZWxkX25hbWUiLCJ2YWxpZGF0aW9uVHlwZSIsIm15UG9wdXAiLCJzdWJUaXRsZSIsImJ1dHRvbnMiLCJvblRhcCIsInByZXZlbnREZWZhdWx0Iiwic2VtYXBob3JlT2JqIiwic2VtYXBob3JlcyIsInNlbWFwaG9yZUlkIiwiQXBpSW1FbmRwb2ludCIsIkFwaURhdGFFbmRwb2ludCIsInJlc3RQcmVmZml4IiwibG9jYXRpb25BUEkiLCJzZWFyY2hMb2NhdGlvbkJ5U3RyIiwiX2xvY2F0aW9uIiwibWV0aG9kIiwic2VhcmNoRXNxdWluYUJ5U3RyIiwiY2FsbGUiLCJlc3F1aW5hIiwiZ2V0TG9jYXRpb25HZW9tIiwiZ2V0UGFyYW1QYXRoQnlUaXBvIiwidGlwbyIsImkiLCJwYXRoUGFyYW1zIiwibGVuZ3RoIiwiZ2V0TG9jYXRpb25HZW9tUE1CIiwiZXNxdWluYV9udW1lcm8iLCJfdGlwbyIsInJlc3RHZW9EYXRhU2VydmljZVBhdGgiLCJFU1FVSU5BIiwiRElSRUNDSU9OIiwiVXNlck9iaiIsImdldF91c2VyX2RhdGEiLCJhZGRfcGhvdG8iLCJpc0xvZ2dlZCIsInZhbHVlcyIsImZpbHRlciIsInYiLCJyZSIsInRlc3QiLCJyZXBsYWNlIiwiZGlnIiwicGFyc2VJbnQiXSwibWFwcGluZ3MiOiJBQU9BLEdBQUlBLFNBQ0ZDLFlBQWFDLFFBQVFDLE9BQU8seUJBQzVCQyxTQUFVRixRQUFRQyxPQUFPLHNCQUczQkgsUUFBT0ssSUFBTUgsUUFBUUMsT0FBTyxVQUFXLFFBQVEsZUFBZSxtQkFBbUIsb0JBQXFCLHFCQUFzQixrQkFBbUIsY0FFOUlHLFNBQVMsaUJBQ1JDLElBQUssaUNBR05ELFNBQVMsbUJBQ1JDLElBQUssNkNBSU5DLEtBQUEsaUJBQUEsYUFBQSxtQkFBSSxTQUFTQyxFQUFnQkMsRUFBWUMsR0FDeENELEVBQVdFLFFBQVVDLE9BQU9ELFFBQzVCSCxFQUFlSyxNQUFNLFdBR2ZELE9BQU9FLFNBQVdGLE9BQU9FLFFBQVFDLFFBQVFDLFdBQzNDRixRQUFRQyxRQUFRQyxTQUFTQywwQkFBeUIsR0FDbERILFFBQVFDLFFBQVFDLFNBQVNFLGVBQWMsSUFJekNDLE1BQU1DLFNBQVNDLGNBQWUsRUFDMUJU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QSxHQUE2QixJQUFQQSxFQUFVLENBQ2hELEdBQUk0UixHQUFLLHdKQUNULE9BQU9BLEdBQUdDLEtBQUs3UixHQUVmLE9BQU8sR0FJYm9MLGtCQUFtQixTQUFVcEwsR0FDM0IsR0FBVSxNQUFQQSxHQUFzQixhQUFQQSxHQUE2QixJQUFQQSxFQUFVLENBQzlDQSxFQUFRQSxFQUFNOFIsUUFBUSxNQUFPLEdBQzdCLElBQUlDLEdBQU0vUixFQUFNQSxFQUFNOFEsT0FBUyxHQUMzQjlTLEVBQUksRUFBTzRTLEVBQUksQ0FDbkIsSUFBRzVRLEVBQU04USxRQUFVLEVBQ2pCLElBQUlGLEVBQUk1USxFQUFNOFEsT0FBUUYsRUFBSSxFQUFHQSxJQUMzQjVRLEVBQVEsSUFBTUEsQ0FHbEIsS0FBSTRRLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNoQjVTLEdBQU1nVSxTQUFTLFVBQVVwQixJQUFNb0IsU0FBU2hTLEVBQU00USxJQUFPLEVBRXZELElBQUl2VyxFQU1KLE9BSkVBLEdBREMyRCxFQUFFLEtBQU8sRUFDRCxFQUVBLEdBQUtBLEVBQUksR0FFakIrVCxHQUFPMVgsRUFNWixPQUFPIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIElvbmljIFN0YXJ0ZXIgQXBwXG5cbi8vIGFuZ3VsYXIubW9kdWxlIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhciBtb2R1bGVzXG4vLyAncG1iX2ltJyBpcyB0aGUgbmFtZSBvZiB0aGlzIGFuZ3VsYXIgbW9kdWxlIGV4YW1wbGUgKGFsc28gc2V0IGluIGEgPGJvZHk+IGF0dHJpYnV0ZSBpbiBpbmRleC5odG1sKVxuLy8gdGhlIDJuZCBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2YgJ3JlcXVpcmVzJ1xuLy8gJ3N0YXJ0ZXIuc2VydmljZXMnIGlzIGZvdW5kIGluIHNlcnZpY2VzLmpzXG4vLyAnc3RhcnRlci5jb250cm9sbGVycycgaXMgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbnZhciBwbWJfaW0gPSB7XG4gIGNvbnRyb2xsZXJzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLmNvbnRyb2xsZXJzJywgW10pLFxuICBzZXJ2aWNlczogYW5ndWxhci5tb2R1bGUoJ3BtYl9pbS5zZXJ2aWNlcycsIFtdKVxufTtcblxucG1iX2ltLmFwcCA9IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0nLCBbJ2lvbmljJywnaW9uaWMud2l6YXJkJywnaW9uLWF1dG9jb21wbGV0ZScsJ2xlYWZsZXQtZGlyZWN0aXZlJywgJ3BtYl9pbS5jb250cm9sbGVycycsICdwbWJfaW0uc2VydmljZXMnLCAnbmdDb3Jkb3ZhJ10pXG5cbi5jb25zdGFudCgnQXBpSW1FbmRwb2ludCcsIHtcbiAgdXJsOiAnaHR0cDovL3d3dy5tb250ZXZpZGVvLmd1Yi51eSdcbn0pXG5cbi5jb25zdGFudCgnQXBpRGF0YUVuZHBvaW50Jywge1xuICB1cmw6ICdodHRwOi8vYmFja2VuZC5lZHVjYWNpb24udGhvci5kYXRhdXkub3JnJ1xufSlcblxuXG4ucnVuKGZ1bmN0aW9uKCRpb25pY1BsYXRmb3JtLCAkcm9vdFNjb3BlLCAkY29yZG92YUtleWJvYXJkKSB7XG4gICRyb290U2NvcGUuVkVSU0lPTiA9IHdpbmRvdy5WRVJTSU9OO1xuICAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAvLyBIaWRlIHRoZSBhY2Nlc3NvcnkgYmFyIGJ5IGRlZmF1bHQgKHJlbW92ZSB0aGlzIHRvIHNob3cgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkXG4gICAgLy8gZm9yIGZvcm0gaW5wdXRzKVxuICAgIGlmICh3aW5kb3cuY29yZG92YSAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkKSB7XG4gICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKGZhbHNlKTtcbiAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKTtcbiAgICB9XG4gICAgLy8kY29yZG92YUtleWJvYXJkLmhpZGVBY2Nlc3NvcnlCYXIoZmFsc2UpXG4gICAgLy8kY29yZG92YUtleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpXG4gICAgaW9uaWMuUGxhdGZvcm0uaXNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICBpZiAod2luZG93LlN0YXR1c0Jhcikge1xuICAgICAgLy8gb3JnLmFwYWNoZS5jb3Jkb3ZhLnN0YXR1c2JhciByZXF1aXJlZFxuICAgICAgU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG59KVxuXG4uY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIsICRpb25pY0NvbmZpZ1Byb3ZpZGVyKSB7XG4gICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSk7XG4gIC8vJGlvbmljQ29uZmlnUHJvdmlkZXIuc2Nyb2xsaW5nLmpzU2Nyb2xsaW5nKHRydWUpO1xuXG4gIC8vIElvbmljIHVzZXMgQW5ndWxhclVJIFJvdXRlciB3aGljaCB1c2VzIHRoZSBjb25jZXB0IG9mIHN0YXRlc1xuICAvLyBMZWFybiBtb3JlIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlclxuICAvLyBTZXQgdXAgdGhlIHZhcmlvdXMgc3RhdGVzIHdoaWNoIHRoZSBhcHAgY2FuIGJlIGluLlxuICAvLyBFYWNoIHN0YXRlJ3MgY29udHJvbGxlciBjYW4gYmUgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbiAgJHN0YXRlUHJvdmlkZXJcblxuLnN0YXRlKCdhcHAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvYXBwXCIsXG4gICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21lbnUuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6ICdBYnNDb250cm9sbGVyJ1xuICB9KVxuXG4uc3RhdGUoJ2FwcC5tYXAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvbWFwXCIsXG4gICAgdmlld3M6IHtcbiAgICAgICdtZW51Q29udGVudCcgOntcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21hcC5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXIgOiBcIk1hcENvbnRyb2xsZXJcIlxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuLnN0YXRlKCdhcHAuaW50cm8nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9pbnRyb1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9pbnRyby5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJJbnRyb0N0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvaW50cm8nKTtcblxufSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignQWJzQ29udHJvbGxlcicsXG5bJyRzY29wZScsXG5mdW5jdGlvbigkc2NvcGUpIHtcblxufV0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGRiID0gREJTZXJ2aWNlLmluaXREQigpO1xuICBkYi5pbmZvKCkudGhlbihjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKTtcblxuICAkc2NvcGUuZ2VvbG9jYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDM1MDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfaW5pdGlhbF9wb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5lbnRlcicsIGZ1bmN0aW9uKCl7IC8vVGhpcyBpcyBmaXJlZCB0d2ljZSBpbiBhIHJvd1xuICAgICAgaWYoTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsIT1udWxsKXtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsLmhpZGUoKTtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgICRzY29wZS5nZW9sb2NhdGUoKTtcbiAgIH0pO1xuXG4gIH1cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcENvbnRyb2xsZXInLCBbJyRzY29wZScsICdfJyxcbiAgJyRjb3Jkb3ZhQ2FtZXJhJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJGNvbXBpbGUnLFxuICAnJGlvbmljTW9kYWwnLFxuICAnJGlvbmljUG9wdXAnLFxuICAnbGVhZmxldERhdGEnLFxuICAnQ29uZmlnU2VydmljZScsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ1BpblNlcnZpY2UnLFxuICAnQXV0aFNlcnZpY2UnLFxuICAnVXNlclNlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgJyR0aW1lb3V0JyxcbiAgJyRpbnRlcnZhbCcsXG4gICckbG9jYXRpb24nLFxuICAnRXJyb3JTZXJ2aWNlJyxcbiAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuICAnUG9wVXBTZXJ2aWNlJyxcbiAgJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLFxuICAnJGNvcmRvdmFJbkFwcEJyb3dzZXInLFxuICAnTWFwU2VydmljZScsXG4gICdNb2RhbFNlcnZpY2UnLFxuICAnU2VtYXBob3JlU2VydmljZScsXG4gICdWYWxpZGF0aW9uU2VydmljZScsXG4gIGZ1bmN0aW9uKFxuICAgICRzY29wZSxcbiAgICBfLFxuICAgICRjb3Jkb3ZhQ2FtZXJhLFxuICAgICRjb3Jkb3ZhR2VvbG9jYXRpb24sXG4gICAgJGNvbXBpbGUsXG4gICAgJGlvbmljTW9kYWwsXG4gICAgJGlvbmljUG9wdXAsXG4gICAgbGVhZmxldERhdGEsXG4gICAgQ29uZmlnU2VydmljZSxcbiAgICBMb2NhdGlvbnNTZXJ2aWNlLFxuICAgIFBpblNlcnZpY2UsXG4gICAgQXV0aFNlcnZpY2UsXG4gICAgVXNlclNlcnZpY2UsXG4gICAgREJTZXJ2aWNlLFxuICAgICR0aW1lb3V0LFxuICAgICRpbnRlcnZhbCxcbiAgICAkbG9jYXRpb24sXG4gICAgRXJyb3JTZXJ2aWNlLFxuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUsXG4gICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUsXG4gICAgUG9wVXBTZXJ2aWNlLFxuICAgIENvbm5lY3Rpdml0eVNlcnZpY2UsXG4gICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIsXG4gICAgTWFwU2VydmljZSxcbiAgICBNb2RhbFNlcnZpY2UsXG4gICAgU2VtYXBob3JlU2VydmljZSxcbiAgICBWYWxpZGF0aW9uU2VydmljZVxuICApIHtcblxuICAgIC8qKlxuICAgICAqIE9uY2Ugc3RhdGUgbG9hZGVkLCBnZXQgcHV0IG1hcCBvbiBzY29wZS5cbiAgICAgKi9cbiAgICAkc2NvcGUub25saW5lX3VzZXJfZ2VvID0ge307XG4gICAgJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheSA9IG5ldyBBcnJheSgpO1xuICAgICRzY29wZS5iYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMO1xuICAgICRzY29wZS5BcHBOYW1lID0gQ29uZmlnU2VydmljZS5BcHBOYW1lO1xuICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZSA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAkc2NvcGUub25lX3ZhbHVlX3BvcHVwID0gbnVsbDtcbiAgICAkc2NvcGUubXlJbnRlcnZhbHMgPSBuZXcgQXJyYXkoKTtcblxuICAgICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmJlZm9yZUVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgREJTZXJ2aWNlLmluaXREQigpO1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJHNjb3BlLnNldF9vZmZsaW5lX3VzZXIoKTtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYWZ0ZXJFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXAgPSBsZWFmbGV0RGF0YS5nZXRNYXAoKTtcbiAgICAgIGlmKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQhPVwiXCIpe1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQsIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcsIDE2KTtcbiAgICAgIH1lbHNle1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKC0zNC45MDExMTMsIC01Ni4xNjQ1MzEsIDE0KTtcbiAgICAgIH1cblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9KTtcblxuXG4gICAgJHNjb3BlLm9wZW5XZWJzaXRlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vJyxcbiAgICAgICAgICAgICAgICBjbGVhcmNhY2hlOiAneWVzJyxcbiAgICAgICAgICAgICAgICB0b29sYmFyOiAnbm8nXG4gICAgICAgICAgICB9O1xuXG4gICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4odXJsLCAnX2JsYW5rJywgb3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICB0aWxlTGF5ZXI6ICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgbWluWm9vbTogMSxcbiAgICAgICAgICBtYXhab29tOiAxOCxcbiAgICAgICAgICB6b29tQ29udHJvbFBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICAgIG1hcmtlcnM6IHt9LFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgIGVuYWJsZTogWydjb250ZXh0J10sXG4gICAgICAgICAgICBsb2dpYzogJ2VtaXQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgICRzY29wZS5sb2FkUGluc0xheWVyKCk7XG4gICAgICAkc2NvcGUubWFwLmNlbnRlciA9IHtcbiAgICAgICAgICBsYXQ6IC0zNC45MDExMTMsXG4gICAgICAgICAgbG5nOiAtNTYuMTY0NTMxLFxuICAgICAgICAgIHpvb206IDE2XG4gICAgICAgIH07XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBtYXAub24oJ21vdmVlbmQnLCAkc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMpO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLm5leHQoKTtcbiAgfTtcblxuICAkc2NvcGUucHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnByZXZpb3VzKCk7XG4gIH07XG5cbiAgJHNjb3BlLmJhY2tfdG9fbWFwID0gZnVuY3Rpb24oYmFja190b19tYXApe1xuICAgIGlmKGJhY2tfdG9fbWFwKXtcbiAgICAgIC8vTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCA9ICRzY29wZS5yZXBvcnQubGF0O1xuICAgICAgLy9Mb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbG5nID0gJHNjb3BlLnJlcG9ydC5sb247XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIC8vJHNjb3BlLmFkZFJlcG9ydHNMYXllcigpO1xuICAgIH1lbHNle1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICB9XG5cblxuICAkc2NvcGUuaW1hZ2UgPSBudWxsO1xuXG4gICRzY29wZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKGlzRnJvbUFsYnVtLCBpc1VzZXJQaG90bywgaXNDb21tZW50UGhvdG8sIGlzTmV3VXNlclBob3RvKSB7XG4gICAgLy9hbGVydChcImFkZEltYWdlXCIpO1xuICAgICRzY29wZS5pc1VzZXJQaG90byA9IGlzVXNlclBob3RvO1xuICAgICRzY29wZS5pc0NvbW1lbnRQaG90byA9IGlzQ29tbWVudFBob3RvO1xuICAgICRzY29wZS5pc05ld1VzZXJQaG90byA9IGlzTmV3VXNlclBob3RvO1xuXG4gICAgdmFyIHNvdXJjZSA9IENhbWVyYS5QaWN0dXJlU291cmNlVHlwZS5DQU1FUkE7XG4gICAgdmFyIGZpeF9vcmllbnRhdGlvbiA9IHRydWU7XG4gICAgdmFyIHNhdmVfdG9fZ2FsbGVyeSA9IHRydWU7XG4gICAgaWYoaXNGcm9tQWxidW09PTEpe1xuICAgICAgc291cmNlID0gQ2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLlBIT1RPTElCUkFSWTtcbiAgICAgIGZpeF9vcmllbnRhdGlvbiA9IGZhbHNlO1xuICAgICAgc2F2ZV90b19nYWxsZXJ5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBxdWFsaXR5OiA5MCxcbiAgICAgIGRlc3RpbmF0aW9uVHlwZTogQ2FtZXJhLkRlc3RpbmF0aW9uVHlwZS5GSUxFX1VSSSxcbiAgICAgIHNvdXJjZVR5cGU6IHNvdXJjZSxcbiAgICAgIGFsbG93RWRpdDogZmFsc2UsXG4gICAgICBjb3JyZWN0T3JpZW50YXRpb24gOiBmaXhfb3JpZW50YXRpb24sXG4gICAgICBlbmNvZGluZ1R5cGU6IENhbWVyYS5FbmNvZGluZ1R5cGUuSlBFRyxcbiAgICAgIHBvcG92ZXJPcHRpb25zOiBDYW1lcmFQb3BvdmVyT3B0aW9ucyxcbiAgICAgIHNhdmVUb1Bob3RvQWxidW06IHNhdmVfdG9fZ2FsbGVyeSxcbiAgICAgIHRhcmdldFdpZHRoOiA1MDAsXG4gICAgICB0YXJnZXRIZWlnaHQ6IDUwMFxuICAgIH07XG5cblxuICAgICRjb3Jkb3ZhQ2FtZXJhLmdldFBpY3R1cmUob3B0aW9ucykudGhlbihmdW5jdGlvbihpbWFnZURhdGEpIHtcbiAgICAgIG9uSW1hZ2VTdWNjZXNzKGltYWdlRGF0YSk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uSW1hZ2VTdWNjZXNzKGZpbGVVUkkpIHtcbiAgICAgICAgd2luZG93LkZpbGVQYXRoLnJlc29sdmVOYXRpdmVQYXRoKGZpbGVVUkksIGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIC8vIG9uU3VjY2VzcyBjb2RlXG4gICAgICAgICAgLy9hbGVydChyZXN1bHQpO1xuICAgICAgICAgIGZpbGVVUkkgPSAnZmlsZTovLycgKyByZXN1bHQ7XG4gICAgICAgICAgaWYocmVzdWx0LnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpKXtcbiAgICAgICAgICAgIGZpbGVVUkkgPSByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCRzY29wZS5pc1VzZXJQaG90bz09MSl7XG4gICAgICAgICAgICAvL1VzZXJTZXJ2aWNlLmFkZF9waG90byhmaWxlVVJJKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLnBpY3R1cmVfdXJsID0gZmlsZVVSSTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmKCRzY29wZS5pc0NvbW1lbnRQaG90bz09MSl7XG4gICAgICAgICAgICAgICRzY29wZS5jb21tZW50LmZpbGUgPSBmaWxlVVJJO1xuICAgICAgICAgICAgfWVsc2UgaWYoJHNjb3BlLmlzTmV3VXNlclBob3RvPT0xKXtcbiAgICAgICAgICAgICAgJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmwgPSBmaWxlVVJJO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAkc2NvcGUuaW1nVVJJID0gZmlsZVVSSTtcbiAgICAgICAgICAvL2NyZWF0ZUZpbGVFbnRyeShmaWxlVVJJKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBhbGVydChcIkVycm9yIHJlc29sdmVOYXRpdmVQYXRoXCIgKyBlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbGVFbnRyeShmaWxlVVJJKSB7XG4gICAgICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGZpbGVVUkksIGNvcHlGaWxlLCBmYWlsKTtcbiAgICAgIH1cblxuICAgICAgLy8gNVxuICAgICAgZnVuY3Rpb24gY29weUZpbGUoZmlsZUVudHJ5KSB7XG4gICAgICAgIHZhciBuYW1lID0gZmlsZUVudHJ5LmZ1bGxQYXRoLnN1YnN0cihmaWxlRW50cnkuZnVsbFBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgICB2YXIgbmV3TmFtZSA9IG1ha2VpZCgpICsgbmFtZTtcblxuICAgICAgICB3aW5kb3cucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChjb3Jkb3ZhLmZpbGUuZGF0YURpcmVjdG9yeSwgZnVuY3Rpb24oZmlsZVN5c3RlbTIpIHtcbiAgICAgICAgICAgIGZpbGVFbnRyeS5jb3B5VG8oXG4gICAgICAgICAgICAgIGZpbGVTeXN0ZW0yLFxuICAgICAgICAgICAgICBuZXdOYW1lLFxuICAgICAgICAgICAgICBvbkNvcHlTdWNjZXNzLFxuICAgICAgICAgICAgICBmYWlsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIDZcbiAgICAgIGZ1bmN0aW9uIG9uQ29weVN1Y2Nlc3MoZW50cnkpIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuaW1hZ2UgPSBlbnRyeS5uYXRpdmVVUkw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmYWlsKGVycm9yKSB7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWFrZWlkKCkge1xuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuXG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnVybEZvckltYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGltYWdlVVJMID0gXCJodHRwOi8vcGxhY2Vob2xkLml0LzIwMHgyMDBcIjtcbiAgICBpZiAoJHNjb3BlLmltYWdlKSB7XG4gICAgICB2YXIgbmFtZSA9ICRzY29wZS5pbWFnZS5zdWJzdHIoJHNjb3BlLmltYWdlLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgIGltYWdlVVJMID0gY29yZG92YS5maWxlLmRhdGFEaXJlY3RvcnkgKyBuYW1lO1xuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKFwiSW1hZ2VVUkwgPSBcIiArIGltYWdlVVJMKTtcbiAgICByZXR1cm4gaW1hZ2VVUkw7XG4gIH07XG5cblxuICAgICRzY29wZS5zY3JvbGxNZSA9IGZ1bmN0aW9uKGFuY2hvcl9pZCl7XG4gICAgICAkbG9jYXRpb24uaGFzaChhbmNob3JfaWQpO1xuICAgICAgdmFyIGhhbmRsZSAgPSAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS4kZ2V0QnlIYW5kbGUoJ2NvbnRlbnQnKTtcbiAgICAgIGhhbmRsZS5hbmNob3JTY3JvbGwoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24gPSBmdW5jdGlvbihidXR0b25pZCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uaWQpLmNsYXNzTmFtZSA9IFwib3B0aW9uLWFjdGl2ZVwiO1xuICAgIH1cblxuICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cyA9IGZ1bmN0aW9uKCl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX3JlcG9ydF9kZXRhaWxfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQgPSBudWxsO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2VudGVyIG1hcCBvbiB1c2VyJ3MgY3VycmVudCBwb3NpdGlvblxuICAgICAqL1xuICAgICRzY29wZS5sb2NhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubG5nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci56b29tID0gMTU7XG5cbiAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubm93ID0ge1xuICAgICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICBsbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIllvdSBBcmUgSGVyZVwiLFxuICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlXG4gICAgICAgICAgfTtcblxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2NhdGlvbiBlcnJvciFcIik7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cblxuXG4gICAgJHNjb3BlLmFkZE1hcENvbnRyb2xzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXBfY3Jvc3NoYWlyJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXBfY3Jvc3NoYWlyX2J1dHRvbicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICB9O1xuXG5cbiAgICAkc2NvcGUuY2hhbmdlVXNlckxvY2F0aW9uUGluID0gZnVuY3Rpb24obGF0LGxvbix1aWQpe1xuICAgICAgaWYoJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheVt1aWRdKXtcbiAgICAgICAgbGF5ZXIgPSAkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5W3VpZF07XG4gICAgICAgIHZhciBuZXdMYXRMbmcgPSBuZXcgTC5MYXRMbmcobGF0LCBsb24pO1xuICAgICAgICBsYXllci5zZXRMYXRMbmcobmV3TGF0TG5nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIHZhciBtYXBCb3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCk7XG4gICAgICAgICRzY29wZS51c2Vyc1Zpc2libGUgPSBbXTtcbiAgICAgICAgICAkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5LmZvckVhY2goZnVuY3Rpb24obGF5ZXIsa2V5KXtcbiAgICAgICAgICAgIHZhciBzaG91bGRCZVZpc2libGUgPSBtYXBCb3VuZHMuY29udGFpbnMobGF5ZXIuZ2V0TGF0TG5nKCkpO1xuICAgICAgICAgICAgaWYgKCFzaG91bGRCZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaG91bGRCZVZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgICRzY29wZS51c2Vyc1Zpc2libGUucHVzaChsYXllci5mZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIgPSBmdW5jdGlvbigpe1xuICAgICAgICAvKmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgIFBpblNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmKFBpblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZT09bnVsbCB8fCAoUGluU2VydmljZS5sYXN0UGluc1Jlc3BvbnNlICYmIFBpblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZSE9cmVzcG9uc2UpKXtcbiAgICAgICAgICAgICAgaWYoJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzVmlzaWJsZSA9IFtdO1xuICAgICAgICAgICAgICAgICRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXkuZm9yRWFjaChmdW5jdGlvbihsYXllcixrZXkpe1xuICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFBpblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0c0J5U3RhdGUgPSB7fTtcbiAgICAgICAgICAgICAgdmFyIHBpbnNBcnJheSA9IHJlc3BvbnNlLmRhdGEuZmVhdHVyZXM7XG4gICAgICAgICAgICAgICRzY29wZS5vbmxpbmVfdXNlcnNfZ2VvID0gcmVzcG9uc2UuZGF0YS5mZWF0dXJlcztcbiAgICAgICAgICAgICAgcGluc0FycmF5LmZvckVhY2goZnVuY3Rpb24oZmVhdHVyZSl7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9uID0gZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdCA9IGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV07XG4gICAgICAgICAgICAgICAgICAgIGlmKGxvbiYmbGF0KXtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgb25saW5lU3RhdHVzID0gZmVhdHVyZS5wcm9wZXJ0aWVzLk9ubGluZV9zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGljb24gPSBmZWF0dXJlLnByb3BlcnRpZXMuSWNvbjtcbiAgICAgICAgICAgICAgICAgICAgICBpZihpY29uPT1cImFub25cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uID0gXCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbl9zaGFkb3cgPSAnLi9pbWcvZ2VuZXJpY19waW5fcmVkLnBuZyc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYob25saW5lU3RhdHVzPT1cIk9ubGluZVwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25fc2hhZG93ID0gJy4vaW1nL2dlbmVyaWNfcGluX2dyZWVuLnBuZyc7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1VybDogaWNvbl9zaGFkb3csXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dTaXplOiAgIFsxMDAsIDEzOF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dBbmNob3I6IFs0NCwgMTM4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6IGljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzQ2LCA0Nl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbMjQsIDEyMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC0xMzhdXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGxheWVyID0gTC5tYXJrZXIoW2xhdCwgbG9uXSwge2ljb246IG1hcmtlckljb259KTtcbiAgICAgICAgICAgICAgICAgICAgICBsYXllci5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5W2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5VaWRdID0gbGF5ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcykge1xuXHRcdFx0Ly9BQ0EgU0VURUFSIEVMIE9OQ0xJQ0sgUEFSQSBMT1MgUElORVMgKHNlIHB1ZWRlIGFicmlyIHBvcHVwIGVuIGVsIG1hcGEgbyBsZXZhbnRhciB1biBtb2RhbCBvIGxvIHF1ZSBxdWllcmFuKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgJHNjb3BlLmhpZGVPZmZTY3JlZW5QaW5zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7Ki9cbiAgICB9XG5cbiAgICAvL1BBUkEgQ09OVFJPTEFSIEVMIEVOVEVSIEVOIEFMR1VOT1MgRk9STVNcbiAgICAvKiRzY29wZS5rZXlfcHJlc3MgPSBmdW5jdGlvbihldmVudCxzdGFnZSl7XG4gICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgICBpZihzdGFnZT09J3ByaXZhdGVfY2hhdCcpe1xuICAgICAgICBpZihrZXlDb2RlPT0xMyl7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmKGNvcmRvdmE9PT1udWxsKXtcblxuICAgICAgICAgICAgfWVsc2UgaWYoY29yZG92YSYmY29yZG92YS5wbHVnaW5zLktleWJvYXJkKXtcbiAgICAgICAgICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoKGVycikge1xuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSovXG5cblxuICAgICRzY29wZS50aW1lQ29udmVydGVyID0gZnVuY3Rpb24oVU5JWF90aW1lc3RhbXApe1xuICAgICAgdmFyIGEgPSBuZXcgRGF0ZShVTklYX3RpbWVzdGFtcCAqIDEwMDApO1xuICAgICAgdmFyIG1vbnRocyA9IFsnRW5lcm8nLCdGZWJyZXJvJywnTWFyem8nLCdBYnJpbCcsJ01heW8nLCdKdW5pbycsJ0p1bGlvJywnQWdvc3RvJywnU2V0aWVtYnJlJywnT2N0dWJyZScsJ05vdmllbWJyZScsJ0RpY2llbWJyZSddO1xuICAgICAgdmFyIHllYXIgPSBhLmdldEZ1bGxZZWFyKCk7XG4gICAgICAvL3ZhciBtb250aCA9IG1vbnRoc1thLmdldE1vbnRoKCldO1xuICAgICAgdmFyIG1vbnRoID0gYS5nZXRNb250aCgpO1xuICAgICAgaWYobW9udGg8MTApe1xuICAgICAgICBtb250aCA9IFwiMFwiK21vbnRoO1xuICAgICAgfVxuICAgICAgdmFyIGRheSA9IGEuZ2V0RGF0ZSgpO1xuICAgICAgaWYoZGF5PDEwKXtcbiAgICAgICAgZGF5ID0gXCIwXCIrZGF5O1xuICAgICAgfVxuICAgICAgdmFyIGhvdXIgPSBhLmdldEhvdXJzKCk7XG4gICAgICBpZihob3VyPDEwKXtcbiAgICAgICAgaG91ciA9IFwiMFwiK2hvdXI7XG4gICAgICB9XG4gICAgICB2YXIgbWluID0gYS5nZXRNaW51dGVzKCk7XG4gICAgICBpZihtaW48MTApe1xuICAgICAgICBtaW4gPSBcIjBcIittaW47XG4gICAgICB9XG4gICAgICB2YXIgc2VjID0gYS5nZXRTZWNvbmRzKCk7XG4gICAgICB2YXIgdGltZSA9IGRheSArICcvJyArIG1vbnRoICsgJy8nICsgeWVhciArICcgJyArIGhvdXIgKyAnOicgKyBtaW47XG4gICAgICByZXR1cm4gdGltZTtcbiAgICB9XG5cblxuXG4gICAgLy8gU3VnZ2VzdGlvblxuICAgICRzY29wZS5tb2RlbCA9IFtdO1xuICAgICRzY29wZS5leHRlcm5hbE1vZGVsID0gW107XG4gICAgJHNjb3BlLnNlbGVjdGVkSXRlbXMgPSBbXTtcbiAgICAkc2NvcGUucHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyA9IFtdO1xuICAgICRzY29wZS5jbGlja2VkVmFsdWVNb2RlbCA9IFwiXCI7XG4gICAgJHNjb3BlLnJlbW92ZWRWYWx1ZU1vZGVsID0gXCJcIjtcblxuXG4gICAgJHNjb3BlLml0ZW1zUmVtb3ZlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVzZXJfb3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICBpZihtZW51LnN0eWxlLmRpc3BsYXk9PVwiYmxvY2tcIil7XG4gICAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vY29uc29sZS5sb2coVXNlclNlcnZpY2UubmFtZSk7XG4gICAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9ObyBlc3RhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X3VzZXJfbWVudSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0nbm9uYXV0aC1saW5rJyBuZy1jbGljaz0nc2hvd19sb2dpbl9tb2RhbCgpJz5JbmljaWFyIHNlc2nDs248L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X3NpZ25fdXBfbW9kYWwoKSc+UmVnaXN0cmFyc2U8L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMTIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcxNTBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfdXNlcl9tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gVXNlclNlcnZpY2UubmFtZSArIFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwoKSc+TWkgcGVyZmlsPC9kaXY+XCI7XG4gICAgICAvL2h0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nY2hhbmdlX3Bhc3N3b3JkKCknPkNhbWJpYXIgY29udHJhc2XDsWE8L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2lnbl9vdXQoKSc+Q2VycmFyIHNlc2nDs248L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMjIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcyMDBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfTtcblxuICAgICRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkgPSBmdW5jdGlvbihuYW1lLHR5cGUsdmFsdWUpe1xuICAgICAgdmFyIGZpZWxkID0gbmV3IEFycmF5KCk7XG4gICAgICBmaWVsZC5uYW1lID0gbmFtZTtcbiAgICAgIGZpZWxkLnR5cGUgPSB0eXBlO1xuICAgICAgZmllbGQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBmaWVsZDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheV93aXRoX3R3b0ZpZWxkcyA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSxzZWNvbmRWYWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgZmllbGQuc2Vjb25kVmFsdWUgPSBzZWNvbmRWYWx1ZTtcbiAgICAgIHJldHVybiBmaWVsZDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmZpeF9mYl9pbWFnZV9saW5rID0gZnVuY3Rpb24odXJsKXtcbiAgICAgIGlmKHVybC5pbmRleE9mKFwiaHR0cDovL2dyYXBoLmZhY2Vib29rLmNvbVwiKSA+PSAwKXtcbiAgICAgICAgdmFyIHBhcnRzID0gdXJsLnNwbGl0KFwiaHR0cDovL2dyYXBoLmZhY2Vib29rLmNvbVwiKTtcbiAgICAgICAgdmFyIG5ld1VybCA9IFwiaHR0cDovL2dyYXBoLmZhY2Vib29rLmNvbVwiK3BhcnRzWzFdO1xuICAgICAgICByZXR1cm4gbmV3VXJsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxvZ19pbiA9IGZ1bmN0aW9uKHVzZXIsIHBhc3N3b3JkKXtcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwic3VibWl0LWZvcm1cIikpe1xuICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIlVzdWFyaW9cIixcIm5vdE51bGxcIix1c2VyKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIscGFzc3dvcmQpKTtcbiAgICAgICAgICBpZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGRzKGZpZWxkcyxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICBBdXRoU2VydmljZS5sb2dfaW4odXNlcixwYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwocmVzcCxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgcGhvdG8gPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8pO1xuICAgICAgICAgICAgICAgIGlmKHBob3RvPT1cImFub25cIil7XG4gICAgICAgICAgICAgICAgICBwaG90bz1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQsIHBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQscGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgLy9hbGVydChcIkVycm9yIGVuIHNpZ25faW5cIik7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIscmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIGluaWNpYXIgc2VzacOzbiBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmxvZ19pbl9iYWNrZ3JvdW5kID0gZnVuY3Rpb24odXNlciwgcGFzc3dvcmQpe1xuICAgICAgQXV0aFNlcnZpY2UubG9nX2luKHVzZXIscGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgocmVzcCkpe1xuICAgICAgICAgIHBob3RvID0gJHNjb3BlLmZpeF9mYl9pbWFnZV9saW5rKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvKTtcbiAgICAgICAgICBpZihwaG90bz09XCJhbm9uXCIpe1xuICAgICAgICAgICAgcGhvdG89XCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsIHBhc3N3b3JkLCBwaG90bywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcigkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lLHBhc3N3b3JkLHBob3RvLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlNob3dMb2NhdGlvbiwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG5cbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChyZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2lnbl9vdXQgPSBmdW5jdGlvbigpe1xuICAgICAgVXNlclNlcnZpY2UuZXJhc2VfdXNlcl9kYXRhKCk7XG4gICAgICBEQlNlcnZpY2UuZXJhc2VVc2VyKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfZWRpdF9wcm9maWxlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBsYSBpbmZvIGRlbCB1c3VhcmlvIGxvZ3VlYWRvIHkgY29uIGVsIHN1Ym1pdCBhIGVkaXRfcHJvZmlsZV9va1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLW1vZGFsXCIpKXtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmVtYWlsID0gVXNlclNlcnZpY2UuZW1haWw7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmdlbmRlciA9IFVzZXJTZXJ2aWNlLmdlbmRlcjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIudXNlcm5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5pbnRlcmVzdGVkID0gVXNlclNlcnZpY2UuaW50ZXJlc3RlZDtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuc3RhdHVzID0gVXNlclNlcnZpY2Uuc3RhdHVzO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5zaG93X2xvY2F0aW9uID0gVXNlclNlcnZpY2Uuc2hvd19sb2NhdGlvbjtcbiAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsO1xuICAgICAgICBpZigkc2NvcGUuYWN0dWFsX3Bob3RvIT1udWxsKXtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZigkc2NvcGUuYWN0dWFsX3Bob3RvPT1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIil7XG4gICAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgaWYoVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGVfd2l0aF9waG90by5odG1sJywge1xuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZWRpdF9wcm9maWxlX3dpdGhfcGhvdG9fZGVza3RvcC5odG1sJywge1xuICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLnJlYWRVUkwgPSBmdW5jdGlvbiAoaW5wdXQsdHlwZSkge1xuICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGlmKHR5cGU9PTEpe1xuICAgICAgICAgICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgICAgICB9ZWxzZSBpZiAodHlwZT09Mil7XG4gICAgICAgICAgJHNjb3BlLmNvbW1lbnQucGhvdG8gPSBpbnB1dC5maWxlc1swXTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLnJlcG9ydC5maWxlID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUltYWdlXCIpLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XG4gICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSB1cGRhdGVfdXNlclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuICAgICRzY29wZS5lZGl0X3Byb2ZpbGVfb2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmVkaXRfcHJvZmlsZSgpO1xuICAgIH1cblxuICAgICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgaWYocmVzcG9uc2UuZGF0YSl7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuZWRpdF9wcm9maWxlID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwic3VibWl0LWZvcm1cIikpe1xuICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAvKnZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29ycmVvIGVsZWN0csOzbmljb1wiLFwiZW1haWxcIixuZXdfZW1haWwpKTtcbiAgICAgICAgICAvL2ZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkPDqWR1bGEgZGUgSWRlbnRpZGFkXCIsXCJpZGRvY191eVwiLGlkX2RvYykpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJOb21icmUgeSBhcGVsbGlkb1wiLFwidHdvX3dvcmRzXCIsZnVsbG5hbWUpKTsqL1xuICAgICAgICAgIC8qaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpeyovXG4gICAgICAgICAgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQgPSBVc2VyU2VydmljZS5wYXNzd29yZDtcbiAgICAgICAgICAgIHZhciBlZGl0X3JlcXVlc3QgPSBBdXRoU2VydmljZS5lZGl0X3VzZXIoJHNjb3BlLm5ld3VzZXIpO1xuICAgICAgICAgICAgaWYoJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmw9PW51bGwgfHwgJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmw9PVwiXCIgfHwgIVZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgICBlZGl0X3JlcXVlc3Quc3VjY2VzcyhmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiAxMDAlXCI7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLGNvbmZpZyl7XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBlZGl0X3JlcXVlc3QudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgICBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLlBob3RvLCBkYXRhLlNob3dMb2NhdGlvbiwgZGF0YS5VaWQsIGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKGRhdGEuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCxkYXRhLlBob3RvLGRhdGEuU2hvd0xvY2F0aW9uLGRhdGEuVWlkLGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZhciBhbGVydCA9IFwiQ8OzZGlnbzogXCIgKyBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBPcmlnZW46IFwiICsgZXJyb3Iuc291cmNlO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBEZXN0aW5vOiBcIiArIGVycm9yLnRhcmdldDtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgaHR0cF9zdGF0dXM6IFwiICsgZXJyb3IuaHR0cF9zdGF0dXM7XG4gICAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIEJvZHk6IFwiICsgZXJyb3IuYm9keTtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgRXhjZXB0aW9uOiBcIiArIGVycm9yLmV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIsXCJIdWJvIHVuIGVycm9yIGVuIGVsIGVudsOtbzogXCIgKyBhbGVydCk7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkUHJvZ3Jlc3MgPSAocHJvZ3Jlc3MubG9hZGVkIC8gcHJvZ3Jlc3MudG90YWwpICogMTAwO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiBcIiArIE1hdGgucm91bmQoJHNjb3BlLnVwbG9hZFByb2dyZXNzKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8qfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBlZGl0YXIgc3UgcGVyZmlsIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgICRzY29wZS5zaG93X2xvZ2luX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIGxvZ2luIHkgYWhpIGxsYW1hIGFsIHNpZ25faW5cbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICRzY29wZS5ub25hdXRoID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5ub25hdXRoLnVzZXIgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubm9uYXV0aC5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvbG9nX2luLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUubG9naW5fb2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmxvZ19pbigkc2NvcGUubm9uYXV0aC51c2VyLCRzY29wZS5ub25hdXRoLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfbG9naW5fbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2hvd19zaWduX3VwX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vY2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIHNpZ25fdXAgeSBkZSBhaGkgbGxhbWFyIGFsIHNpZ25fdXBcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICRzY29wZS5uZXd1c2VyID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmVtYWlsID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5mdWxsbmFtZSA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmlkX2RvYyA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnRlbGVwaG9uZSA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnBob3RvID0gXCJcIjtcbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICBpZihWYWxpZGF0aW9uU2VydmljZS5pc01vYmlsZURldmljZSgpKXtcbiAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9zaWduX3VwLmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3NpZ25fdXBfZGVza3RvcC5odG1sJywge1xuICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2Vfc2lnbl91cF9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNpZ25fdXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJzdWJtaXQtZm9ybVwiKSl7XG4gICAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAvKmZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb3JyZW8gZWxlY3Ryw7NuaWNvXCIsXCJlbWFpbFwiLCRzY29wZS5uZXd1c2VyLmVtYWlsKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiVXN1YXJpb1wiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLnVzZXJuYW1lKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkfDqW5lcm9cIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5nZW5kZXIpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiSW50ZXJlc2FkbyBlblwiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLmludGVyZXN0ZWQpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRXN0YWRvXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIuc3RhdHVzKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIk1vc3RyYXIgdWJpY2FjacOzblwiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLnNob3dfbG9jYXRpb24pKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzKFwiJ0NvbnRyYXNlw7FhJyB5ICdDb25maXJtYXIgY29udHJhc2XDsWEnXCIsXCJlcXVhbHNUb1wiLCRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCAkc2NvcGUubmV3dXNlci5yZXBhc3N3b3JkKSk7Ki9cbiAgICAgICAgICAvL2lmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgIGlmKCRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsIT1udWxsICYmICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsIT1cIlwiICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgICBBdXRoU2VydmljZS5jcmVhdGVfdXNlcigkc2NvcGUubmV3dXNlcikudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiAxMDAlXCI7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZGF0YS5uYW1lLCBkYXRhLmVtYWlsLCAkc2NvcGUubmV3dXNlci5wYXNzd29yZCwgZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgZGF0YS5waG9uZSwgZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLlBob3RvLCBkYXRhLlNob3dMb2NhdGlvbiwgZGF0YS5VaWQsIGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKGRhdGEuTmFtZSxwYXNzd29yZCxkYXRhLlBob3RvLGRhdGEuU2hvd0xvY2F0aW9uLGRhdGEuVWlkLGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBBdXRoU2VydmljZS5jcmVhdGVfdXNlcigkc2NvcGUubmV3dXNlcikudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChyZXNwLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2Vfc2lnbl91cF9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiVXN1YXJpbyBjcmVhZG8gY29uIMOpeGl0b1wiLFxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8qfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHJlZ2lzdHJhcnNlIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl91cF9vayA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL2NvbnNvbGUubG9nKCRzY29wZS5uZXd1c2VyKTtcbiAgICAgICRzY29wZS5zaWduX3VwKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgIGlmKG5hbWU9PW51bGwpe1xuICAgICAgICAgIC8vU2kgSGF5IHVuIHVzdWFyaW8gZ3VhcmRhZG9cbiAgICAgICAgICB2YXIgdXNlciA9IERCU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgICAgdXNlci50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgIGlmKGRvYy5uYW1lIT1udWxsICYmIGRvYy5uYW1lIT1cIlwiICYmIGRvYy5uYW1lIT1cInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmxvZ19pbl9iYWNrZ3JvdW5kKGRvYy5uYW1lLCBkb2MucGFzc3dvcmQpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmw9PW51bGwgfHwgVXNlclNlcnZpY2UucGljdHVyZV91cmw9PVwiXCIpe1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyBubyB0aWVuZSBmb3RvIGRlZmluaWRhXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyB0aWVuZSBmb3RvXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL1NpIEhheSB1biB1c3VhcmlvIGd1YXJkYWRvXG4gICAgICAgICAgdmFyIHVzZXIgPSBEQlNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBpZihkb2MubmFtZSE9bnVsbCAmJiBkb2MubmFtZSE9XCJcIiAmJiBkb2MubmFtZSE9XCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRvYy5uYW1lLCBkb2MucGFzc3dvcmQsIGRvYy5waWN0dXJlX3VybCwgZG9jLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmw9PW51bGwgfHwgVXNlclNlcnZpY2UucGljdHVyZV91cmw9PVwiXCIpe1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyBubyB0aWVuZSBmb3RvIGRlZmluaWRhXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyB0aWVuZSBmb3RvXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUgPSBmdW5jdGlvbihoYXNQaG90byl7XG4gICAgICB2YXIgcGljdHVyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9waWN0dXJlXCIpO1xuICAgICAgaWYoaGFzUGhvdG89PTApe1xuICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZT1cIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmwhPW51bGwgJiYgVXNlclNlcnZpY2UucGljdHVyZV91cmwhPVwiXCIpe1xuICAgICAgICAgIC8vYWxlcnQoVXNlclNlcnZpY2UucGljdHVyZV91cmwpO1xuICAgICAgICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZT1Vc2VyU2VydmljZS5waWN0dXJlX3VybDtcbiAgICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBVc2VyU2VydmljZS5waWN0dXJlX3VybCArIFwiKVwiO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmZpbmRfbWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oXCJidXR0b24tZmluZC1tZVwiKTtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDEwMDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9O1xuICAgICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxhdCAgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubG5nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUscG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLnpvb20gPSAxODtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLnpvb20gPSAxNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLm5vdyA9IHtcbiAgICAgICAgICAgICAgICAgIGxhdDpwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICBsbmc6cG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiPHAgYWxpZ249J2NlbnRlcic+VGUgZW5jdWVudHJhcyBhcXXDrSA8YnIvPiA8YSBuZy1jbGljaz0nbmV3X3JlcG9ydCgxKTsnPkluaWNpYXIgcmVwb3J0ZSBlbiB0dSBwb3NpY2nDs24gYWN0dWFsPC9hPjwvcD5cIixcbiAgICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGdldE1lc3NhZ2VTY29wZTogZnVuY3Rpb24oKSB7IHJldHVybiAkc2NvcGU7IH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vJHNjb3BlLm1hcC5tYXJrZXJzLm5vdy5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiTG9jYXRpb24gZXJyb3IhXCIpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAoXCJObyBoZW1vcyBwb2RpZG8gZ2VvbG9jYWxpemFybG8uIMK/VGFsIHZleiBvbHZpZMOzIGhhYmlsaXRhciBsb3Mgc2VydmljaW9zIGRlIGxvY2FsaXphY2nDs24gZW4gc3UgZGlzcG9zaXRpdm8/XCIpXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5Db3VuY2lsU2VsZWN0b3IoKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9O1xuXG4gIH1cblxuXSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQXV0aFNlcnZpY2UnLCBbJyRodHRwJywgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJywgJ0NvbmZpZ1NlcnZpY2UnLCdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkY29yZG92YUZpbGVUcmFuc2ZlciwgQ29uZmlnU2VydmljZSwgVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIjtcblxuICByZXR1cm4ge1xuICAgIGxvZ19pbjogZnVuY3Rpb24gKHVzZXIscGFzc3dvcmQpIHtcbiAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXIrJyZwYXNzd29yZD0nK3Bhc3N3b3JkO1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2xvZ2luJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBzaWduX291dDogZnVuY3Rpb24gKHBhc3N3b3JkLCBlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJzaWduX291dFwiLCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSwgcGFyYW1zOiB7IHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLCBlbWFpbDogZW1haWwgfSB9KTtcbiAgICB9LFxuXG4gICAgY3JlYXRlX3VzZXI6IGZ1bmN0aW9uICh1c2VyT2JqKSB7XG4gICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgcGFyYW1zIDogeyAgdXNlcjogdXNlck9iai51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyT2JqLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJPYmouZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHVzZXJPYmouZ2VuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RlZDogdXNlck9iai5pbnRlcmVzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1c2VyT2JqLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHVzZXJPYmouc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJjcmVhdGVfdXNlclwiLCB1c2VyT2JqLnBpY3R1cmVfdXJsLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsKXtcbiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwaG90b1wiLCB1c2VyT2JqLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJ1c2VyXCIsIHVzZXJPYmoudXNlcm5hbWUpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBhc3N3b3JkXCIsIHVzZXJPYmoucGFzc3dvcmQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImVtYWlsXCIsIHVzZXJPYmouZW1haWwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImdlbmRlclwiLCB1c2VyT2JqLmdlbmRlcik7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiaW50ZXJlc3RlZFwiLCB1c2VyT2JqLmludGVyZXN0ZWQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInN0YXR1c1wiLCB1c2VyT2JqLnN0YXR1cyk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic2hvd19sb2NhdGlvblwiLCB1c2VyT2JqLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnY3JlYXRlX3VzZXInLCBmb3JtRGF0YSwge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eVxuICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlck9iai51c2VybmFtZSsnJnBhc3N3b3JkPScrdXNlck9iai5wYXNzd29yZCsnJmVtYWlsPScrdXNlck9iai5lbWFpbCsnJmdlbmRlcj0nK3VzZXJPYmouZ2VuZGVyO1xuICAgICAgICAgIGJvZHkgPSBib2R5ICsnJmludGVyZXN0ZWQ9Jyt1c2VyT2JqLmludGVyZXN0ZWQrJyZzdGF0dXM9Jyt1c2VyT2JqLnN0YXR1cysnJnNob3dfbG9jYXRpb249Jyt1c2VyT2JqLnNob3dfbG9jYXRpb247XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdjcmVhdGVfdXNlcicsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSxcblxuICAgIHBhc3N3b3JkX3JlY292ZXJ5OiBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiZm9yZ290X3Bhc3N3b3JkXCIsIHsgcGFyYW1zOiB7IGxvZ2luX2VtYWlsOiBlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgcGFzc3dvcmRfY2hhbmdlOiBmdW5jdGlvbiAoZW1haWwsb2xkUGFzc3dvcmQsbmV3UGFzc3dvcmQsY29uZmlybVBhc3N3b3JkKSB7XG5cbiAgICAgIHZhciBib2R5ID0gJ2VtYWlsPScrZW1haWwrJyZwYXNzd29yZF9zaWduX2luPScrb2xkUGFzc3dvcmQrJyZuZXdfcGFzc3dvcmQ9JytuZXdQYXNzd29yZCsnJmNvbmZpcm09Jytjb25maXJtUGFzc3dvcmQ7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NoYW5nZV9wYXNzd29yZCcsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG5cbiAgICB9LFxuXG5cbiAgICBlZGl0X3VzZXI6IGZ1bmN0aW9uICh1c2VyT2JqKSB7XG4gICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgcGFyYW1zIDogeyAgdXNlcjogdXNlck9iai51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyT2JqLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJPYmouZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHVzZXJPYmouZ2VuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RlZDogdXNlck9iai5pbnRlcmVzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1c2VyT2JqLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHVzZXJPYmouc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJlZGl0X3Byb2ZpbGVcIiwgdXNlck9iai5waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJPYmoudXNlcm5hbWUrJyZwYXNzd29yZD0nK3VzZXJPYmoucGFzc3dvcmQrJyZlbWFpbD0nK3VzZXJPYmouZW1haWwrJyZnZW5kZXI9Jyt1c2VyT2JqLmdlbmRlcjtcbiAgICAgICAgYm9keSA9IGJvZHkgKycmaW50ZXJlc3RlZD0nK3VzZXJPYmouaW50ZXJlc3RlZCsnJnN0YXR1cz0nK3VzZXJPYmouc3RhdHVzKycmc2hvd19sb2NhdGlvbj0nK3VzZXJPYmouc2hvd19sb2NhdGlvbjtcbiAgICAgICAgaWYodXNlck9iai5waWN0dXJlX3VybCl7XG4gICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwicGhvdG9cIiwgdXNlck9iai5waWN0dXJlX3VybCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwidXNlclwiLCB1c2VyT2JqLnVzZXJuYW1lKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwYXNzd29yZFwiLCB1c2VyT2JqLnBhc3N3b3JkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJlbWFpbFwiLCB1c2VyT2JqLmVtYWlsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJnZW5kZXJcIiwgdXNlck9iai5nZW5kZXIpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImludGVyZXN0ZWRcIiwgdXNlck9iai5pbnRlcmVzdGVkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJzdGF0dXNcIiwgdXNlck9iai5zdGF0dXMpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInNob3dfbG9jYXRpb25cIiwgdXNlck9iai5zaG93X2xvY2F0aW9uKTtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2VkaXRfcHJvZmlsZScsIGZvcm1EYXRhLCB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZWRpdF9wcm9maWxlJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29uZmlnU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHZhciBDb25maWdPYmogPSB7fTtcbiAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcImh0dHA6Ly9iYWNrZW5kLmVkdWNhY2lvbi50aG9yLmRhdGF1eS5vcmdcIjtcbiAgaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgIENvbmZpZ09iai5iYXNlVVJMID0gXCJodHRwOi8vYmFja2VuZC5lZHVjYWNpb24udGhvci5kYXRhdXkub3JnXCI7XG4gIH0gZWxzZSB7XG4gICAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcIi9iYWNrZW5kXCI7XG4gIH1cbiAgQ29uZmlnT2JqLkFwcE5hbWUgPSBcIkVkdWNhY2nDs24gLSBBTFRFQ1wiO1xuXG5cbiAgcmV0dXJuIENvbmZpZ09iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLCBbJyRjb3Jkb3ZhTmV0d29yaycsIGZ1bmN0aW9uKCRjb3Jkb3ZhTmV0d29yayl7XG5cbiAgcmV0dXJuIHtcbiAgICBpc09ubGluZTogZnVuY3Rpb24oKXtcbiAgICAgIC8qaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFOZXR3b3JrLmlzT25saW5lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICB9Ki9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaXNPZmZsaW5lOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgLyppZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHJldHVybiAhJGNvcmRvdmFOZXR3b3JrLmlzT25saW5lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gIW5hdmlnYXRvci5vbkxpbmU7XG4gICAgICB9Ki9cbiAgICB9XG4gIH1cbn1dKVxuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0RCU2VydmljZScsIFsnJHEnLCBmdW5jdGlvbigkcSkge1xuICAgdmFyIF9kYjtcblxuICAgcmV0dXJuIHtcbiAgICAgICBpbml0REI6IGluaXREQixcbiAgICAgICBzYXZlVXNlcjogc2F2ZVVzZXIsXG4gICAgICAgZ2V0VXNlcjogZ2V0VXNlcixcbiAgICAgICBlcmFzZVVzZXI6IGVyYXNlVXNlcixcbiAgICAgICBzYXZlUmVwb3J0OiBzYXZlUmVwb3J0LFxuICAgICAgIGdldFJlcG9ydDogZ2V0UmVwb3J0LFxuICAgICAgIGdldEFsbFJlcG9ydHM6IGdldEFsbFJlcG9ydHMsXG4gICAgICAgdXBkYXRlUmVwb3J0OiB1cGRhdGVSZXBvcnQsXG4gICAgICAgZGVsZXRlUmVwb3J0OiBkZWxldGVSZXBvcnQsXG4gICAgICAgZGVsZXRlR2l2ZW5SZXBvcnQ6IGRlbGV0ZUdpdmVuUmVwb3J0LFxuICAgICAgIGdldENhdGVnb3JpZXM6IGdldENhdGVnb3JpZXMsXG4gICAgICAgc2F2ZUNhdGVnb3JpZXM6IHNhdmVDYXRlZ29yaWVzXG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlVXNlcih1c2VyX25hbWUsIHVzZXJfcGFzc3dvcmQsIHVzZXJfcGljdHVyZV91cmwsc2hvd19sb2NhdGlvbiwgdWlkLCBzdGF0dXMsIGdlbmRlciwgaW50ZXJlc3RlZCkge1xuICAgICAgICAgdmFyIHVzZXIgPSB7XG4gICAgICAgICAgICBfaWQ6ICd1c2VyLWxvZ2dlZCcsXG4gICAgICAgICAgICBuYW1lOiB1c2VyX25hbWUsXG4gICAgICAgICAgICBwYXNzd29yZDogdXNlcl9wYXNzd29yZCxcbiAgICAgICAgICAgIHBpY3R1cmVfdXJsOiB1c2VyX3BpY3R1cmVfdXJsLFxuICAgICAgICAgICAgc2hvd19sb2NhdGlvbjogc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgIHVpZDogdWlkLFxuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgICBnZW5kZXI6IGdlbmRlcixcbiAgICAgICAgICAgIGludGVyZXN0ZWQ6IGludGVyZXN0ZWRcbiAgICAgICAgIH07XG4gICAgICAgICBnZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgIHVzZXIuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgICAgICByZXR1cm4gX2RiLnB1dCh1c2VyKTtcbiAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgcmV0dXJuIF9kYi5wdXQodXNlcik7XG4gICAgICAgICB9KVxuICAgfTtcblxuICBmdW5jdGlvbiBnZXRVc2VyKCkge1xuICAgICByZXR1cm4gX2RiLmdldCgndXNlci1sb2dnZWQnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlcmFzZVVzZXIoKSB7XG4gICAgX2RiLmdldCgndXNlci1sb2dnZWQnKS50aGVuKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9kYi5yZW1vdmUoZG9jKTtcbiAgICB9KTtcbiAgfVxuXG4gICBmdW5jdGlvbiBpbml0REIoKSB7XG4gICAgICAgLy8gQ3JlYXRlcyB0aGUgZGF0YWJhc2Ugb3Igb3BlbnMgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICAgICBfZGIgPSBuZXcgUG91Y2hEQigndG9tYW1vc3VuYV9sb2NhbF9kYicpO1xuICAgICAgIHJldHVybiBfZGI7XG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlUmVwb3J0KHJlcG9ydCkge1xuICAgICAgLy9uZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBwb3VjaENvbGxhdGUudG9JbmRleGFibGVTdHJpbmcoW3JlcG9ydF0pO1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgdmFyIG5ld19yZXBvcnRfaWQgPSBcInJlcG9ydF9cIiArIGRhdGUuZ2V0RnVsbFllYXIoKSArIChkYXRlLmdldE1vbnRoKCkgKyAxKSArIGRhdGUuZ2V0RGF0ZSgpICsgZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgIHJlcG9ydC5faWQgPSBuZXdfcmVwb3J0X2lkO1xuICAgICAgcmV0dXJuIF9kYi5wdXQocmVwb3J0KTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHVwZGF0ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgcmV0dXJuIF9kYi5wdXQocmVwb3J0KTtcbiAgfTtcblxuICAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQoJ2NhdGVnb3JpZXMtbGlzdCcpO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZUNhdGVnb3JpZXMoY2F0ZWdvcmllcykge1xuICAgICBnZXRDYXRlZ29yaWVzKCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgY2F0ZWdvcmllcy5fcmV2ID0gZG9jLl9yZXY7XG4gICAgICAgcmV0dXJuIF9kYi5wdXQoY2F0ZWdvcmllcyk7XG4gICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICBjYXRlZ29yaWVzLl9pZCA9IFwiY2F0ZWdvcmllcy1saXN0XCI7XG4gICAgICAgcmV0dXJuIF9kYi5wdXQoY2F0ZWdvcmllcyk7XG4gICAgIH0pXG4gICB9O1xuXG4gIGZ1bmN0aW9uIGdldFJlcG9ydChyZXBvcnRJZCkge1xuICAgICByZXR1cm4gX2RiLmdldChyZXBvcnRJZCk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldEFsbFJlcG9ydHMoKSB7XG4gICAgIHJldHVybiBfZGIuYWxsRG9jcyh7XG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBhdHRhY2htZW50czogZmFsc2UsXG4gICAgICBzdGFydGtleTogJ3JlcG9ydF8nLFxuICAgICAgZW5ka2V5OiAncmVwb3J0X1xcdWZmZmYnXG4gICAgIH0pOy8qLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgLy8gaGFuZGxlIHJlc3VsdFxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7Ki9cbiAgfTtcblxuICBmdW5jdGlvbiBkZWxldGVSZXBvcnQocmVwb3J0X2lkKSB7XG4gICAgX2RiLmdldChyZXBvcnRfaWQpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2RiLnJlbW92ZShkb2MpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZUdpdmVuUmVwb3J0KHJlcG9ydCkge1xuICAgIHJldHVybiBfZGIucmVtb3ZlKHJlcG9ydCk7XG4gIH07XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdFcnJvclNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCAnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoanNvblJlc3VsdCwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEgJiYganNvblJlc3VsdC5kYXRhLlN0YXR1cz09XCJzdWNjZXNzXCIgfHwganNvblJlc3VsdC5TdGF0dXM9PVwic3VjY2Vzc1wiKXtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZihqc29uUmVzdWx0LmRhdGEpe1xuICAgICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGpzb25SZXN1bHQuZGF0YS5NZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBqc29uUmVzdWx0Lk1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZToganNvblJlc3VsdC5kYXRhLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoZGF0YSwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihkYXRhLlN0YXR1cyE9J3N1Y2Nlc3MnKXtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgZGF0YS5NZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGlmKGRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2U6IGZ1bmN0aW9uIChlcnJvckNvbnRhaW5lcklkLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBtZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIHNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cDogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IG1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGNoZWNrX2ZpZWxkczogZnVuY3Rpb24gKGZpZWxkcywgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgICAgICBpZihmaWVsZC50eXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gcHVlZGUgZXN0YXIgdmFjw61vLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIGVzIHVuYSBkaXJlY2Npw7NuIGRlIGNvcnJlbyB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfaWRkb2NfdXkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIGVzIHVuYSBjw6lkdWxhIHVydWd1YXlhIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBkZWJlIGNvbnRlbmVyIGFsIG1lbm9zIGRvcyBwYWxhYnJhcy48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZXF1YWxzVG9cIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VxdWFsc1RvKGZpZWxkLnZhbHVlLCBmaWVsZC5zZWNvbmRWYWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIExvcyBjYW1wb3MgXCInICsgZmllbGQubmFtZSArICdcIiBubyBjb2luY2lkZW4uPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZihlcnJvcnMgPT1cIlwiKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD0gZXJyb3JzO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdMb2FkZXInLCBbJyRpb25pY0xvYWRpbmcnLCAnJHRpbWVvdXQnLCckaW9uaWNQb3B1cCcsZnVuY3Rpb24oJGlvbmljTG9hZGluZywkdGltZW91dCwkaW9uaWNQb3B1cCkge1xuXG4gIHZhciBMT0FERVJBUEkgPSB7XG5cbiAgICBzaG93TG9hZGluZzogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdGV4dCA9IHRleHQgfHwgJ0xvYWRpbmcuLi4nO1xuICAgICAgJGlvbmljTG9hZGluZy5zaG93KHtcbiAgICAgICAgdGVtcGxhdGU6IHRleHRcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBoaWRlTG9hZGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlTG9hZGluZ1dpdGhNZXNzYWdlOiBmdW5jdGlvbih0ZXh0LCB0aW1lb3V0KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuc2hvd0xvYWRpbmcodGV4dCk7XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmhpZGVMb2FkaW5nKCk7XG4gICAgICB9LCB0aW1lb3V0IHx8IDMwMDApO1xuICAgIH0sXG5cbiAgICBjb25maXJtUG9wdXA6ZnVuY3Rpb24odGl0bGUsdGV4dCl7XG4gICAgICB2YXIgY29uZmlybVBvcHVwID0gJGlvbmljUG9wdXAuY29uZmlybSh7XG4gICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgdGVtcGxhdGU6IHRleHRcbiAgIH0pO1xuICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiB9LFxuXG5cbiAgICBzaG93QWxlcnQ6ZnVuY3Rpb24oX3RpdGxlLF90ZW1wbGF0ZSkge1xuICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgIHRpdGxlOiBfdGl0bGUsXG4gICAgICAgIHRlbXBsYXRlOiBfdGVtcGxhdGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFsZXJ0UG9wdXA7XG4gfVxuXG4gIH07XG4gIHJldHVybiBMT0FERVJBUEk7XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9jYXRpb25zU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGxvY2F0aW9uc09iaiA9IHt9O1xuICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5sYXN0X3VzZXJfbG5nID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmNvdW5jaWxfbW9kYWwgPSBudWxsO1xuICBsb2NhdGlvbnNPYmouc2VsZWN0ZWRfY291bmNpbCA9IG51bGw7XG5cbiAgbG9jYXRpb25zT2JqLnNlbGVjdENvdW5jaWwgPSBmdW5jdGlvbihjb3VuY2lsTmFtZSkge1xuICAgIGxvY2F0aW9uc09iai5zZWxlY3RlZF9jb3VuY2lsID0gIGNvdW5jaWxOYW1lO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfaW5pdGlhbF9wb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSAgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX2xhc3RfdXNlcl9wb3NpdGlvbiA9IGZ1bmN0aW9uKGxhdCxsbmcpe1xuICAgIGxvY2F0aW9uc09iai5sYXN0X3VzZXJfbGF0ID0gbGF0O1xuICAgIGxvY2F0aW9uc09iai5sYXN0X3VzZXJfbG5nID0gbG5nO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVkTG9jYXRpb25zID0gW107XG5cbiAgcmV0dXJuIGxvY2F0aW9uc09iajtcblxufV0pO1xuIiwiIC8vcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuIHBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWydsZWFmbGV0RGF0YScsICckY29tcGlsZScsIGZ1bmN0aW9uKGxlYWZsZXREYXRhLCAkY29tcGlsZSkge1xuXG4gICAvL0RlZmluaWNpb24gZGUgbGEgcHJveWVjY2Npb24gVVRNIDIxIHNcbiAgIHByb2o0LmRlZnMoJ0VQU0c6MzI3MjEnLCAnK3Byb2o9dXRtICt6b25lPTIxICtzb3V0aCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzJyk7XG5cblxuICAgdmFyIG1hcFNlcnZpY2UgPSB7fTtcblxuICAgbWFwU2VydmljZS5nb1RvUGxhY2UgPSBmdW5jdGlvbihuYW1lLGxhdCxsb24sc2NvcGUpIHtcbiAgICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgIFwiY3JzXCI6IHsgXCJ0eXBlXCI6IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogJ3VybjpvZ2M6ZGVmOmNyczpFUFNHOjozMjcyMSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJmZWF0dXJlc1wiOiBbXG4gICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICAgICAgXCJnZW9tZXRyeVwiOntcbiAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6XCJQb2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6W2xhdCxsb25dXG4gICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgXCJub21icmVcIjogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgdmFyIF9sYXRsbmc7XG4gICAgICAgdmFyIGxheWVyID0gTC5Qcm9qLmdlb0pzb24oX2dlb0pzb24sIHtcbiAgICAgICAgICdwb2ludFRvTGF5ZXInOiBmdW5jdGlvbihmZWF0dXJlLCBsYXRsbmcpIHtcbiAgICAgICAgICAgX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgICAgdmFyIGh0bWxQb3BVcCA9IFwiPHAgYWxpZ249J2NlbnRlcic+XCIrZmVhdHVyZS5wcm9wZXJ0aWVzLm5vbWJyZStcIiA8YnIvPiA8YSBuZy1jbGljaz0nbmV3X3JlcG9ydF9mcm9tX2xhdGxvbihcIitfbGF0bG5nLmxhdCtcIixcIitfbGF0bG5nLmxuZytcIik7Jz5JbmljaWFyIHJlcG9ydGUgYXF1w608L2E+PC9wPlwiO1xuICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShodG1sUG9wVXApKHNjb3BlKTtcbiAgICAgICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZykuYmluZFBvcHVwKGNvbXBpbGVkWzBdKTtcbiAgICAgICAgIH1cbiAgICAgICB9KTtcblxuICAgICAgIGxheWVyLmFkZFRvKG1hcCk7XG4gICAgICAgbWFwLnNldFZpZXcoX2xhdGxuZywgMTgpO1xuICAgICAgIGxheWVyLm9wZW5Qb3B1cCgpO1xuICAgICB9KTtcbiAgIH07XG5cbiAgbWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyA9IGZ1bmN0aW9uKGxhdCxsbmcsem9vbSkge1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBtYXAuc2V0VmlldyhuZXcgTC5MYXRMbmcobGF0LCBsbmcpLHpvb20pO1xuICAgICAgIH0pO1xuICAgICB9XG5cbiAgIHJldHVybiBtYXBTZXJ2aWNlO1xuXG4gfV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01vZGFsU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIG1vZGFsT0JKID0ge307XG4gIG1vZGFsT0JKLmFjdGl2ZU1vZGFsID0gbnVsbDtcblxuICBtb2RhbE9CSi5jaGVja05vTW9kYWxJc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZihtb2RhbE9CSi5hY3RpdmVNb2RhbCl7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5oaWRlKCk7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbW9kYWxPQko7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQaW5TZXJ2aWNlJywgWyckaHR0cCcsICdsZWFmbGV0RGF0YScsJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgbGVhZmxldERhdGEsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgcGluc1VSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL3NpdGVzL3RvbWFtb3NfdW5hL2ZpbGVzL2pzb24vdXNlcnNfZ2VvLmpzb25cIjtcbiAgdmFyIGFwaVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIlxuLyoqXG4gICAqIENvbnN0cnVjdG9yLCB3aXRoIGNsYXNzIG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIFBpbihfZGF0YSkge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMsIF9kYXRhKTtcbiAgfVxuXG5cbiAgUGluLmdldEFsbCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICRodHRwLmdldChwaW5zVVJMLCB7Y2FjaGU6IGZhbHNlLCBwYXJhbXM6IHtoYXNoX2lkOk1hdGgucmFuZG9tKCl9fSk7XG4gIH1cblxuICBQaW4uc2VuZFVzZXJMb2NhdGlvbiA9IGZ1bmN0aW9uKGxhdGl0dWRlLGxvbmdpdHVkZSx1c2VybmFtZSxwYXNzd29yZCx1aWQpe1xuICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZsYXQ9JytsYXRpdHVkZSsnJmxvbj0nK2xvbmdpdHVkZStcIiZ1aWQ9XCIrdWlkO1xuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVSTCArICdzZW5kX3VzZXJfcG9zaXRpb24nLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG5cbiAgfVxuXG5cbiAgICBQaW4uX2FsbCA9IFtdO1xuICAgIFBpbi5jdXJyZW50ID0ge307XG4gICAgUGluLmxhc3RQaW5zUmVzcG9uc2UgPSBudWxsO1xuXG5cblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCwgYXNzaWduZWQgdG8gY2xhc3NcbiAgICAgKiBJbnN0YW5jZSAoJ3RoaXMnKSBpcyBub3QgYXZhaWxhYmxlIGluIHN0YXRpYyBjb250ZXh0XG4gICAgICovXG4gICAgUGluLmJ1aWxkID0gZnVuY3Rpb24oX2RhdGEpIHtcblxuICAgICAgcmV0dXJuIG5ldyBQaW4oXG4gICAgICAgIF9kYXRhXG4gICAgICApO1xuICAgIH07XG5cbiAgICBQaW4ucHJvdG90eXBlLnNldExhdExuZyA9IGZ1bmN0aW9uIChsYXRsbmcpIHtcblxuICAgICAgdGhpcy5sYXQgPSBsYXRsbmcubGF0O1xuICAgICAgdGhpcy5sb24gPSBsYXRsbmcubG5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICovXG4gICAgcmV0dXJuIFBpbjtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BvcFVwU2VydmljZScsIFsnJGlvbmljUG9wdXAnLCdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRpb25pY1BvcHVwLFZhbGlkYXRpb25TZXJ2aWNlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93X2FsZXJ0OiBmdW5jdGlvbiAoYWxlcnRfdGl0bGUsYWxlcnRfbWVzc2FnZSkge1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBhbGVydF90aXRsZSxcbiAgICAgICAgIHRlbXBsYXRlOiBhbGVydF9tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICBjb25maXJtUG9wdXA6IGZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICB2YXIgY29uZmlybVBvcHVwID0gJGlvbmljUG9wdXAuY29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICByZXR1cm4gY29uZmlybVBvcHVwO1xuICAgfSxcblxuICAgYXNrRm9yT25lVmFsdWVQb3BVcDogZnVuY3Rpb24oc2NvcGUsdGl0bGUsdGV4dCxmaWVsZF9uYW1lLHZhbGlkYXRpb25UeXBlKXtcbiAgICAgICRzY29wZSA9IHNjb3BlO1xuICAgICAgdmFyIG15UG9wdXAgPSAkaW9uaWNQb3B1cC5zaG93KHtcbiAgICAgIHRlbXBsYXRlOiBmaWVsZF9uYW1lICsgJzogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJvbmVfdmFsdWVfcG9wdXBcIj48ZGl2IGlkPVwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiPjwvZGl2PicsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBzdWJUaXRsZTogdGV4dCxcbiAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICBidXR0b25zOiBbXG4gICAgICAgIHsgdGV4dDogJ0NhbmNlbGFyJyB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogJzxiPkVudmlhcjwvYj4nLFxuICAgICAgICAgIHR5cGU6ICdidXR0b24tcG9zaXRpdmUnLFxuICAgICAgICAgIG9uVGFwOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JzID0gXCJcIjtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib25lX3ZhbHVlX3BvcHVwXCIpLnZhbHVlO1xuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwibm90TnVsbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cImlkZG9jX3V5XCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfaWRkb2NfdXkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwidHdvX3dvcmRzXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihlcnJvcnMhPVwiXCIpe1xuICAgICAgICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIik7XG4gICAgICAgICAgICAgIGVycm9yRGl2LmlubmVySFRNTD0gZXJyb3JzO1xuICAgICAgICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAvL2Rvbid0IGFsbG93IHRoZSB1c2VyIHRvIGNsb3NlIHVubGVzcyBoZSBlbnRlcnMgd2lmaSBwYXNzd29yZFxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gICAgcmV0dXJuIG15UG9wdXA7XG4gICB9XG5cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1NlbWFwaG9yZVNlcnZpY2UnLCBbZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHNlbWFwaG9yZU9iaiA9IHt9O1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3JlcyA9IG5ldyBBcnJheSgpO1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1snb3Blbi1tb2RhbCddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ3N1Ym1pdC1mb3JtJ10gPSBcImF2YWlsYWJsZVwiO1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1snc3VibWl0LWxvY2F0aW9uJ10gPSBcImF2YWlsYWJsZVwiO1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1snY2FuX3RhbGsnXSA9IFwiYXZhaWxhYmxlXCI7XG5cblxuXG5cbiAgc2VtYXBob3JlT2JqLnRha2VJZkF2YWlsYWJsZSA9IGZ1bmN0aW9uKHNlbWFwaG9yZUlkKSB7XG4gICAgLy9jb25zb2xlLmxvZyhzZW1hcGhvcmVJZCArIFwiOlwiICsgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdKTtcbiAgICBpZihzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF09PVwiYXZhaWxhYmxlXCIpe1xuICAgICAgICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF0gPSBcIm9jY3VwaWVkXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbWFwaG9yZU9iai5tYWtlQXZhaWxhYmxlQWdhaW4gPSBmdW5jdGlvbihzZW1hcGhvcmVJZCkge1xuICAgIGlmKHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXT09XCJvY2N1cGllZFwiKXtcbiAgICAgICAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdID0gXCJhdmFpbGFibGVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNlbWFwaG9yZU9iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ2xvY2F0aW9uQVBJJywgWyckaHR0cCcsICckcScsICdBcGlJbUVuZHBvaW50JywgJ0FwaURhdGFFbmRwb2ludCcsICdDb25maWdTZXJ2aWNlJywgJ0xvY2F0aW9uc1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEFwaUltRW5kcG9pbnQsIEFwaURhdGFFbmRwb2ludCwgQ29uZmlnU2VydmljZSwgTG9jYXRpb25zU2VydmljZSkge1xuXG4gIHZhciByZXN0UHJlZmZpeCA9IFwidWJpY2FjaW9uZXNSZXN0UHJvZFwiO1xuXG5cbiAgdmFyIGxvY2F0aW9uQVBJID0ge307XG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIC8qcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jYWxsZXMnLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG5vbWJyZTogX2xvY2F0aW9uXG4gICAgICB9XG4gICAgfSk7Ki9cbiAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCIgKyBfbG9jYXRpb247XG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7fVxuICAgIH0pO1xuICB9O1xuXG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoRXNxdWluYUJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInNlYXJjaEVzcXVpbmFCeVN0ciA9IFwiICsgSlNPTi5zdHJpbmdpZnkoX2xvY2F0aW9uKSk7XG4gICAgLy9yZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2VzcXVpbmEvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyArIF9sb2NhdGlvbi5lc3F1aW5hLCB7XG4gICAgICAvKnJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY3J1Y2VzLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycsXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIG5vbWJyZTogX2xvY2F0aW9uLmVzcXVpbmFcbiAgICAgICAgfVxuICAgICAgfSk7Ki9cblxuICAgICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiXG4gICAgICAgICAgICAgICAgICAgICsgX2xvY2F0aW9uLmNhbGxlICsgXCIsXCIgKyBfbG9jYXRpb24uZXNxdWluYTtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXJhbXM6IHt9XG4gICAgICB9KTtcbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20gPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICB2YXIgdXJsID0gQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyhfbG9jYXRpb24udGlwbyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfbG9jYXRpb24ucGF0aFBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdXJsICs9ICcvJyArIF9sb2NhdGlvbi5wYXRoUGFyYW1zW2ldO1xuICAgIH1cbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tUE1CID0gZnVuY3Rpb24oY2FsbGUsZXNxdWluYV9udW1lcm8sdGlwbykge1xuICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIlxuICAgICAgICAgICAgICArIGNhbGxlICsgXCIsXCIgKyBlc3F1aW5hX251bWVybyArIFwiLFwiICsgdGlwbztcblxuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCk7XG5cbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8gPSBmdW5jdGlvbihfdGlwbykge1xuXG4gICAgdmFyIHJlc3RHZW9EYXRhU2VydmljZVBhdGggPSB7XG4gICAgICAnRVNRVUlOQSc6XCIvZXNxdWluYVwiLFxuICAgICAgJ0RJUkVDQ0lPTic6XCIvZGlyZWNjaW9uXCJcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc3RHZW9EYXRhU2VydmljZVBhdGhbX3RpcG9dO1xuXG5cbiAgfTtcblxuICByZXR1cm4gbG9jYXRpb25BUEk7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdfJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4gd2luZG93Ll87IC8vVW5kZXJzY29yZSBtdXN0IGFscmVhZHkgYmUgbG9hZGVkIG9uIHRoZSBwYWdlXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVXNlclNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICAvL3ZhciBiYXNlVVJMID0gXCJodHRwOi8vcG1idXkuZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZy9hdXRoL2FqYXgvXCI7XG4gIHZhciBVc2VyT2JqID0ge307XG4gIFVzZXJPYmoudWlkID0gbnVsbDtcbiAgVXNlck9iai5uYW1lID0gbnVsbDtcbiAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gIFVzZXJPYmoucGFzc3dvcmQgPSBudWxsO1xuICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gIFVzZXJPYmouc2hvd19sb2NhdGlvbiA9IG51bGw7XG5cblxuICBVc2VyT2JqLnNhdmVfdXNlcl9kYXRhID0gZnVuY3Rpb24gKHVzZXJfbmFtZSwgdXNlcl9wYXNzd29yZCwgdXNlcl9waWN0dXJlX3VybCwgc2hvd19sb2NhdGlvbiwgdWlkLCBzdGF0dXMsIGdlbmRlciwgaW50ZXJlc3RlZCkge1xuICAgICAgVXNlck9iai51aWQgPSB1aWQ7XG4gICAgICBVc2VyT2JqLm5hbWUgPSB1c2VyX25hbWU7XG4gICAgICBVc2VyT2JqLnBhc3N3b3JkID0gdXNlcl9wYXNzd29yZDtcbiAgICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICAgICAgVXNlck9iai5zaG93X2xvY2F0aW9uID0gc2hvd19sb2NhdGlvbjtcbiAgICAgIFVzZXJPYmouc3RhdHVzID0gc3RhdHVzO1xuICAgICAgVXNlck9iai5nZW5kZXIgPSBnZW5kZXI7XG4gICAgICBVc2VyT2JqLmludGVyZXN0ZWQgPSBpbnRlcmVzdGVkO1xuXG4gICAgICAvL1NBVkUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5lcmFzZV91c2VyX2RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgVXNlck9iai5uYW1lID0gbnVsbDtcbiAgICBVc2VyT2JqLmVtYWlsID0gbnVsbDtcbiAgICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gbnVsbDtcbiAgICBVc2VyT2JqLnBob25lID0gbnVsbDtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gbnVsbDtcbiAgICAvL0RFTEVURSBJTiBQT1VDSERCXG4gIH1cblxuICBVc2VyT2JqLmdldF91c2VyX2RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9MRVZBTlRBIERFIFBPVUNIREIgTE9TIERBVE9TIERFTCBVU1VBUklPLiBTSSBIQVkgTE9TIFBPTkUgRU4gTEFTIFZBUklBQkxFUyBERUwgU0VSVklDSU8uIFNJIE5PIEhBWSBQT05FIFRPRE8gTlVMTFxuICB9XG5cbiAgVXNlck9iai5hZGRfcGhvdG8gPSBmdW5jdGlvbiAodXNlcl9waWN0dXJlX3VybCkge1xuICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICB9XG5cbiAgVXNlck9iai5pc0xvZ2dlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZihVc2VyT2JqLm5hbWUhPW51bGwgJiYgVXNlck9iai5uYW1lIT1cIlwiKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbiAgcmV0dXJuIFVzZXJPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdWYWxpZGF0aW9uU2VydmljZScsIFsnJGh0dHAnLCckaW9uaWNQb3B1cCcsIGZ1bmN0aW9uKCRodHRwLCRpb25pY1BvcHVwKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBpc01vYmlsZURldmljZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmKHdpbmRvdy5jb3Jkb3ZhKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfbm90X2VtcHR5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfdHdvX3dvcmRzOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbih2KXtyZXR1cm4gdiE9PScnfSk7XG4gICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIC8vdHdvIG9yIG1vcmUgd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9ub3QgZW5vdWdoIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9lcXVhbHNUbzogZnVuY3Rpb24gKHZhbHVlLHNlY29uZFZhbHVlKSB7XG4gICAgICBpZih2YWx1ZT09c2Vjb25kVmFsdWUpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VtYWlsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgIHJldHVybiByZS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2lkZG9jX3V5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICAgICAgdmFyIGRpZyA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHZhciBhID0gMDsgdmFyIGkgPSAwO1xuICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCA8PSA2KXtcbiAgICAgICAgICAgIGZvcihpID0gdmFsdWUubGVuZ3RoOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgIGEgKz0gKHBhcnNlSW50KFwiMjk4NzYzNFwiW2ldKSAqIHBhcnNlSW50KHZhbHVlW2ldKSkgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICBpZihhJTEwID09PSAwKXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXN1bHQgPSAxMCAtIGEgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoZGlnID09IHJlc3VsdCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcbiJdfQ==
