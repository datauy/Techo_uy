window.VERSION = "0.0.1";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"http://backend.educacion.thor.datauy.org"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,t,n){t.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),cordova.plugins.Keyboard.disableScroll(!1)),ionic.Platform.isFullScreen=!0,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AbsController"}).state("app.index",{cache:!1,url:"/index",views:{menuContent:{templateUrl:"templates/static/app.component.html",controller:"IndexController"}}}).state("app.contact",{cache:!1,url:"/contact",views:{menuContent:{templateUrl:"templates/static/contact.component.html",controller:"ContactController"}}}).state("app.contenidos",{cache:!1,url:"/contenidos",views:{menuContent:{templateUrl:"templates/static/press-room.component.html",controller:"StaticController"}}}).state("app.metodologia",{cache:!1,url:"/metodologia",views:{menuContent:{templateUrl:"templates/static/methodology.component.html",controller:"StaticController"}}}).state("app.contacto",{cache:!1,url:"/contacto",views:{menuContent:{templateUrl:"templates/static/contact.component.html",controller:"StaticController"}}}).state("app.map",{cache:!1,url:"/map",views:{menuContent:{templateUrl:"templates/map.html",controller:"MapController"}}}).state("app.form",{cache:!1,url:"/form",views:{menuContent:{templateUrl:"templates/form.html",controller:"FormCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/map")}]),pmb_im.controllers.controller("AbsController",["$scope",function(e){}]),pmb_im.controllers.controller("FormCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService","$ionicSlideBoxDelegate","$ionicScrollDelegate",function(e,t,n,o,a,r,i,s,l,c){e.form={},e.form.edad=16,e.form.plan="",e.form.lugar="",e.form.turno="",e.form.nivel_aprobado="",e.next=function(){l.next()},e.previous=function(){l.previous()},e.go_to_map=function(){t.go("app.map")}}]),pmb_im.controllers.controller("IndexController",["$scope",function(e){}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,t,n,o,a,r,i,s){var l=s.initDB();l.info().then(console.log.bind(console)),e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){i.save_initial_position(e),t.go("app.form")},function(e){t.go("app.form")})},e.$on("$ionicView.enter",function(){null!=i.council_modal&&(i.council_modal.hide(),i.council_modal.remove()),e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","_","$cordovaCamera","$cordovaGeolocation","$compile","$ionicModal","$ionicPopup","leafletData","ConfigService","LocationsService","CkanService","PinService","AuthService","UserService","DBService","$timeout","$interval","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","ConnectivityService","$cordovaInAppBrowser","MapService","ModalService","SemaphoreService","ValidationService",function(e,t,n,o,a,r,i,s,l,c,u,p,d,m,_,g,f,h,v,y,b,w,I,P,k,O,A,D){e.asentamientos_layers=new Array,e.baseURL=l.baseURL,e.AppName=l.AppName,e.user_cached_image="./img/icon-user-anonymous.png",e.one_value_popup=null,e.myIntervals=new Array,e.$on("$ionicView.beforeEnter",function(){O.checkNoModalIsOpen(),_.initDB(),I.isOnline()?e.check_user_logged():e.set_offline_user(),I.isOnline()&&e.create_online_map()}),e.$on("$ionicView.afterEnter",function(){s.getMap();""!=c.initial_lat?k.centerMapOnCoords(c.initial_lat,c.initial_lng,10):k.centerMapOnCoords(-34.901113,-56.164531,10),document.getElementById("spinner").style.display="none"}),e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};P.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},e.create_online_map=function(){e.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:1,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{}},e.loadPinsLayer(),e.map.center={lat:-34.901113,lng:-56.164531,zoom:10},s.getMap().then(function(t){t.on("moveend",e.hideOffScreenPins)})},e.next=function(){y.next()},e.previous=function(){y.previous()},e.back_to_map=function(e){e?(O.checkNoModalIsOpen(),document.getElementById("spinner-inside-modal").style.display="none"):document.getElementById("spinner-inside-modal").style.display="none"},e.image=null,e.addImage=function(t,o,a,r){e.isUserPhoto=o,e.isCommentPhoto=a,e.isNewUserPhoto=r;var i=Camera.PictureSourceType.CAMERA,s=!0,l=!0;1==t&&(i=Camera.PictureSourceType.PHOTOLIBRARY,s=!1,l=!1);var c={quality:90,destinationType:Camera.DestinationType.FILE_URI,sourceType:i,allowEdit:!1,correctOrientation:s,encodingType:Camera.EncodingType.JPEG,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:l,targetWidth:500,targetHeight:500};n.getPicture(c).then(function(t){function n(t){window.FilePath.resolveNativePath(t,function(n){t="file://"+n,n.startsWith("file://")&&(t=n),1==e.isUserPhoto?e.profile.picture_url=t:1==e.isCommentPhoto?e.comment.file=t:1==e.isNewUserPhoto&&(e.newuser.picture_url=t),e.imgURI=t},function(e){alert("Error resolveNativePath"+e)})}n(t)},function(e){})},e.urlForImage=function(){var t="http://placehold.it/200x200";if(e.image){var n=e.image.substr(e.image.lastIndexOf("/")+1);t=cordova.file.dataDirectory+n}return t},e.scrollMe=function(e){h.hash(e);var t=b.$getByHandle("content");t.anchorScroll()},e.set_active_option=function(e){document.getElementById(e).className="option-active"},e.hide_special_divs=function(){},e.close_report_detail_modal=function(){O.checkNoModalIsOpen(),e.report_detail_id=null},e.locate=function(){o.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"You Are Here",focus:!0,draggable:!1}},function(e){})},e.addMapControls=function(){document.getElementById("map_crosshair").style.display="block",document.getElementById("map_crosshair_button").style.display="block"},e.changeUserLocationPin=function(t,n,o){if(e.online_user_geo_array[o]){layer=e.online_user_geo_array[o];var a=new L.LatLng(t,n);layer.setLatLng(a)}},e.hideOffScreenPins=function(){},e.loadPinsLayer=function(){document.getElementById("spinner").style.display="block",s.getMap().then(function(t){u.getAllPolygons().then(function(n){(null==u.lastPinsResponse||u.lastPinsResponse&&u.lastPinsResponse!=n)&&(e.asentamientos_layers&&e.asentamientos_layers.forEach(function(e,n){t.removeLayer(e)}),u.lastPinsResponse=n.data,console.log(u.lastPinsResponse),u.lastPinsResponse.result.records.forEach(function(n){if("Polygon"==e.getTypeOfMapObject(n.wkt_geom)){var o=e.getOnlyCoordinatesPolygon(n.wkt_geom);L.polygon(o,{color:"red"}).bindPopup(n.NOM_AST+" - "+n.COD_AST+" - "+n.wkt_geom).addTo(t)}else"MultiPolygon"==e.getTypeOfMapObject(n.wkt_geom)}),document.getElementById("spinner").style.display="none")})})},e.getOnlyCoordinatesPolygon=function(t){t=t.replace("Polygon ((",""),t=t.replace("))","");var n=t.split(","),o=new Array;return n.forEach(function(t,n){t=t.trim();var a=t.split(" "),r=a[0],i=a[1],s=p.convertLatLongProj(r,i,e),l=[s.lat,s.lng];o.push(l)}),o},e.getTypeOfMapObject=function(e){return e.startsWith("MultiPolygon")?"MultiPolygon":e.startsWith("Polygon")?"Polygon":void 0},e.timeConverter=function(e){var t=new Date(1e3*e),n=t.getFullYear(),o=t.getMonth();o<10&&(o="0"+o);var a=t.getDate();a<10&&(a="0"+a);var r=t.getHours();r<10&&(r="0"+r);var i=t.getMinutes();i<10&&(i="0"+i);var s=(t.getSeconds(),a+"/"+o+"/"+n+" "+r+":"+i);return s},e.model=[],e.externalModel=[],e.selectedItems=[],e.preselectedSearchItems=[],e.clickedValueModel="",e.removedValueModel="",e.itemsRemoved=function(t){e.removedValueModel=t},e.user_options=function(){},e.show_anonymous_menu=function(){},e.show_user_menu=function(){},e.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},e.create_field_array_with_twoFields=function(e,t,n,o){var a=new Array;return a.name=e,a.type=t,a.value=n,a.secondValue=o,a},e.fix_fb_image_link=function(e){if(e.indexOf("http://graph.facebook.com")>=0){var t=e.split("http://graph.facebook.com"),n="http://graph.facebook.com"+t[1];return n}return e},e.log_in=function(t,n){if(A.takeIfAvailable("submit-form"))if(I.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(e.create_field_array("Usuario","notNull",t)),o.push(e.create_field_array("Contrase√±a","notNull",n)),v.check_fields(o,"error_container")?d.log_in(t,n).then(function(t){v.http_response_is_successful(t,"error_container")?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),m.save_user_data(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),e.close_login_modal()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),v.show_error_message("error_container",e.statusText)}):(document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"))}else A.makeAvailableAgain("submit-form"),w.show_alert("Sin conexi√≥n a internet","Para iniciar sesi√≥n debe estar conectado a internet")},e.log_in_background=function(t,n){d.log_in(t,n).then(function(t){return v.http_response_is_successful_ajax(t)?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),m.save_user_data(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),1):0},function(e){return 0})},e.sign_out=function(){m.erase_user_data(),_.eraseUser(),document.getElementById("spinner").style.display="none",e.set_user_picture(0)},e.show_edit_profile_modal=function(){A.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",e.newuser=new Array,e.newuser.email=m.email,e.newuser.gender=m.gender,e.newuser.username=m.name,e.newuser.interested=m.interested,e.newuser.status=m.status,e.newuser.show_location=m.show_location,e.actual_photo=m.picture_url,null!=e.actual_photo||(e.actual_photo="./img/icon-user-anonymous.png"),"url(./img/icon-user-anonymous.png)"==e.actual_photo&&(e.actual_photo="./img/icon-user-anonymous.png"),O.checkNoModalIsOpen(),D.isMobileDevice()?r.fromTemplateUrl("templates/edit_profile_with_photo.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",O.activeModal=e,O.activeModal.show(),A.makeAvailableAgain("open-modal")}):r.fromTemplateUrl("templates/edit_profile_with_photo_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",O.activeModal=e,O.activeModal.show(),A.makeAvailableAgain("open-modal")}))},e.readURL=function(t,n){if(t.files&&t.files[0]){1==n?e.newuser.picture_url=t.files[0]:2==n?e.comment.photo=t.files[0]:e.report.file=t.files[0];var o=new FileReader;o.onload=function(e){document.getElementById("myImage").src=e.target.result},o.readAsDataURL(t.files[0])}},e.close_edit_profile_modal=function(){O.checkNoModalIsOpen()},e.edit_profile_ok=function(){e.edit_profile()},e.getObjectDataFromResponse=function(e){return e.data?e.data:e},e.edit_profile=function(){if(A.takeIfAvailable("submit-form"))if(I.isOnline()){document.getElementById("spinner-inside-modal").style.display="block",e.newuser.password=m.password;var t=d.edit_user(e.newuser);null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?t.then(function(t){var n=JSON.parse(t.response);v.http_data_response_is_successful(n,"error_container")?(n=e.getObjectDataFromResponse(n),m.save_user_data(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),_.saveUser(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){var t="C√≥digo: "+e.code;t=t+" Origen: "+e.source,t=t+" Destino: "+e.target,t=t+" http_status: "+e.http_status,t=t+" Body: "+e.body,t=t+" Exception: "+e.exception,v.show_error_message("error_container","Hubo un error en el env√≠o: "+t),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(t){g(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})}):t.success(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",v.http_response_is_successful(t,"error_container")?(m.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")}).error(function(e,t,n,o){v.show_error_message("error_container",t),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form")})}else A.makeAvailableAgain("submit-form"),w.show_alert("Sin conexi√≥n a internet","Para editar su perfil debe estar conectado a internet")},e.show_login_modal=function(){A.takeIfAvailable("open-modal")&&(e.nonauth=new Array,e.nonauth.user="",e.nonauth.password="",O.checkNoModalIsOpen(),r.fromTemplateUrl("templates/log_in.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),O.activeModal=t,A.makeAvailableAgain("open-modal"),O.activeModal.show()}))},e.login_ok=function(){e.log_in(e.nonauth.user,e.nonauth.password)},e.close_login_modal=function(){O.checkNoModalIsOpen()},e.show_sign_up_modal=function(){A.takeIfAvailable("open-modal")&&(e.newuser=new Array,e.newuser.email="",e.newuser.password="",e.newuser.fullname="",e.newuser.id_doc="",e.newuser.telephone="",e.newuser.photo="",O.checkNoModalIsOpen(),D.isMobileDevice()?r.fromTemplateUrl("templates/sign_up.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),O.activeModal=t,A.makeAvailableAgain("open-modal"),O.activeModal.show()}):r.fromTemplateUrl("templates/sign_up_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),O.activeModal=t,A.makeAvailableAgain("open-modal"),O.activeModal.show()}))},e.close_sign_up_modal=function(){O.checkNoModalIsOpen()},e.sign_up=function(){if(A.takeIfAvailable("submit-form"))if(I.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";new Array;null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?d.create_user(e.newuser).then(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",v.http_data_response_is_successful(t,"error_container")?(t=e.getObjectDataFromResponse(t),m.save_user_data(t.name,t.email,e.newuser.password,t.identity_document,t.phone,t.picture_url),m.save_user_data(t.Name,e.newuser.password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),_.saveUser(t.Name,password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"}):d.create_user(e.newuser).then(function(t){if(v.http_response_is_successful(t,"error_container")){m.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_sign_up_modal();var n=i.alert({title:"Usuario creado con √©xito",template:e.getObjectDataFromResponse(t).message});n.then(function(e){}),e.check_user_logged()}else A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(e){A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",v.show_error_message("error_container",e.statusText)})}else A.makeAvailableAgain("submit-form"),w.show_alert("Sin conexi√≥n a internet","Para iniciar registrarse debe estar conectado a internet")},e.sign_up_ok=function(){e.sign_up()},e.check_user_logged=function(){var t=m.name;if(null==t){var n=_.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?e.log_in_background(t.name,t.password):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==m.picture_url||""==m.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_offline_user=function(){var t=m.name;if(null==t){var n=_.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?m.save_user_data(t.name,t.password,t.picture_url,t.show_location):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==m.picture_url||""==m.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_user_picture=function(t){document.getElementById("user_picture");0==t?e.user_cached_image="./img/icon-user-anonymous.png":null!=m.picture_url&&""!=m.picture_url?e.user_cached_image=m.picture_url:e.user_cached_image="./img/icon-user-anonymous.png"},e.find_me=function(){e.set_active_option("button-find-me"),e.hide_special_divs();var t={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(t).then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,c.save_new_report_position(t.coords.latitude,t.coords.longitude),I.isOnline()?e.map.center.zoom=18:e.map.center.zoom=16,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"<p align='center'>Te encuentras aqu√≠ <br/> <a ng-click='new_report(1);'>Iniciar reporte en tu posici√≥n actual</a></p>",focus:!0,draggable:!1,getMessageScope:function(){return e}}},function(t){e.openCouncilSelector()})},e.submitFilters=function(){console.log(e.filters),e.GetData(e.filters)},e.toggleGroup=function(t){console.log(t),e.isGroupShown(t)?e.shownGroup=null:e.shownGroup=t},e.isGroupShown=function(t){return e.shownGroup===t}}]),pmb_im.controllers.controller("StaticController",["$scope",function(e){}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService","ValidationService",function(e,t,n,o){var a=n.baseURL+"/api/";return{log_in:function(t,n){var o="user="+t+"&password="+n;return e.post(a+"login",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sign_out:function(t,n){return e.get(a+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"create_user",n.picture_url,r,i)}if(n.picture_url){var s=new FormData;return s.append("photo",n.picture_url),s.append("user",n.username),s.append("password",n.password),s.append("email",n.email),s.append("gender",n.gender),s.append("interested",n.interested),s.append("status",n.status),s.append("show_location",n.show_location),e.post(a+"create_user",s,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}var l="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;return l=l+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,e.post(a+"create_user",l,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},password_recovery:function(t){return e.get(a+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,o,r){var i="email="+t+"&password_sign_in="+n+"&new_password="+o+"&confirm="+r;return e.post(a+"change_password",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"edit_profile",n.picture_url,r,i)}var s="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;if(s=s+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,n.picture_url){var l=new FormData;return l.append("photo",n.picture_url),l.append("user",n.username),l.append("password",n.password),l.append("email",n.email),l.append("gender",n.gender),l.append("interested",n.interested),l.append("status",n.status),l.append("show_location",n.show_location),e.post(a+"edit_profile",l,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}return e.post(a+"edit_profile",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("CkanService",["$http","leafletData","ConfigService",function(e,t,n){return{lastPinsResponse:null,getAllPolygons:function(){return e.get(n.ckanAllPolygonsURL,{headers:{Authorization:"d7e78b6e-3eed-4d69-8387-ab0196121a51"}})}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="http://backend.techouy.thor.datauy.org",t.ckanAllPolygonsURL="/ckan",t.AppName="TECHO UY",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return!0},isOffline:function(){return!1}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(e,t,o,a,r,i,s,l){var c={_id:"user-logged",name:e,password:t,picture_url:o,show_location:a,uid:r,status:i,gender:s,interested:l};n().then(function(e){return c._rev=e._rev,m.put(c)})["catch"](function(e){return m.put(c)})}function n(){return m.get("user-logged")}function o(){m.get("user-logged").then(function(e){return m.remove(e)})}function a(){return m=new PouchDB("tomamosuna_local_db")}function r(e){var t=new Date,n="report_"+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getMilliseconds();return e._id=n,m.put(e)}function i(e){return m.put(e)}function s(){return m.get("categories-list")}function l(e){s().then(function(t){return e._rev=t._rev,m.put(e)})["catch"](function(t){return e._id="categories-list",m.put(e)})}function c(e){return m.get(e)}function u(){return m.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_Ôøø"})}function p(e){m.get(e).then(function(e){return m.remove(e)})}function d(e){return m.remove(e)}var m;return{initDB:a,saveUser:t,getUser:n,eraseUser:o,saveReport:r,getReport:c,getAllReports:u,updateReport:i,deleteReport:p,deleteGivenReport:d,getCategories:s,saveCategories:l}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return e.data&&"success"==e.data.Status||"success"==e.Status?(n.style.display="none",!0):(e.data?n.innerHTML="<h3>"+e.data.Message+"</h3>":n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return"success"!=e.Status?(n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vac√≠o.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una direcci√≥n de correo v√°lida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una c√©dula uruguaya v√°lida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'<h3>- Los campos "'+e.name+'" no coinciden.</h3>'))}),""==o)return!0;var a=document.getElementById(t);return a.innerHTML=o,a.style.display="block",!1}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.last_user_lat="",e.last_user_lng="",e.council_modal=null,e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_last_user_position=function(t,n){e.last_user_lat=t,e.last_user_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,a,r){var i={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(i,{pointToLayer:function(e,o){n=o;var a="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aqu√≠</a></p>",i=t(a)(r);return L.marker(o).bindPopup(i[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.checkNoModalIsOpen=function(){e.activeModal&&(e.activeModal.hide(),e.activeModal.remove())},e}]),pmb_im.services.factory("PinService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/sites/tomamos_una/files/json/users_geo.json",r=n.baseURL+"/api/";return proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),o.convertLatLongProj=function(e,t,n){var o,a={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[e,t]},properties:{}}]};L.Proj.geoJson(a,{pointToLayer:function(e,t){return o=t,t}});return o},o.getAll=function(){return e.get(a,{cache:!1,params:{hash_id:Math.random()}})},o.sendUserLocation=function(t,n,o,a,i){var s="user="+o+"&password="+a+"&lat="+t+"&lon="+n+"&uid="+i;return e.post(r+"send_user_position",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o._all=[],o.current={},o.lastPinsResponse=null,o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,a,r,i){$scope=n;var s=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+r+'" no puede estar vac√≠o.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+r+'" no es una direcci√≥n de correo v√°lida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+r+'" no es una c√©dula uruguaya v√°lida.</h3>')),
"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var a=document.getElementById("error_container_inside");a.innerHTML=n,a.style.display="block",e.preventDefault()}}]});return s}}}]),pmb_im.services.factory("SemaphoreService",[function(){var e={};return e.semaphores=new Array,e.semaphores["open-modal"]="available",e.semaphores["submit-form"]="available",e.semaphores["submit-location"]="available",e.semaphores.can_talk="available",e.takeIfAvailable=function(t){return"available"==e.semaphores[t]&&(e.semaphores[t]="occupied",!0)},e.makeAvailableAgain=function(t){return"occupied"==e.semaphores[t]&&(e.semaphores[t]="available",!0)},e}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,a,r){var i="ubicacionesRestProd",s={};return s.searchLocationByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},s.searchEsquinaByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},s.getLocationGeom=function(t){for(var o=n.url+"/"+i+s.getParamPathByTipo(t.tipo),a=0;a<t.pathParams.length;a++)o+="/"+t.pathParams[a];return e.get(baseURL).then(function(e){return e.data})},s.getLocationGeomPMB=function(t,n,o){var i=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t+","+n+","+o;return e.get(i)},s.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},s}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.uid=null,t.name=null,t.email=null,t.password=null,t.picture_url="url(./img/icon-user-anonymous.png)",t.show_location=null,t.save_user_data=function(e,n,o,a,r,i,s,l){t.uid=r,t.name=e,t.password=n,t.picture_url=o,t.show_location=a,t.status=i,t.gender=s,t.interested=l},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{isMobileDevice:function(){return!!window.cordova},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=n%10===0?0:10-n%10,t==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2Ficy5jdHJsLmpzIiwiY29udHJvbGxlcnMvZm9ybS5jcnRsLmpzIiwiY29udHJvbGxlcnMvaW5kZXguY3RybC5qcyIsImNvbnRyb2xsZXJzL2ludHJvLmN0cmwuanMiLCJjb250cm9sbGVycy9tYXAuY3RybC5qcyIsImNvbnRyb2xsZXJzL3N0YXRpYy5jdHJsLmpzIiwic2VydmljZXMvYXV0aC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2NrYW4uc2VydmljZS5qcyIsInNlcnZpY2VzL2NvbmZpZy5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Nvbm5lY3Rpdml0eS5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2RiLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZXJyb3Iuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbW9kYWxTZXJ2aWNlLmpzIiwic2VydmljZXMvcGluLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3NlbWFwaG9yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdWJpY2FjaW9uZXMuc2VydmljZXMuanMiLCJzZXJ2aWNlcy91bmRlcnNjb3JlLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdmFsaWRhdGlvbi5zZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJwbWJfaW0iLCJjb250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlcyIsImFwcCIsImNvbnN0YW50IiwidXJsIiwicnVuIiwiJGlvbmljUGxhdGZvcm0iLCIkcm9vdFNjb3BlIiwiJGNvcmRvdmFLZXlib2FyZCIsIlZFUlNJT04iLCJ3aW5kb3ciLCJyZWFkeSIsImNvcmRvdmEiLCJwbHVnaW5zIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJkaXNhYmxlU2Nyb2xsIiwiaW9uaWMiLCJQbGF0Zm9ybSIsImlzRnVsbFNjcmVlbiIsIlN0YXR1c0JhciIsInN0eWxlRGVmYXVsdCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiZGVidWdJbmZvRW5hYmxlZCIsInN0YXRlIiwiY2FjaGUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInZpZXdzIiwibWVudUNvbnRlbnQiLCJvdGhlcndpc2UiLCIkc2NvcGUiLCIkc3RhdGUiLCIkY29yZG92YUdlb2xvY2F0aW9uIiwiJHN0YXRlUGFyYW1zIiwiJGlvbmljUG9wdXAiLCJMb2NhdGlvbnNTZXJ2aWNlIiwiREJTZXJ2aWNlIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwiZm9ybSIsImVkYWQiLCJwbGFuIiwibHVnYXIiLCJ0dXJubyIsIm5pdmVsX2Fwcm9iYWRvIiwibmV4dCIsInByZXZpb3VzIiwiZ29fdG9fbWFwIiwiZ28iLCJkYiIsImluaXREQiIsImluZm8iLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImJpbmQiLCJnZW9sb2NhdGUiLCJwb3NPcHRpb25zIiwidGltZW91dCIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwic2F2ZV9pbml0aWFsX3Bvc2l0aW9uIiwiZXJyIiwiJG9uIiwiY291bmNpbF9tb2RhbCIsImhpZGUiLCJyZW1vdmUiLCJfIiwiJGNvcmRvdmFDYW1lcmEiLCIkY29tcGlsZSIsIiRpb25pY01vZGFsIiwibGVhZmxldERhdGEiLCJDb25maWdTZXJ2aWNlIiwiQ2thblNlcnZpY2UiLCJQaW5TZXJ2aWNlIiwiQXV0aFNlcnZpY2UiLCJVc2VyU2VydmljZSIsIiR0aW1lb3V0IiwiJGludGVydmFsIiwiJGxvY2F0aW9uIiwiRXJyb3JTZXJ2aWNlIiwiUG9wVXBTZXJ2aWNlIiwiQ29ubmVjdGl2aXR5U2VydmljZSIsIiRjb3Jkb3ZhSW5BcHBCcm93c2VyIiwiTWFwU2VydmljZSIsIk1vZGFsU2VydmljZSIsIlNlbWFwaG9yZVNlcnZpY2UiLCJWYWxpZGF0aW9uU2VydmljZSIsImFzZW50YW1pZW50b3NfbGF5ZXJzIiwiQXJyYXkiLCJiYXNlVVJMIiwiQXBwTmFtZSIsInVzZXJfY2FjaGVkX2ltYWdlIiwib25lX3ZhbHVlX3BvcHVwIiwibXlJbnRlcnZhbHMiLCJjaGVja05vTW9kYWxJc09wZW4iLCJpc09ubGluZSIsImNoZWNrX3VzZXJfbG9nZ2VkIiwic2V0X29mZmxpbmVfdXNlciIsImNyZWF0ZV9vbmxpbmVfbWFwIiwiZ2V0TWFwIiwiaW5pdGlhbF9sYXQiLCJjZW50ZXJNYXBPbkNvb3JkcyIsImluaXRpYWxfbG5nIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsIm9wZW5XZWJzaXRlIiwib3B0aW9ucyIsImxvY2F0aW9uIiwiY2xlYXJjYWNoZSIsInRvb2xiYXIiLCJvcGVuIiwiZXZlbnQiLCJtYXAiLCJkZWZhdWx0cyIsInRpbGVMYXllciIsIm1pblpvb20iLCJtYXhab29tIiwiem9vbUNvbnRyb2xQb3NpdGlvbiIsIm1hcmtlcnMiLCJldmVudHMiLCJlbmFibGUiLCJsb2dpYyIsImNlbnRlciIsImxvYWRQaW5zTGF5ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwib24iLCJoaWRlT2ZmU2NyZWVuUGlucyIsImJhY2tfdG9fbWFwIiwiaW1hZ2UiLCJhZGRJbWFnZSIsImlzRnJvbUFsYnVtIiwiaXNVc2VyUGhvdG8iLCJpc0NvbW1lbnRQaG90byIsImlzTmV3VXNlclBob3RvIiwic291cmNlIiwiQ2FtZXJhIiwiUGljdHVyZVNvdXJjZVR5cGUiLCJDQU1FUkEiLCJmaXhfb3JpZW50YXRpb24iLCJzYXZlX3RvX2dhbGxlcnkiLCJQSE9UT0xJQlJBUlkiLCJxdWFsaXR5IiwiZGVzdGluYXRpb25UeXBlIiwiRGVzdGluYXRpb25UeXBlIiwiRklMRV9VUkkiLCJzb3VyY2VUeXBlIiwiYWxsb3dFZGl0IiwiY29ycmVjdE9yaWVudGF0aW9uIiwiZW5jb2RpbmdUeXBlIiwiRW5jb2RpbmdUeXBlIiwiSlBFRyIsInBvcG92ZXJPcHRpb25zIiwiQ2FtZXJhUG9wb3Zlck9wdGlvbnMiLCJzYXZlVG9QaG90b0FsYnVtIiwidGFyZ2V0V2lkdGgiLCJ0YXJnZXRIZWlnaHQiLCJnZXRQaWN0dXJlIiwiaW1hZ2VEYXRhIiwib25JbWFnZVN1Y2Nlc3MiLCJmaWxlVVJJIiwiRmlsZVBhdGgiLCJyZXNvbHZlTmF0aXZlUGF0aCIsInJlc3VsdCIsInN0YXJ0c1dpdGgiLCJwcm9maWxlIiwicGljdHVyZV91cmwiLCJjb21tZW50IiwiZmlsZSIsIm5ld3VzZXIiLCJpbWdVUkkiLCJlcnJvciIsImFsZXJ0IiwidXJsRm9ySW1hZ2UiLCJpbWFnZVVSTCIsIm5hbWUiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsImRhdGFEaXJlY3RvcnkiLCJzY3JvbGxNZSIsImFuY2hvcl9pZCIsImhhc2giLCJoYW5kbGUiLCIkZ2V0QnlIYW5kbGUiLCJhbmNob3JTY3JvbGwiLCJzZXRfYWN0aXZlX29wdGlvbiIsImJ1dHRvbmlkIiwiY2xhc3NOYW1lIiwiaGlkZV9zcGVjaWFsX2RpdnMiLCJjbG9zZV9yZXBvcnRfZGV0YWlsX21vZGFsIiwicmVwb3J0X2RldGFpbF9pZCIsImxvY2F0ZSIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibm93IiwibWVzc2FnZSIsImZvY3VzIiwiZHJhZ2dhYmxlIiwiYWRkTWFwQ29udHJvbHMiLCJjaGFuZ2VVc2VyTG9jYXRpb25QaW4iLCJsb24iLCJ1aWQiLCJvbmxpbmVfdXNlcl9nZW9fYXJyYXkiLCJsYXllciIsIm5ld0xhdExuZyIsIkwiLCJMYXRMbmciLCJzZXRMYXRMbmciLCJnZXRBbGxQb2x5Z29ucyIsInJlc3BvbnNlIiwibGFzdFBpbnNSZXNwb25zZSIsImZvckVhY2giLCJrZXkiLCJyZW1vdmVMYXllciIsImRhdGEiLCJyZWNvcmRzIiwiZmVhdHVyZSIsImdldFR5cGVPZk1hcE9iamVjdCIsIndrdF9nZW9tIiwibGF0bG5ncyIsImdldE9ubHlDb29yZGluYXRlc1BvbHlnb24iLCJwb2x5Z29uIiwiY29sb3IiLCJiaW5kUG9wdXAiLCJOT01fQVNUIiwiQ09EX0FTVCIsImFkZFRvIiwicmVwbGFjZSIsInBvaW50c0FycmF5Iiwic3BsaXQiLCJwb2x5Z29uUG9pbnRzQ29vcmRpbmF0ZXMiLCJwb2ludCIsInRyaW0iLCJjb29yZGluYXRlc0FycmF5IiwibmV3Q29vcmRpbmF0ZXMiLCJjb252ZXJ0TGF0TG9uZ1Byb2oiLCJsYXRsb24iLCJwdXNoIiwidGltZUNvbnZlcnRlciIsIlVOSVhfdGltZXN0YW1wIiwiYSIsIkRhdGUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsImdldE1vbnRoIiwiZGF5IiwiZ2V0RGF0ZSIsImhvdXIiLCJnZXRIb3VycyIsIm1pbiIsImdldE1pbnV0ZXMiLCJ0aW1lIiwiZ2V0U2Vjb25kcyIsIm1vZGVsIiwiZXh0ZXJuYWxNb2RlbCIsInNlbGVjdGVkSXRlbXMiLCJwcmVzZWxlY3RlZFNlYXJjaEl0ZW1zIiwiY2xpY2tlZFZhbHVlTW9kZWwiLCJyZW1vdmVkVmFsdWVNb2RlbCIsIml0ZW1zUmVtb3ZlZCIsImNhbGxiYWNrIiwidXNlcl9vcHRpb25zIiwic2hvd19hbm9ueW1vdXNfbWVudSIsInNob3dfdXNlcl9tZW51IiwiY3JlYXRlX2ZpZWxkX2FycmF5IiwidHlwZSIsInZhbHVlIiwiZmllbGQiLCJjcmVhdGVfZmllbGRfYXJyYXlfd2l0aF90d29GaWVsZHMiLCJzZWNvbmRWYWx1ZSIsImZpeF9mYl9pbWFnZV9saW5rIiwiaW5kZXhPZiIsInBhcnRzIiwibmV3VXJsIiwibG9nX2luIiwidXNlciIsInBhc3N3b3JkIiwidGFrZUlmQXZhaWxhYmxlIiwiZmllbGRzIiwiY2hlY2tfZmllbGRzIiwicmVzcCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bCIsInBob3RvIiwiZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZSIsIlBob3RvIiwic2F2ZV91c2VyX2RhdGEiLCJOYW1lIiwibm9uYXV0aCIsIlNob3dMb2NhdGlvbiIsIlVpZCIsIkVzdGFkbyIsIkdlbmRlciIsIkludGVyZXN0ZWRJbiIsInNhdmVVc2VyIiwic2V0X3VzZXJfcGljdHVyZSIsIm1ha2VBdmFpbGFibGVBZ2FpbiIsImNsb3NlX2xvZ2luX21vZGFsIiwic2hvd19lcnJvcl9tZXNzYWdlIiwic3RhdHVzVGV4dCIsInNob3dfYWxlcnQiLCJsb2dfaW5fYmFja2dyb3VuZCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4Iiwic2lnbl9vdXQiLCJlcmFzZV91c2VyX2RhdGEiLCJlcmFzZVVzZXIiLCJzaG93X2VkaXRfcHJvZmlsZV9tb2RhbCIsImVtYWlsIiwiZ2VuZGVyIiwidXNlcm5hbWUiLCJpbnRlcmVzdGVkIiwic3RhdHVzIiwic2hvd19sb2NhdGlvbiIsImFjdHVhbF9waG90byIsImlzTW9iaWxlRGV2aWNlIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJoYXJkd2FyZUJhY2tCdXR0b25DbG9zZSIsImFuaW1hdGlvbiIsIm1vZGFsIiwiYWN0aXZlTW9kYWwiLCJzaG93IiwicmVhZFVSTCIsImlucHV0IiwiZmlsZXMiLCJyZXBvcnQiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZSIsInNyYyIsInRhcmdldCIsInJlYWRBc0RhdGFVUkwiLCJjbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwiLCJlZGl0X3Byb2ZpbGVfb2siLCJlZGl0X3Byb2ZpbGUiLCJlZGl0X3JlcXVlc3QiLCJlZGl0X3VzZXIiLCJKU09OIiwicGFyc2UiLCJodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bCIsImNvZGUiLCJodHRwX3N0YXR1cyIsImJvZHkiLCJleGNlcHRpb24iLCJwcm9ncmVzcyIsInVwbG9hZFByb2dyZXNzIiwibG9hZGVkIiwidG90YWwiLCJpbm5lckhUTUwiLCJNYXRoIiwicm91bmQiLCJzdWNjZXNzIiwiaGVhZGVycyIsInNob3dfbG9naW5fbW9kYWwiLCJsb2dpbl9vayIsInNob3dfc2lnbl91cF9tb2RhbCIsImZ1bGxuYW1lIiwiaWRfZG9jIiwidGVsZXBob25lIiwiY2xvc2Vfc2lnbl91cF9tb2RhbCIsInNpZ25fdXAiLCJjcmVhdGVfdXNlciIsImlkZW50aXR5X2RvY3VtZW50IiwicGhvbmUiLCJhbGVydFBvcHVwIiwidGl0bGUiLCJ0ZW1wbGF0ZSIsInJlcyIsInNpZ25fdXBfb2siLCJnZXRVc2VyIiwiZG9jIiwiaGFzUGhvdG8iLCJmaW5kX21lIiwic2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uIiwiZ2V0TWVzc2FnZVNjb3BlIiwib3BlbkNvdW5jaWxTZWxlY3RvciIsInN1Ym1pdEZpbHRlcnMiLCJmaWx0ZXJzIiwiR2V0RGF0YSIsInRvZ2dsZUdyb3VwIiwiZ3JvdXAiLCJpc0dyb3VwU2hvd24iLCJzaG93bkdyb3VwIiwiZmFjdG9yeSIsIiRodHRwIiwiJGNvcmRvdmFGaWxlVHJhbnNmZXIiLCJwb3N0Iiwid2l0aENyZWRlbnRpYWxzIiwiQ29udGVudC1UeXBlIiwiZ2V0IiwicGFyYW1zIiwicGFzc3dvcmRfc2lnbl9pbiIsInVzZXJPYmoiLCJmaWxlS2V5IiwidHJ1c3RBbGxIb3N0cyIsInVwbG9hZCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ1bmRlZmluZWQiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJwYXNzd29yZF9yZWNvdmVyeSIsImxvZ2luX2VtYWlsIiwicGFzc3dvcmRfY2hhbmdlIiwib2xkUGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsImNrYW5BbGxQb2x5Z29uc1VSTCIsIkF1dGhvcml6YXRpb24iLCJDb25maWdPYmoiLCIkY29yZG92YU5ldHdvcmsiLCJpc09mZmxpbmUiLCIkcSIsInVzZXJfbmFtZSIsInVzZXJfcGFzc3dvcmQiLCJ1c2VyX3BpY3R1cmVfdXJsIiwiX2lkIiwiX3JldiIsIl9kYiIsInB1dCIsIlBvdWNoREIiLCJzYXZlUmVwb3J0IiwiZGF0ZSIsIm5ld19yZXBvcnRfaWQiLCJnZXRNaWxsaXNlY29uZHMiLCJ1cGRhdGVSZXBvcnQiLCJnZXRDYXRlZ29yaWVzIiwic2F2ZUNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZ2V0UmVwb3J0IiwicmVwb3J0SWQiLCJnZXRBbGxSZXBvcnRzIiwiYWxsRG9jcyIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwic3RhcnRrZXkiLCJlbmRrZXkiLCJkZWxldGVSZXBvcnQiLCJyZXBvcnRfaWQiLCJkZWxldGVHaXZlblJlcG9ydCIsImpzb25SZXN1bHQiLCJlcnJvckNvbnRhaW5lcklkIiwiZXJyb3JEaXYiLCJTdGF0dXMiLCJNZXNzYWdlIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX3BvcHVwIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cCIsImVycm9ycyIsInZhbGlkYXRlX25vdF9lbXB0eSIsInZhbGlkYXRlX2VtYWlsIiwidmFsaWRhdGVfaWRkb2NfdXkiLCJ2YWxpZGF0ZV90d29fd29yZHMiLCJ2YWxpZGF0ZV9lcXVhbHNUbyIsIiRpb25pY0xvYWRpbmciLCJMT0FERVJBUEkiLCJzaG93TG9hZGluZyIsInRleHQiLCJoaWRlTG9hZGluZyIsInRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZSIsInNlbGYiLCJ0aGlzIiwiY29uZmlybVBvcHVwIiwiY29uZmlybSIsInNob3dBbGVydCIsIl90aXRsZSIsIl90ZW1wbGF0ZSIsImxvY2F0aW9uc09iaiIsImxhc3RfdXNlcl9sYXQiLCJsYXN0X3VzZXJfbG5nIiwic2VsZWN0ZWRfY291bmNpbCIsInNlbGVjdENvdW5jaWwiLCJjb3VuY2lsTmFtZSIsInNhdmVfbGFzdF91c2VyX3Bvc2l0aW9uIiwic2F2ZWRMb2NhdGlvbnMiLCJwcm9qNCIsImRlZnMiLCJtYXBTZXJ2aWNlIiwiZ29Ub1BsYWNlIiwiX2dlb0pzb24iLCJjcnMiLCJwcm9wZXJ0aWVzIiwiZmVhdHVyZXMiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwibm9tYnJlIiwiX2xhdGxuZyIsIlByb2oiLCJnZW9Kc29uIiwicG9pbnRUb0xheWVyIiwibGF0bG5nIiwiaHRtbFBvcFVwIiwiY29tcGlsZWQiLCJtYXJrZXIiLCJzZXRWaWV3Iiwib3BlblBvcHVwIiwibW9kYWxPQkoiLCJQaW4iLCJfZGF0YSIsImV4dGVuZCIsInBpbnNVUkwiLCJhcGlVUkwiLCJnZXRBbGwiLCJoYXNoX2lkIiwicmFuZG9tIiwic2VuZFVzZXJMb2NhdGlvbiIsIl9hbGwiLCJjdXJyZW50IiwiYnVpbGQiLCJwcm90b3R5cGUiLCJhbGVydF90aXRsZSIsImFsZXJ0X21lc3NhZ2UiLCJhc2tGb3JPbmVWYWx1ZVBvcFVwIiwiZmllbGRfbmFtZSIsInZhbGlkYXRpb25UeXBlIiwibXlQb3B1cCIsInN1YlRpdGxlIiwiYnV0dG9ucyIsIm9uVGFwIiwicHJldmVudERlZmF1bHQiLCJzZW1hcGhvcmVPYmoiLCJzZW1hcGhvcmVzIiwic2VtYXBob3JlSWQiLCJBcGlJbUVuZHBvaW50IiwiQXBpRGF0YUVuZHBvaW50IiwicmVzdFByZWZmaXgiLCJsb2NhdGlvbkFQSSIsInNlYXJjaExvY2F0aW9uQnlTdHIiLCJfbG9jYXRpb24iLCJtZXRob2QiLCJzZWFyY2hFc3F1aW5hQnlTdHIiLCJjYWxsZSIsImVzcXVpbmEiLCJnZXRMb2NhdGlvbkdlb20iLCJnZXRQYXJhbVBhdGhCeVRpcG8iLCJ0aXBvIiwiaSIsInBhdGhQYXJhbXMiLCJsZW5ndGgiLCJnZXRMb2NhdGlvbkdlb21QTUIiLCJlc3F1aW5hX251bWVybyIsIl90aXBvIiwicmVzdEdlb0RhdGFTZXJ2aWNlUGF0aCIsIkVTUVVJTkEiLCJESVJFQ0NJT04iLCJVc2VyT2JqIiwiZ2V0X3VzZXJfZGF0YSIsImFkZF9waG90byIsImlzTG9nZ2VkIiwidmFsdWVzIiwiZmlsdGVyIiwidiIs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UEEsR0FBNkIsSUFBUEEsRUFBVSxDQUNoRCxHQUFJK1IsR0FBSyx3SkFDVCxPQUFPQSxHQUFHQyxLQUFLaFMsR0FFZixPQUFPLEdBSWIwTCxrQkFBbUIsU0FBVTFMLEdBQzNCLEdBQVUsTUFBUEEsR0FBc0IsYUFBUEEsR0FBNkIsSUFBUEEsRUFBVSxDQUM5Q0EsRUFBUUEsRUFBTXhDLFFBQVEsTUFBTyxHQUM3QixJQUFJeVUsR0FBTWpTLEVBQU1BLEVBQU1pUixPQUFTLEdBQzNCNVMsRUFBSSxFQUFPMFMsRUFBSSxDQUNuQixJQUFHL1EsRUFBTWlSLFFBQVUsRUFDakIsSUFBSUYsRUFBSS9RLEVBQU1pUixPQUFRRixFQUFJLEVBQUdBLElBQzNCL1EsRUFBUSxJQUFNQSxDQUdsQixLQUFJK1EsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQ2hCMVMsR0FBTTZULFNBQVMsVUFBVW5CLElBQU1tQixTQUFTbFMsRUFBTStRLElBQU8sRUFFdkQsSUFBSXhYLEVBTUosT0FKRUEsR0FEQzhFLEVBQUUsS0FBTyxFQUNELEVBRUEsR0FBS0EsRUFBSSxHQUVqQjRULEdBQU8xWSxFQU1aLE9BQU8iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW9uaWMgU3RhcnRlciBBcHBcblxuLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdwbWJfaW0nIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgZXhhbXBsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnc3RhcnRlci5zZXJ2aWNlcycgaXMgZm91bmQgaW4gc2VydmljZXMuanNcbi8vICdzdGFydGVyLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xudmFyIHBtYl9pbSA9IHtcbiAgY29udHJvbGxlcnM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uY29udHJvbGxlcnMnLCBbXSksXG4gIHNlcnZpY2VzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLnNlcnZpY2VzJywgW10pXG59O1xuXG5wbWJfaW0uYXBwID0gYW5ndWxhci5tb2R1bGUoJ3BtYl9pbScsIFsnaW9uaWMnLCdpb25pYy53aXphcmQnLCdpb24tYXV0b2NvbXBsZXRlJywnbGVhZmxldC1kaXJlY3RpdmUnLCAncG1iX2ltLmNvbnRyb2xsZXJzJywgJ3BtYl9pbS5zZXJ2aWNlcycsICduZ0NvcmRvdmEnXSlcblxuLmNvbnN0YW50KCdBcGlJbUVuZHBvaW50Jywge1xuICB1cmw6ICdodHRwOi8vd3d3Lm1vbnRldmlkZW8uZ3ViLnV5J1xufSlcblxuLmNvbnN0YW50KCdBcGlEYXRhRW5kcG9pbnQnLCB7XG4gIHVybDogJ2h0dHA6Ly9iYWNrZW5kLmVkdWNhY2lvbi50aG9yLmRhdGF1eS5vcmcnXG59KVxuXG5cbi5ydW4oZnVuY3Rpb24oJGlvbmljUGxhdGZvcm0sICRyb290U2NvcGUsICRjb3Jkb3ZhS2V5Ym9hcmQpIHtcbiAgJHJvb3RTY29wZS5WRVJTSU9OID0gd2luZG93LlZFUlNJT047XG4gICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIC8vIEhpZGUgdGhlIGFjY2Vzc29yeSBiYXIgYnkgZGVmYXVsdCAocmVtb3ZlIHRoaXMgdG8gc2hvdyB0aGUgYWNjZXNzb3J5IGJhciBhYm92ZSB0aGUga2V5Ym9hcmRcbiAgICAvLyBmb3IgZm9ybSBpbnB1dHMpXG4gICAgaWYgKHdpbmRvdy5jb3Jkb3ZhICYmIHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpIHtcbiAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIoZmFsc2UpO1xuICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpO1xuICAgIH1cbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuaGlkZUFjY2Vzc29yeUJhcihmYWxzZSlcbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbChmYWxzZSlcbiAgICBpb25pYy5QbGF0Zm9ybS5pc0Z1bGxTY3JlZW4gPSB0cnVlO1xuICAgIGlmICh3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgfVxuICB9KTtcbn0pXG5cbi5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIpIHtcbiAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKTtcbiAgLy8kaW9uaWNDb25maWdQcm92aWRlci5zY3JvbGxpbmcuanNTY3JvbGxpbmcodHJ1ZSk7XG5cbiAgLy8gSW9uaWMgdXNlcyBBbmd1bGFyVUkgUm91dGVyIHdoaWNoIHVzZXMgdGhlIGNvbmNlcHQgb2Ygc3RhdGVzXG4gIC8vIExlYXJuIG1vcmUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG4gIC8vIFNldCB1cCB0aGUgdmFyaW91cyBzdGF0ZXMgd2hpY2ggdGhlIGFwcCBjYW4gYmUgaW4uXG4gIC8vIEVhY2ggc3RhdGUncyBjb250cm9sbGVyIGNhbiBiZSBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xuICAkc3RhdGVQcm92aWRlclxuXG4uc3RhdGUoJ2FwcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9hcHBcIixcbiAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWVudS5odG1sXCIsXG4gICAgY29udHJvbGxlcjogJ0Fic0NvbnRyb2xsZXInXG4gIH0pXG5cbi5zdGF0ZSgnYXBwLmluZGV4Jywge1xuICAgIGNhY2hlOiBmYWxzZSxcbiAgICB1cmw6IFwiL2luZGV4XCIsXG4gICAgdmlld3M6IHtcbiAgICAgICdtZW51Q29udGVudCcgOntcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL3N0YXRpYy9hcHAuY29tcG9uZW50Lmh0bWxcIixcbiAgICAgICAgY29udHJvbGxlciA6IFwiSW5kZXhDb250cm9sbGVyXCJcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbi5zdGF0ZSgnYXBwLmNvbnRhY3QnLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9jb250YWN0XCIsXG4gIHZpZXdzOiB7XG4gICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL3N0YXRpYy9jb250YWN0LmNvbXBvbmVudC5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJDb250YWN0Q29udHJvbGxlclwiXG4gICAgfVxuICB9XG59KVxuXG4uc3RhdGUoJ2FwcC5jb250ZW5pZG9zJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvY29udGVuaWRvc1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9zdGF0aWMvcHJlc3Mtcm9vbS5jb21wb25lbnQuaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiU3RhdGljQ29udHJvbGxlclwiXG4gICAgfVxuICB9XG59KVxuXG4uc3RhdGUoJ2FwcC5tZXRvZG9sb2dpYScsIHtcbiAgY2FjaGU6IGZhbHNlLFxuICB1cmw6IFwiL21ldG9kb2xvZ2lhXCIsXG4gIHZpZXdzOiB7XG4gICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL3N0YXRpYy9tZXRob2RvbG9neS5jb21wb25lbnQuaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiU3RhdGljQ29udHJvbGxlclwiXG4gICAgfVxuICB9XG59KVxuXG4uc3RhdGUoJ2FwcC5jb250YWN0bycsIHtcbiAgY2FjaGU6IGZhbHNlLFxuICB1cmw6IFwiL2NvbnRhY3RvXCIsXG4gIHZpZXdzOiB7XG4gICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL3N0YXRpYy9jb250YWN0LmNvbXBvbmVudC5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJTdGF0aWNDb250cm9sbGVyXCJcbiAgICB9XG4gIH1cbn0pXG5cbi5zdGF0ZSgnYXBwLm1hcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9tYXBcIixcbiAgICB2aWV3czoge1xuICAgICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWFwLmh0bWxcIixcbiAgICAgICAgY29udHJvbGxlciA6IFwiTWFwQ29udHJvbGxlclwiXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4uc3RhdGUoJ2FwcC5mb3JtJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvZm9ybVwiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9mb3JtLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXIgOiBcIkZvcm1DdHJsXCJcbiAgICB9XG4gIH1cbn0pXG5cbi5zdGF0ZSgnYXBwLmludHJvJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvaW50cm9cIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvaW50cm8uaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiSW50cm9DdHJsXCJcbiAgICB9XG4gIH1cbn0pXG5cbi8vIGlmIG5vbmUgb2YgdGhlIGFib3ZlIHN0YXRlcyBhcmUgbWF0Y2hlZCwgdXNlIHRoaXMgYXMgdGhlIGZhbGxiYWNrXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXBwL21hcCcpO1xuXG59KTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdBYnNDb250cm9sbGVyJyxcblsnJHNjb3BlJyxcbmZ1bmN0aW9uKCRzY29wZSkge1xuXG59XSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignRm9ybUN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckc3RhdGVQYXJhbXMnLFxuICAnJGlvbmljUGxhdGZvcm0nLFxuICAnJGlvbmljUG9wdXAnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsXG4gICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgREJTZXJ2aWNlLCAkaW9uaWNTbGlkZUJveERlbGVnYXRlLFxuICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSkge1xuXG4gICAgJHNjb3BlLmZvcm0gPSB7fTtcbiAgICAkc2NvcGUuZm9ybS5lZGFkID0gMTY7XG4gICAgJHNjb3BlLmZvcm0ucGxhbiA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ubHVnYXIgPSBcIlwiO1xuICAgICRzY29wZS5mb3JtLnR1cm5vID0gXCJcIjtcbiAgICAkc2NvcGUuZm9ybS5uaXZlbF9hcHJvYmFkbyA9IFwiXCI7XG4gICAgXG5cblx0ICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5uZXh0KCk7XG5cdCAgfTtcblxuXHQgICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5wcmV2aW91cygpO1xuXHQgIH07XG5cblx0ICAkc2NvcGUuZ29fdG9fbWFwID0gZnVuY3Rpb24oKXtcblx0ICAgICRzdGF0ZS5nbyhcImFwcC5tYXBcIik7XG5cdCAgfVxuXG4gIH1cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0luZGV4Q29udHJvbGxlcicsXG5bJyRzY29wZScsXG5mdW5jdGlvbigkc2NvcGUpIHtcblxufV0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGRiID0gREJTZXJ2aWNlLmluaXREQigpO1xuICBkYi5pbmZvKCkudGhlbihjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKTtcblxuICAkc2NvcGUuZ2VvbG9jYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDM1MDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfaW5pdGlhbF9wb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLmZvcm1cIik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5mb3JtXCIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICAgICBpZihMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwhPW51bGwpe1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwuaGlkZSgpO1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICAgJHNjb3BlLmdlb2xvY2F0ZSgpO1xuICAgfSk7XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignTWFwQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ18nLFxuICAnJGNvcmRvdmFDYW1lcmEnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckY29tcGlsZScsXG4gICckaW9uaWNNb2RhbCcsXG4gICckaW9uaWNQb3B1cCcsXG4gICdsZWFmbGV0RGF0YScsXG4gICdDb25maWdTZXJ2aWNlJyxcbiAgJ0xvY2F0aW9uc1NlcnZpY2UnLFxuICAnQ2thblNlcnZpY2UnLFxuICAnUGluU2VydmljZScsXG4gICdBdXRoU2VydmljZScsXG4gICdVc2VyU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICAnJHRpbWVvdXQnLFxuICAnJGludGVydmFsJyxcbiAgJyRsb2NhdGlvbicsXG4gICdFcnJvclNlcnZpY2UnLFxuICAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsXG4gICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsXG4gICdQb3BVcFNlcnZpY2UnLFxuICAnQ29ubmVjdGl2aXR5U2VydmljZScsXG4gICckY29yZG92YUluQXBwQnJvd3NlcicsXG4gICdNYXBTZXJ2aWNlJyxcbiAgJ01vZGFsU2VydmljZScsXG4gICdTZW1hcGhvcmVTZXJ2aWNlJyxcbiAgJ1ZhbGlkYXRpb25TZXJ2aWNlJyxcbiAgZnVuY3Rpb24oXG4gICAgJHNjb3BlLFxuICAgIF8sXG4gICAgJGNvcmRvdmFDYW1lcmEsXG4gICAgJGNvcmRvdmFHZW9sb2NhdGlvbixcbiAgICAkY29tcGlsZSxcbiAgICAkaW9uaWNNb2RhbCxcbiAgICAkaW9uaWNQb3B1cCxcbiAgICBsZWFmbGV0RGF0YSxcbiAgICBDb25maWdTZXJ2aWNlLFxuICAgIExvY2F0aW9uc1NlcnZpY2UsXG4gICAgQ2thblNlcnZpY2UsXG4gICAgUGluU2VydmljZSxcbiAgICBBdXRoU2VydmljZSxcbiAgICBVc2VyU2VydmljZSxcbiAgICBEQlNlcnZpY2UsXG4gICAgJHRpbWVvdXQsXG4gICAgJGludGVydmFsLFxuICAgICRsb2NhdGlvbixcbiAgICBFcnJvclNlcnZpY2UsXG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSxcbiAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSxcbiAgICBQb3BVcFNlcnZpY2UsXG4gICAgQ29ubmVjdGl2aXR5U2VydmljZSxcbiAgICAkY29yZG92YUluQXBwQnJvd3NlcixcbiAgICBNYXBTZXJ2aWNlLFxuICAgIE1vZGFsU2VydmljZSxcbiAgICBTZW1hcGhvcmVTZXJ2aWNlLFxuICAgIFZhbGlkYXRpb25TZXJ2aWNlXG4gICkge1xuXG4gICAgLyoqXG4gICAgICogT25jZSBzdGF0ZSBsb2FkZWQsIGdldCBwdXQgbWFwIG9uIHNjb3BlLlxuICAgICAqL1xuICAgICRzY29wZS5hc2VudGFtaWVudG9zX2xheWVycyA9IG5ldyBBcnJheSgpO1xuICAgICRzY29wZS5iYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMO1xuICAgICRzY29wZS5BcHBOYW1lID0gQ29uZmlnU2VydmljZS5BcHBOYW1lO1xuICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZSA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAkc2NvcGUub25lX3ZhbHVlX3BvcHVwID0gbnVsbDtcbiAgICAkc2NvcGUubXlJbnRlcnZhbHMgPSBuZXcgQXJyYXkoKTtcblxuICAgICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmJlZm9yZUVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgREJTZXJ2aWNlLmluaXREQigpO1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJHNjb3BlLnNldF9vZmZsaW5lX3VzZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYWZ0ZXJFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXAgPSBsZWFmbGV0RGF0YS5nZXRNYXAoKTtcbiAgICAgIGlmKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQhPVwiXCIpe1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQsIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcsIDEwKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKC0zNC45MDExMTMsIC01Ni4xNjQ1MzEsIDEwKTtcbiAgICAgIH1cblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9KTtcblxuXG4gICAgJHNjb3BlLm9wZW5XZWJzaXRlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vJyxcbiAgICAgICAgICAgICAgICBjbGVhcmNhY2hlOiAneWVzJyxcbiAgICAgICAgICAgICAgICB0b29sYmFyOiAnbm8nXG4gICAgICAgICAgICB9O1xuXG4gICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4odXJsLCAnX2JsYW5rJywgb3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICB0aWxlTGF5ZXI6ICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgbWluWm9vbTogMSxcbiAgICAgICAgICBtYXhab29tOiAxOCxcbiAgICAgICAgICB6b29tQ29udHJvbFBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICAgIG1hcmtlcnM6IHt9LFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgIGVuYWJsZTogWydjb250ZXh0J10sXG4gICAgICAgICAgICBsb2dpYzogJ2VtaXQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgICRzY29wZS5sb2FkUGluc0xheWVyKCk7XG4gICAgICAkc2NvcGUubWFwLmNlbnRlciA9IHtcbiAgICAgICAgICBsYXQ6IC0zNC45MDExMTMsXG4gICAgICAgICAgbG5nOiAtNTYuMTY0NTMxLFxuICAgICAgICAgIHpvb206IDEwXG4gICAgICAgIH07XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBtYXAub24oJ21vdmVlbmQnLCAkc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMpO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLm5leHQoKTtcbiAgfTtcblxuICAkc2NvcGUucHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnByZXZpb3VzKCk7XG4gIH07XG5cbiAgJHNjb3BlLmJhY2tfdG9fbWFwID0gZnVuY3Rpb24oYmFja190b19tYXApe1xuICAgIGlmKGJhY2tfdG9fbWFwKXtcbiAgICAgIC8vTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCA9ICRzY29wZS5yZXBvcnQubGF0O1xuICAgICAgLy9Mb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbG5nID0gJHNjb3BlLnJlcG9ydC5sb247XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIC8vJHNjb3BlLmFkZFJlcG9ydHNMYXllcigpO1xuICAgIH1lbHNle1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICB9XG5cblxuICAkc2NvcGUuaW1hZ2UgPSBudWxsO1xuXG4gICRzY29wZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKGlzRnJvbUFsYnVtLCBpc1VzZXJQaG90bywgaXNDb21tZW50UGhvdG8sIGlzTmV3VXNlclBob3RvKSB7XG4gICAgLy9hbGVydChcImFkZEltYWdlXCIpO1xuICAgICRzY29wZS5pc1VzZXJQaG90byA9IGlzVXNlclBob3RvO1xuICAgICRzY29wZS5pc0NvbW1lbnRQaG90byA9IGlzQ29tbWVudFBob3RvO1xuICAgICRzY29wZS5pc05ld1VzZXJQaG90byA9IGlzTmV3VXNlclBob3RvO1xuXG4gICAgdmFyIHNvdXJjZSA9IENhbWVyYS5QaWN0dXJlU291cmNlVHlwZS5DQU1FUkE7XG4gICAgdmFyIGZpeF9vcmllbnRhdGlvbiA9IHRydWU7XG4gICAgdmFyIHNhdmVfdG9fZ2FsbGVyeSA9IHRydWU7XG4gICAgaWYoaXNGcm9tQWxidW09PTEpe1xuICAgICAgc291cmNlID0gQ2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLlBIT1RPTElCUkFSWTtcbiAgICAgIGZpeF9vcmllbnRhdGlvbiA9IGZhbHNlO1xuICAgICAgc2F2ZV90b19nYWxsZXJ5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBxdWFsaXR5OiA5MCxcbiAgICAgIGRlc3RpbmF0aW9uVHlwZTogQ2FtZXJhLkRlc3RpbmF0aW9uVHlwZS5GSUxFX1VSSSxcbiAgICAgIHNvdXJjZVR5cGU6IHNvdXJjZSxcbiAgICAgIGFsbG93RWRpdDogZmFsc2UsXG4gICAgICBjb3JyZWN0T3JpZW50YXRpb24gOiBmaXhfb3JpZW50YXRpb24sXG4gICAgICBlbmNvZGluZ1R5cGU6IENhbWVyYS5FbmNvZGluZ1R5cGUuSlBFRyxcbiAgICAgIHBvcG92ZXJPcHRpb25zOiBDYW1lcmFQb3BvdmVyT3B0aW9ucyxcbiAgICAgIHNhdmVUb1Bob3RvQWxidW06IHNhdmVfdG9fZ2FsbGVyeSxcbiAgICAgIHRhcmdldFdpZHRoOiA1MDAsXG4gICAgICB0YXJnZXRIZWlnaHQ6IDUwMFxuICAgIH07XG5cblxuICAgICRjb3Jkb3ZhQ2FtZXJhLmdldFBpY3R1cmUob3B0aW9ucykudGhlbihmdW5jdGlvbihpbWFnZURhdGEpIHtcbiAgICAgIG9uSW1hZ2VTdWNjZXNzKGltYWdlRGF0YSk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uSW1hZ2VTdWNjZXNzKGZpbGVVUkkpIHtcbiAgICAgICAgd2luZG93LkZpbGVQYXRoLnJlc29sdmVOYXRpdmVQYXRoKGZpbGVVUkksIGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIC8vIG9uU3VjY2VzcyBjb2RlXG4gICAgICAgICAgLy9hbGVydChyZXN1bHQpO1xuICAgICAgICAgIGZpbGVVUkkgPSAnZmlsZTovLycgKyByZXN1bHQ7XG4gICAgICAgICAgaWYocmVzdWx0LnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpKXtcbiAgICAgICAgICAgIGZpbGVVUkkgPSByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCRzY29wZS5pc1VzZXJQaG90bz09MSl7XG4gICAgICAgICAgICAvL1VzZXJTZXJ2aWNlLmFkZF9waG90byhmaWxlVVJJKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLnBpY3R1cmVfdXJsID0gZmlsZVVSSTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmKCRzY29wZS5pc0NvbW1lbnRQaG90bz09MSl7XG4gICAgICAgICAgICAgICRzY29wZS5jb21tZW50LmZpbGUgPSBmaWxlVVJJO1xuICAgICAgICAgICAgfWVsc2UgaWYoJHNjb3BlLmlzTmV3VXNlclBob3RvPT0xKXtcbiAgICAgICAgICAgICAgJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmwgPSBmaWxlVVJJO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAkc2NvcGUuaW1nVVJJID0gZmlsZVVSSTtcbiAgICAgICAgICAvL2NyZWF0ZUZpbGVFbnRyeShmaWxlVVJJKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBhbGVydChcIkVycm9yIHJlc29sdmVOYXRpdmVQYXRoXCIgKyBlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbGVFbnRyeShmaWxlVVJJKSB7XG4gICAgICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGZpbGVVUkksIGNvcHlGaWxlLCBmYWlsKTtcbiAgICAgIH1cblxuICAgICAgLy8gNVxuICAgICAgZnVuY3Rpb24gY29weUZpbGUoZmlsZUVudHJ5KSB7XG4gICAgICAgIHZhciBuYW1lID0gZmlsZUVudHJ5LmZ1bGxQYXRoLnN1YnN0cihmaWxlRW50cnkuZnVsbFBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgICB2YXIgbmV3TmFtZSA9IG1ha2VpZCgpICsgbmFtZTtcblxuICAgICAgICB3aW5kb3cucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChjb3Jkb3ZhLmZpbGUuZGF0YURpcmVjdG9yeSwgZnVuY3Rpb24oZmlsZVN5c3RlbTIpIHtcbiAgICAgICAgICAgIGZpbGVFbnRyeS5jb3B5VG8oXG4gICAgICAgICAgICAgIGZpbGVTeXN0ZW0yLFxuICAgICAgICAgICAgICBuZXdOYW1lLFxuICAgICAgICAgICAgICBvbkNvcHlTdWNjZXNzLFxuICAgICAgICAgICAgICBmYWlsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIDZcbiAgICAgIGZ1bmN0aW9uIG9uQ29weVN1Y2Nlc3MoZW50cnkpIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuaW1hZ2UgPSBlbnRyeS5uYXRpdmVVUkw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmYWlsKGVycm9yKSB7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWFrZWlkKCkge1xuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuXG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnVybEZvckltYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGltYWdlVVJMID0gXCJodHRwOi8vcGxhY2Vob2xkLml0LzIwMHgyMDBcIjtcbiAgICBpZiAoJHNjb3BlLmltYWdlKSB7XG4gICAgICB2YXIgbmFtZSA9ICRzY29wZS5pbWFnZS5zdWJzdHIoJHNjb3BlLmltYWdlLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgIGltYWdlVVJMID0gY29yZG92YS5maWxlLmRhdGFEaXJlY3RvcnkgKyBuYW1lO1xuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKFwiSW1hZ2VVUkwgPSBcIiArIGltYWdlVVJMKTtcbiAgICByZXR1cm4gaW1hZ2VVUkw7XG4gIH07XG5cblxuICAgICRzY29wZS5zY3JvbGxNZSA9IGZ1bmN0aW9uKGFuY2hvcl9pZCl7XG4gICAgICAkbG9jYXRpb24uaGFzaChhbmNob3JfaWQpO1xuICAgICAgdmFyIGhhbmRsZSAgPSAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS4kZ2V0QnlIYW5kbGUoJ2NvbnRlbnQnKTtcbiAgICAgIGhhbmRsZS5hbmNob3JTY3JvbGwoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24gPSBmdW5jdGlvbihidXR0b25pZCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uaWQpLmNsYXNzTmFtZSA9IFwib3B0aW9uLWFjdGl2ZVwiO1xuICAgIH1cblxuICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cyA9IGZ1bmN0aW9uKCl7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX3JlcG9ydF9kZXRhaWxfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQgPSBudWxsO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2VudGVyIG1hcCBvbiB1c2VyJ3MgY3VycmVudCBwb3NpdGlvblxuICAgICAqL1xuICAgICRzY29wZS5sb2NhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubG5nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci56b29tID0gMTU7XG5cbiAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubm93ID0ge1xuICAgICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICBsbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIllvdSBBcmUgSGVyZVwiLFxuICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlXG4gICAgICAgICAgfTtcblxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2NhdGlvbiBlcnJvciFcIik7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cblxuXG4gICAgJHNjb3BlLmFkZE1hcENvbnRyb2xzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXBfY3Jvc3NoYWlyJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXBfY3Jvc3NoYWlyX2J1dHRvbicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICB9O1xuXG5cbiAgICAkc2NvcGUuY2hhbmdlVXNlckxvY2F0aW9uUGluID0gZnVuY3Rpb24obGF0LGxvbix1aWQpe1xuICAgICAgaWYoJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheVt1aWRdKXtcbiAgICAgICAgbGF5ZXIgPSAkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5W3VpZF07XG4gICAgICAgIHZhciBuZXdMYXRMbmcgPSBuZXcgTC5MYXRMbmcobGF0LCBsb24pO1xuICAgICAgICBsYXllci5zZXRMYXRMbmcobmV3TGF0TG5nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIC8qbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgdmFyIG1hcEJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICAgICAgJHNjb3BlLnVzZXJzVmlzaWJsZSA9IFtdO1xuICAgICAgICAgICRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXkuZm9yRWFjaChmdW5jdGlvbihsYXllcixrZXkpe1xuICAgICAgICAgICAgdmFyIHNob3VsZEJlVmlzaWJsZSA9IG1hcEJvdW5kcy5jb250YWlucyhsYXllci5nZXRMYXRMbmcoKSk7XG4gICAgICAgICAgICBpZiAoIXNob3VsZEJlVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEJlVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzVmlzaWJsZS5wdXNoKGxheWVyLmZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICB9KTsqL1xuICAgIH1cblxuICAgICRzY29wZS5sb2FkUGluc0xheWVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICAgQ2thblNlcnZpY2UuZ2V0QWxsUG9seWdvbnMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYoQ2thblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZT09bnVsbCB8fCAoQ2thblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZSAmJiBDa2FuU2VydmljZS5sYXN0UGluc1Jlc3BvbnNlIT1yZXNwb25zZSkpe1xuICAgICAgICAgICAgICBpZigkc2NvcGUuYXNlbnRhbWllbnRvc19sYXllcnMpe1xuICAgICAgICAgICAgICAgICRzY29wZS5hc2VudGFtaWVudG9zX2xheWVycy5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyLGtleSl7XG4gICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgQ2thblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKENrYW5TZXJ2aWNlLmxhc3RQaW5zUmVzcG9uc2UpO1xuICAgICAgICAgICAgICBDa2FuU2VydmljZS5sYXN0UGluc1Jlc3BvbnNlLnJlc3VsdC5yZWNvcmRzLmZvckVhY2goZnVuY3Rpb24oZmVhdHVyZSl7XG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLmdldFR5cGVPZk1hcE9iamVjdChmZWF0dXJlLndrdF9nZW9tKT09XCJQb2x5Z29uXCIpe1xuICAgICAgICAgICAgICAgICAgdmFyIGxhdGxuZ3MgPSAkc2NvcGUuZ2V0T25seUNvb3JkaW5hdGVzUG9seWdvbihmZWF0dXJlLndrdF9nZW9tKTtcbiAgICAgICAgICAgICAgICAgIHZhciBwb2x5Z29uID0gTC5wb2x5Z29uKGxhdGxuZ3MsIHtjb2xvcjogJ3JlZCd9KS5iaW5kUG9wdXAoZmVhdHVyZS5OT01fQVNUICsgXCIgLSBcIiArIGZlYXR1cmUuQ09EX0FTVCArIFwiIC0gXCIgKyBmZWF0dXJlLndrdF9nZW9tKS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgIH1lbHNlIGlmKCRzY29wZS5nZXRUeXBlT2ZNYXBPYmplY3QoZmVhdHVyZS53a3RfZ2VvbSk9PVwiTXVsdGlQb2x5Z29uXCIpe1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyRzY29wZS5hc2VudGFtaWVudG9zX2xheWVyc1tmZWF0dXJlLkNPRF9BU1RdID0gZmVhdHVyZTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGZlYXR1cmUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgLy8kc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgJHNjb3BlLmdldE9ubHlDb29yZGluYXRlc1BvbHlnb24gPSBmdW5jdGlvbih3a3RfZ2VvbSl7XG4gICAgd2t0X2dlb20gPSB3a3RfZ2VvbS5yZXBsYWNlKFwiUG9seWdvbiAoKFwiLFwiXCIpO1xuICAgIHdrdF9nZW9tID0gd2t0X2dlb20ucmVwbGFjZShcIikpXCIsXCJcIik7XG4gICAgdmFyIHBvaW50c0FycmF5ID0gd2t0X2dlb20uc3BsaXQoXCIsXCIpO1xuICAgIHZhciBwb2x5Z29uUG9pbnRzQ29vcmRpbmF0ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICBwb2ludHNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHBvaW50LGtleSl7XG4gICAgICBwb2ludCA9IHBvaW50LnRyaW0oKTtcbiAgICAgIHZhciBjb29yZGluYXRlc0FycmF5ID0gcG9pbnQuc3BsaXQoXCIgXCIpO1xuICAgICAgdmFyIGxhdCA9IGNvb3JkaW5hdGVzQXJyYXlbMF07XG4gICAgICB2YXIgbG9uID0gY29vcmRpbmF0ZXNBcnJheVsxXTtcbiAgICAgIHZhciBuZXdDb29yZGluYXRlcyA9IFBpblNlcnZpY2UuY29udmVydExhdExvbmdQcm9qKGxhdCxsb24sJHNjb3BlKTtcbiAgICAgIHZhciBsYXRsb24gPSBbbmV3Q29vcmRpbmF0ZXMubGF0LCBuZXdDb29yZGluYXRlcy5sbmddO1xuICAgICAgcG9seWdvblBvaW50c0Nvb3JkaW5hdGVzLnB1c2gobGF0bG9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcG9seWdvblBvaW50c0Nvb3JkaW5hdGVzO1xuICB9XG5cbiAgJHNjb3BlLmdldFR5cGVPZk1hcE9iamVjdCA9IGZ1bmN0aW9uKHdrdF9nZW9tKXtcbiAgICBpZih3a3RfZ2VvbS5zdGFydHNXaXRoKFwiTXVsdGlQb2x5Z29uXCIpKXtcbiAgICAgIHJldHVybiBcIk11bHRpUG9seWdvblwiO1xuICAgIH1cbiAgICBpZih3a3RfZ2VvbS5zdGFydHNXaXRoKFwiUG9seWdvblwiKSl7XG4gICAgICByZXR1cm4gXCJQb2x5Z29uXCI7XG4gICAgfVxuICB9XG5cbiAgICAvL1BBUkEgQ09OVFJPTEFSIEVMIEVOVEVSIEVOIEFMR1VOT1MgRk9STVNcbiAgICAvKiRzY29wZS5rZXlfcHJlc3MgPSBmdW5jdGlvbihldmVudCxzdGFnZSl7XG4gICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgICBpZihzdGFnZT09J3ByaXZhdGVfY2hhdCcpe1xuICAgICAgICBpZihrZXlDb2RlPT0xMyl7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmKGNvcmRvdmE9PT1udWxsKXtcblxuICAgICAgICAgICAgfWVsc2UgaWYoY29yZG92YSYmY29yZG92YS5wbHVnaW5zLktleWJvYXJkKXtcbiAgICAgICAgICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoKGVycikge1xuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSovXG5cblxuICAgICRzY29wZS50aW1lQ29udmVydGVyID0gZnVuY3Rpb24oVU5JWF90aW1lc3RhbXApe1xuICAgICAgdmFyIGEgPSBuZXcgRGF0ZShVTklYX3RpbWVzdGFtcCAqIDEwMDApO1xuICAgICAgdmFyIG1vbnRocyA9IFsnRW5lcm8nLCdGZWJyZXJvJywnTWFyem8nLCdBYnJpbCcsJ01heW8nLCdKdW5pbycsJ0p1bGlvJywnQWdvc3RvJywnU2V0aWVtYnJlJywnT2N0dWJyZScsJ05vdmllbWJyZScsJ0RpY2llbWJyZSddO1xuICAgICAgdmFyIHllYXIgPSBhLmdldEZ1bGxZZWFyKCk7XG4gICAgICAvL3ZhciBtb250aCA9IG1vbnRoc1thLmdldE1vbnRoKCldO1xuICAgICAgdmFyIG1vbnRoID0gYS5nZXRNb250aCgpO1xuICAgICAgaWYobW9udGg8MTApe1xuICAgICAgICBtb250aCA9IFwiMFwiK21vbnRoO1xuICAgICAgfVxuICAgICAgdmFyIGRheSA9IGEuZ2V0RGF0ZSgpO1xuICAgICAgaWYoZGF5PDEwKXtcbiAgICAgICAgZGF5ID0gXCIwXCIrZGF5O1xuICAgICAgfVxuICAgICAgdmFyIGhvdXIgPSBhLmdldEhvdXJzKCk7XG4gICAgICBpZihob3VyPDEwKXtcbiAgICAgICAgaG91ciA9IFwiMFwiK2hvdXI7XG4gICAgICB9XG4gICAgICB2YXIgbWluID0gYS5nZXRNaW51dGVzKCk7XG4gICAgICBpZihtaW48MTApe1xuICAgICAgICBtaW4gPSBcIjBcIittaW47XG4gICAgICB9XG4gICAgICB2YXIgc2VjID0gYS5nZXRTZWNvbmRzKCk7XG4gICAgICB2YXIgdGltZSA9IGRheSArICcvJyArIG1vbnRoICsgJy8nICsgeWVhciArICcgJyArIGhvdXIgKyAnOicgKyBtaW47XG4gICAgICByZXR1cm4gdGltZTtcbiAgICB9XG5cblxuXG4gICAgLy8gU3VnZ2VzdGlvblxuICAgICRzY29wZS5tb2RlbCA9IFtdO1xuICAgICRzY29wZS5leHRlcm5hbE1vZGVsID0gW107XG4gICAgJHNjb3BlLnNlbGVjdGVkSXRlbXMgPSBbXTtcbiAgICAkc2NvcGUucHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyA9IFtdO1xuICAgICRzY29wZS5jbGlja2VkVmFsdWVNb2RlbCA9IFwiXCI7XG4gICAgJHNjb3BlLnJlbW92ZWRWYWx1ZU1vZGVsID0gXCJcIjtcblxuXG4gICAgJHNjb3BlLml0ZW1zUmVtb3ZlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVzZXJfb3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgICAvKnZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIGlmKG1lbnUuc3R5bGUuZGlzcGxheT09XCJibG9ja1wiKXtcbiAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhVc2VyU2VydmljZS5uYW1lKTtcbiAgICAgICAgdmFyIG5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL05vIGVzdGEgbG9ndWVhZG9cbiAgICAgICAgICAkc2NvcGUuc2hvd19hbm9ueW1vdXNfbWVudSgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL0VzdMOhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfdXNlcl9tZW51KCk7XG4gICAgICAgIH1cbiAgICAgIH0qL1xuICAgIH1cblxuICAgICRzY29wZS5zaG93X2Fub255bW91c19tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8qdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0nbm9uYXV0aC1saW5rJyBuZy1jbGljaz0nc2hvd19sb2dpbl9tb2RhbCgpJz5JbmljaWFyIHNlc2nDs248L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X3NpZ25fdXBfbW9kYWwoKSc+UmVnaXN0cmFyc2U8L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMTIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcxNTBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7Ki9cbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd191c2VyX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgLyp2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICB2YXIgaHRtbCA9IFVzZXJTZXJ2aWNlLm5hbWUgKyBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J3Nob3dfZWRpdF9wcm9maWxlX21vZGFsKCknPk1pIHBlcmZpbDwvZGl2PlwiO1xuICAgICAgLy9odG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2NoYW5nZV9wYXNzd29yZCgpJz5DYW1iaWFyIGNvbnRyYXNlw7FhPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J3NpZ25fb3V0KCknPkNlcnJhciBzZXNpw7NuPC9kaXY+PC9kaXY+XCI7XG4gICAgICBtZW51LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAkY29tcGlsZShtZW51KSgkc2NvcGUpOyAvLzwtLS0tIHJlY29tcGlsYXRpb25cbiAgICAgIG1lbnUuc3R5bGUuaGVpZ2h0ID0gJzIyMHB4JztcbiAgICAgIG1lbnUuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiOyovXG4gICAgfTtcblxuICAgICRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkgPSBmdW5jdGlvbihuYW1lLHR5cGUsdmFsdWUpe1xuICAgICAgdmFyIGZpZWxkID0gbmV3IEFycmF5KCk7XG4gICAgICBmaWVsZC5uYW1lID0gbmFtZTtcbiAgICAgIGZpZWxkLnR5cGUgPSB0eXBlO1xuICAgICAgZmllbGQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBmaWVsZDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheV93aXRoX3R3b0ZpZWxkcyA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSxzZWNvbmRWYWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgZmllbGQuc2Vjb25kVmFsdWUgPSBzZWNvbmRWYWx1ZTtcbiAgICAgIHJldHVybiBmaWVsZDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmZpeF9mYl9pbWFnZV9saW5rID0gZnVuY3Rpb24odXJsKXtcbiAgICAgIGlmKHVybC5pbmRleE9mKFwiaHR0cDovL2dyYXBoLmZhY2Vib29rLmNvbVwiKSA+PSAwKXtcbiAgICAgICAgdmFyIHBhcnRzID0gdXJsLnNwbGl0KFwiaHR0cDovL2dyYXBoLmZhY2Vib29rLmNvbVwiKTtcbiAgICAgICAgdmFyIG5ld1VybCA9IFwiaHR0cDovL2dyYXBoLmZhY2Vib29rLmNvbVwiK3BhcnRzWzFdO1xuICAgICAgICByZXR1cm4gbmV3VXJsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxvZ19pbiA9IGZ1bmN0aW9uKHVzZXIsIHBhc3N3b3JkKXtcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwic3VibWl0LWZvcm1cIikpe1xuICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIlVzdWFyaW9cIixcIm5vdE51bGxcIix1c2VyKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIscGFzc3dvcmQpKTtcbiAgICAgICAgICBpZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGRzKGZpZWxkcyxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICBBdXRoU2VydmljZS5sb2dfaW4odXNlcixwYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwocmVzcCxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgcGhvdG8gPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8pO1xuICAgICAgICAgICAgICAgIGlmKHBob3RvPT1cImFub25cIil7XG4gICAgICAgICAgICAgICAgICBwaG90bz1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQsIHBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQscGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgLy9hbGVydChcIkVycm9yIGVuIHNpZ25faW5cIik7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIscmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIGluaWNpYXIgc2VzacOzbiBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmxvZ19pbl9iYWNrZ3JvdW5kID0gZnVuY3Rpb24odXNlciwgcGFzc3dvcmQpe1xuICAgICAgQXV0aFNlcnZpY2UubG9nX2luKHVzZXIscGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgocmVzcCkpe1xuICAgICAgICAgIHBob3RvID0gJHNjb3BlLmZpeF9mYl9pbWFnZV9saW5rKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvKTtcbiAgICAgICAgICBpZihwaG90bz09XCJhbm9uXCIpe1xuICAgICAgICAgICAgcGhvdG89XCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsIHBhc3N3b3JkLCBwaG90bywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcigkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lLHBhc3N3b3JkLHBob3RvLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlNob3dMb2NhdGlvbiwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG5cbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChyZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2lnbl9vdXQgPSBmdW5jdGlvbigpe1xuICAgICAgVXNlclNlcnZpY2UuZXJhc2VfdXNlcl9kYXRhKCk7XG4gICAgICBEQlNlcnZpY2UuZXJhc2VVc2VyKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAvKmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjsqL1xuICAgIH1cblxuICAgICRzY29wZS5zaG93X2VkaXRfcHJvZmlsZV9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSBlZGl0X3Byb2ZpbGVfb2tcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAkc2NvcGUubmV3dXNlciA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5lbWFpbCA9IFVzZXJTZXJ2aWNlLmVtYWlsO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5nZW5kZXIgPSBVc2VyU2VydmljZS5nZW5kZXI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnVzZXJuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuaW50ZXJlc3RlZCA9IFVzZXJTZXJ2aWNlLmludGVyZXN0ZWQ7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnN0YXR1cyA9IFVzZXJTZXJ2aWNlLnN0YXR1cztcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuc2hvd19sb2NhdGlvbiA9IFVzZXJTZXJ2aWNlLnNob3dfbG9jYXRpb247XG4gICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBVc2VyU2VydmljZS5waWN0dXJlX3VybDtcbiAgICAgICAgaWYoJHNjb3BlLmFjdHVhbF9waG90byE9bnVsbCl7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYoJHNjb3BlLmFjdHVhbF9waG90bz09XCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCIpe1xuICAgICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgIGlmKFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZWRpdF9wcm9maWxlX3dpdGhfcGhvdG8uaHRtbCcsIHtcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGVfd2l0aF9waG90b19kZXNrdG9wLmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgICRzY29wZS5yZWFkVVJMID0gZnVuY3Rpb24gKGlucHV0LHR5cGUpIHtcbiAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xuICAgICAgICBpZih0eXBlPT0xKXtcbiAgICAgICAgICAkc2NvcGUubmV3dXNlci5waWN0dXJlX3VybCA9IGlucHV0LmZpbGVzWzBdO1xuICAgICAgICAgICAgfWVsc2UgaWYgKHR5cGU9PTIpe1xuICAgICAgICAgICRzY29wZS5jb21tZW50LnBob3RvID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRzY29wZS5yZXBvcnQuZmlsZSA9IGlucHV0LmZpbGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlJbWFnZVwiKS5zcmMgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xuICAgIH1cblxuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgLy9DYXJnYXIgZWwgbW9kYWwgY29uIGxhIGluZm8gZGVsIHVzdWFyaW8gbG9ndWVhZG8geSBjb24gZWwgc3VibWl0IGEgdXBkYXRlX3VzZXJcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZWRpdF9wcm9maWxlX29rID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5lZGl0X3Byb2ZpbGUoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIGlmKHJlc3BvbnNlLmRhdGEpe1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmVkaXRfcHJvZmlsZSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcInN1Ym1pdC1mb3JtXCIpKXtcbiAgICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgLyp2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvcnJlbyBlbGVjdHLDs25pY29cIixcImVtYWlsXCIsbmV3X2VtYWlsKSk7XG4gICAgICAgICAgLy9maWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIixwYXNzd29yZCkpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDw6lkdWxhIGRlIElkZW50aWRhZFwiLFwiaWRkb2NfdXlcIixpZF9kb2MpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTm9tYnJlIHkgYXBlbGxpZG9cIixcInR3b193b3Jkc1wiLGZ1bGxuYW1lKSk7Ki9cbiAgICAgICAgICAvKmlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXsqL1xuICAgICAgICAgICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkID0gVXNlclNlcnZpY2UucGFzc3dvcmQ7XG4gICAgICAgICAgICB2YXIgZWRpdF9yZXF1ZXN0ID0gQXV0aFNlcnZpY2UuZWRpdF91c2VyKCRzY29wZS5uZXd1c2VyKTtcbiAgICAgICAgICAgIGlmKCRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsPT1udWxsIHx8ICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsPT1cIlwiIHx8ICFWYWxpZGF0aW9uU2VydmljZS5pc01vYmlsZURldmljZSgpKXtcbiAgICAgICAgICAgICAgZWRpdF9yZXF1ZXN0LnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogMTAwJVwiO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcCk7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChyZXNwLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycyxjb25maWcpe1xuICAgICAgICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJcIixzdGF0dXMpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgZWRpdF9yZXF1ZXN0LnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZGF0YS5OYW1lLCAkc2NvcGUubmV3dXNlci5wYXNzd29yZCwgZGF0YS5QaG90bywgZGF0YS5TaG93TG9jYXRpb24sIGRhdGEuVWlkLCBkYXRhLkVzdGFkbywgZGF0YS5HZW5kZXIsIGRhdGEuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcihkYXRhLk5hbWUsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsZGF0YS5QaG90byxkYXRhLlNob3dMb2NhdGlvbixkYXRhLlVpZCxkYXRhLkVzdGFkbywgZGF0YS5HZW5kZXIsIGRhdGEuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxlcnQgPSBcIkPDs2RpZ286IFwiICsgZXJyb3IuY29kZTtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgT3JpZ2VuOiBcIiArIGVycm9yLnNvdXJjZTtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgRGVzdGlubzogXCIgKyBlcnJvci50YXJnZXQ7XG4gICAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIGh0dHBfc3RhdHVzOiBcIiArIGVycm9yLmh0dHBfc3RhdHVzO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBCb2R5OiBcIiArIGVycm9yLmJvZHk7XG4gICAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIEV4Y2VwdGlvbjogXCIgKyBlcnJvci5leGNlcHRpb247XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLFwiSHVibyB1biBlcnJvciBlbiBlbCBlbnbDrW86IFwiICsgYWxlcnQpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZFByb2dyZXNzID0gKHByb2dyZXNzLmxvYWRlZCAvIHByb2dyZXNzLnRvdGFsKSAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogXCIgKyBNYXRoLnJvdW5kKCRzY29wZS51cGxvYWRQcm9ncmVzcykgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvKn1lbHNle1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgfSovXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJTaW4gY29uZXhpw7NuIGEgaW50ZXJuZXRcIixcIlBhcmEgZWRpdGFyIHN1IHBlcmZpbCBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuc2hvd19sb2dpbl9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gZWwgZm9ybSBkZSBsb2dpbiB5IGFoaSBsbGFtYSBhbCBzaWduX2luXG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcIm9wZW4tbW9kYWxcIikpe1xuICAgICAgICAkc2NvcGUubm9uYXV0aCA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkc2NvcGUubm9uYXV0aC51c2VyID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQgPSBcIlwiO1xuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2xvZ19pbi5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUubG9naW5fb2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmxvZ19pbigkc2NvcGUubm9uYXV0aC51c2VyLCRzY29wZS5ub25hdXRoLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfbG9naW5fbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2hvd19zaWduX3VwX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vY2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIHNpZ25fdXAgeSBkZSBhaGkgbGxhbWFyIGFsIHNpZ25fdXBcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICRzY29wZS5uZXd1c2VyID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmVtYWlsID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5mdWxsbmFtZSA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmlkX2RvYyA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnRlbGVwaG9uZSA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnBob3RvID0gXCJcIjtcbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICBpZihWYWxpZGF0aW9uU2VydmljZS5pc01vYmlsZURldmljZSgpKXtcbiAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9zaWduX3VwLmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3NpZ25fdXBfZGVza3RvcC5odG1sJywge1xuICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2Vfc2lnbl91cF9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNpZ25fdXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJzdWJtaXQtZm9ybVwiKSl7XG4gICAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAvKmZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb3JyZW8gZWxlY3Ryw7NuaWNvXCIsXCJlbWFpbFwiLCRzY29wZS5uZXd1c2VyLmVtYWlsKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiVXN1YXJpb1wiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLnVzZXJuYW1lKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkfDqW5lcm9cIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5nZW5kZXIpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiSW50ZXJlc2FkbyBlblwiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLmludGVyZXN0ZWQpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRXN0YWRvXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIuc3RhdHVzKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIk1vc3RyYXIgdWJpY2FjacOzblwiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLnNob3dfbG9jYXRpb24pKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzKFwiJ0NvbnRyYXNlw7FhJyB5ICdDb25maXJtYXIgY29udHJhc2XDsWEnXCIsXCJlcXVhbHNUb1wiLCRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCAkc2NvcGUubmV3dXNlci5yZXBhc3N3b3JkKSk7Ki9cbiAgICAgICAgICAvL2lmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgIGlmKCRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsIT1udWxsICYmICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsIT1cIlwiICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgICBBdXRoU2VydmljZS5jcmVhdGVfdXNlcigkc2NvcGUubmV3dXNlcikudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiAxMDAlXCI7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZGF0YS5uYW1lLCBkYXRhLmVtYWlsLCAkc2NvcGUubmV3dXNlci5wYXNzd29yZCwgZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgZGF0YS5waG9uZSwgZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLlBob3RvLCBkYXRhLlNob3dMb2NhdGlvbiwgZGF0YS5VaWQsIGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKGRhdGEuTmFtZSxwYXNzd29yZCxkYXRhLlBob3RvLGRhdGEuU2hvd0xvY2F0aW9uLGRhdGEuVWlkLGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBBdXRoU2VydmljZS5jcmVhdGVfdXNlcigkc2NvcGUubmV3dXNlcikudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChyZXNwLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2Vfc2lnbl91cF9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiVXN1YXJpbyBjcmVhZG8gY29uIMOpeGl0b1wiLFxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8qfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHJlZ2lzdHJhcnNlIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl91cF9vayA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL2NvbnNvbGUubG9nKCRzY29wZS5uZXd1c2VyKTtcbiAgICAgICRzY29wZS5zaWduX3VwKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgIGlmKG5hbWU9PW51bGwpe1xuICAgICAgICAgIC8vU2kgSGF5IHVuIHVzdWFyaW8gZ3VhcmRhZG9cbiAgICAgICAgICB2YXIgdXNlciA9IERCU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgICAgdXNlci50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgIGlmKGRvYy5uYW1lIT1udWxsICYmIGRvYy5uYW1lIT1cIlwiICYmIGRvYy5uYW1lIT1cInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmxvZ19pbl9iYWNrZ3JvdW5kKGRvYy5uYW1lLCBkb2MucGFzc3dvcmQpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmw9PW51bGwgfHwgVXNlclNlcnZpY2UucGljdHVyZV91cmw9PVwiXCIpe1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyBubyB0aWVuZSBmb3RvIGRlZmluaWRhXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyB0aWVuZSBmb3RvXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL1NpIEhheSB1biB1c3VhcmlvIGd1YXJkYWRvXG4gICAgICAgICAgdmFyIHVzZXIgPSBEQlNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBpZihkb2MubmFtZSE9bnVsbCAmJiBkb2MubmFtZSE9XCJcIiAmJiBkb2MubmFtZSE9XCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRvYy5uYW1lLCBkb2MucGFzc3dvcmQsIGRvYy5waWN0dXJlX3VybCwgZG9jLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmw9PW51bGwgfHwgVXNlclNlcnZpY2UucGljdHVyZV91cmw9PVwiXCIpe1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyBubyB0aWVuZSBmb3RvIGRlZmluaWRhXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyB0aWVuZSBmb3RvXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUgPSBmdW5jdGlvbihoYXNQaG90byl7XG4gICAgICB2YXIgcGljdHVyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9waWN0dXJlXCIpO1xuICAgICAgaWYoaGFzUGhvdG89PTApe1xuICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZT1cIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmwhPW51bGwgJiYgVXNlclNlcnZpY2UucGljdHVyZV91cmwhPVwiXCIpe1xuICAgICAgICAgIC8vYWxlcnQoVXNlclNlcnZpY2UucGljdHVyZV91cmwpO1xuICAgICAgICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZT1Vc2VyU2VydmljZS5waWN0dXJlX3VybDtcbiAgICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBVc2VyU2VydmljZS5waWN0dXJlX3VybCArIFwiKVwiO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmZpbmRfbWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oXCJidXR0b24tZmluZC1tZVwiKTtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDEwMDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9O1xuICAgICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxhdCAgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubG5nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUscG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLnpvb20gPSAxODtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLnpvb20gPSAxNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLm5vdyA9IHtcbiAgICAgICAgICAgICAgICAgIGxhdDpwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICBsbmc6cG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiPHAgYWxpZ249J2NlbnRlcic+VGUgZW5jdWVudHJhcyBhcXXDrSA8YnIvPiA8YSBuZy1jbGljaz0nbmV3X3JlcG9ydCgxKTsnPkluaWNpYXIgcmVwb3J0ZSBlbiB0dSBwb3NpY2nDs24gYWN0dWFsPC9hPjwvcD5cIixcbiAgICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGdldE1lc3NhZ2VTY29wZTogZnVuY3Rpb24oKSB7IHJldHVybiAkc2NvcGU7IH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vJHNjb3BlLm1hcC5tYXJrZXJzLm5vdy5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiTG9jYXRpb24gZXJyb3IhXCIpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAoXCJObyBoZW1vcyBwb2RpZG8gZ2VvbG9jYWxpemFybG8uIMK/VGFsIHZleiBvbHZpZMOzIGhhYmlsaXRhciBsb3Mgc2VydmljaW9zIGRlIGxvY2FsaXphY2nDs24gZW4gc3UgZGlzcG9zaXRpdm8/XCIpXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5Db3VuY2lsU2VsZWN0b3IoKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9O1xuXG4gICAgICAvKiogRklMVEVSUyBKUyAqL1xuICAgICAgJHNjb3BlLnN1Ym1pdEZpbHRlcnMgPSBmdW5jdGlvbigpe1xuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuZmlsdGVycyk7XG4gICAgICAgICRzY29wZS5HZXREYXRhKCRzY29wZS5maWx0ZXJzKTtcbiAgICAgIH07XG4gICAgICAkc2NvcGUudG9nZ2xlR3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBjb25zb2xlLmxvZyhncm91cCk7XG4gICAgICAgIGlmICgkc2NvcGUuaXNHcm91cFNob3duKGdyb3VwKSkge1xuICAgICAgICAgICRzY29wZS5zaG93bkdyb3VwID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkc2NvcGUuc2hvd25Hcm91cCA9IGdyb3VwO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgJHNjb3BlLmlzR3JvdXBTaG93biA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiAkc2NvcGUuc2hvd25Hcm91cCA9PT0gZ3JvdXA7XG4gICAgICB9O1xuICB9XG5cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ1N0YXRpY0NvbnRyb2xsZXInLFxuWyckc2NvcGUnLFxuZnVuY3Rpb24oJHNjb3BlKSB7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdBdXRoU2VydmljZScsIFsnJGh0dHAnLCAnJGNvcmRvdmFGaWxlVHJhbnNmZXInLCAnQ29uZmlnU2VydmljZScsJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLCBDb25maWdTZXJ2aWNlLCBWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL1wiO1xuXG4gIHJldHVybiB7XG4gICAgbG9nX2luOiBmdW5jdGlvbiAodXNlcixwYXNzd29yZCkge1xuICAgICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcisnJnBhc3N3b3JkPScrcGFzc3dvcmQ7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnbG9naW4nLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgfSxcblxuICAgIHNpZ25fb3V0OiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25fb3V0XCIsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCBwYXJhbXM6IHsgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsIGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVfdXNlcjogZnVuY3Rpb24gKHVzZXJPYmopIHtcbiAgICAgIGlmKHVzZXJPYmoucGljdHVyZV91cmwgJiYgVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgLy9maWxlTmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAvL2NodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIC8vbWltZVR5cGU6IFwiaW1hZ2UvanBnXCIsXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICBwYXJhbXMgOiB7ICB1c2VyOiB1c2VyT2JqLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJPYmoucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlck9iai5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgIGdlbmRlcjogdXNlck9iai5nZW5kZXIsXG4gICAgICAgICAgICAgICAgICAgICBpbnRlcmVzdGVkOiB1c2VyT2JqLmludGVyZXN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHVzZXJPYmouc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgc2hvd19sb2NhdGlvbjogdXNlck9iai5zaG93X2xvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2VVUkwgKyBcImNyZWF0ZV91c2VyXCIsIHVzZXJPYmoucGljdHVyZV91cmwsIG9wdGlvbnMsIHRydXN0QWxsSG9zdHMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGlmKHVzZXJPYmoucGljdHVyZV91cmwpe1xuICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBob3RvXCIsIHVzZXJPYmoucGljdHVyZV91cmwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInVzZXJcIiwgdXNlck9iai51c2VybmFtZSk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwicGFzc3dvcmRcIiwgdXNlck9iai5wYXNzd29yZCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiZW1haWxcIiwgdXNlck9iai5lbWFpbCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiZ2VuZGVyXCIsIHVzZXJPYmouZ2VuZGVyKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJpbnRlcmVzdGVkXCIsIHVzZXJPYmouaW50ZXJlc3RlZCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic3RhdHVzXCIsIHVzZXJPYmouc3RhdHVzKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJzaG93X2xvY2F0aW9uXCIsIHVzZXJPYmouc2hvd19sb2NhdGlvbik7XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdjcmVhdGVfdXNlcicsIGZvcm1EYXRhLCB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VyT2JqLnVzZXJuYW1lKycmcGFzc3dvcmQ9Jyt1c2VyT2JqLnBhc3N3b3JkKycmZW1haWw9Jyt1c2VyT2JqLmVtYWlsKycmZ2VuZGVyPScrdXNlck9iai5nZW5kZXI7XG4gICAgICAgICAgYm9keSA9IGJvZHkgKycmaW50ZXJlc3RlZD0nK3VzZXJPYmouaW50ZXJlc3RlZCsnJnN0YXR1cz0nK3VzZXJPYmouc3RhdHVzKycmc2hvd19sb2NhdGlvbj0nK3VzZXJPYmouc2hvd19sb2NhdGlvbjtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NyZWF0ZV91c2VyJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgcGFzc3dvcmRfcmVjb3Zlcnk6IGZ1bmN0aW9uIChlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJmb3Jnb3RfcGFzc3dvcmRcIiwgeyBwYXJhbXM6IHsgbG9naW5fZW1haWw6IGVtYWlsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBwYXNzd29yZF9jaGFuZ2U6IGZ1bmN0aW9uIChlbWFpbCxvbGRQYXNzd29yZCxuZXdQYXNzd29yZCxjb25maXJtUGFzc3dvcmQpIHtcblxuICAgICAgdmFyIGJvZHkgPSAnZW1haWw9JytlbWFpbCsnJnBhc3N3b3JkX3NpZ25faW49JytvbGRQYXNzd29yZCsnJm5ld19wYXNzd29yZD0nK25ld1Bhc3N3b3JkKycmY29uZmlybT0nK2NvbmZpcm1QYXNzd29yZDtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnY2hhbmdlX3Bhc3N3b3JkJywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcblxuICAgIH0sXG5cblxuICAgIGVkaXRfdXNlcjogZnVuY3Rpb24gKHVzZXJPYmopIHtcbiAgICAgIGlmKHVzZXJPYmoucGljdHVyZV91cmwgJiYgVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgLy9maWxlTmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAvL2NodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIC8vbWltZVR5cGU6IFwiaW1hZ2UvanBnXCIsXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICBwYXJhbXMgOiB7ICB1c2VyOiB1c2VyT2JqLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJPYmoucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlck9iai5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgIGdlbmRlcjogdXNlck9iai5nZW5kZXIsXG4gICAgICAgICAgICAgICAgICAgICBpbnRlcmVzdGVkOiB1c2VyT2JqLmludGVyZXN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHVzZXJPYmouc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgc2hvd19sb2NhdGlvbjogdXNlck9iai5zaG93X2xvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2VVUkwgKyBcImVkaXRfcHJvZmlsZVwiLCB1c2VyT2JqLnBpY3R1cmVfdXJsLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlck9iai51c2VybmFtZSsnJnBhc3N3b3JkPScrdXNlck9iai5wYXNzd29yZCsnJmVtYWlsPScrdXNlck9iai5lbWFpbCsnJmdlbmRlcj0nK3VzZXJPYmouZ2VuZGVyO1xuICAgICAgICBib2R5ID0gYm9keSArJyZpbnRlcmVzdGVkPScrdXNlck9iai5pbnRlcmVzdGVkKycmc3RhdHVzPScrdXNlck9iai5zdGF0dXMrJyZzaG93X2xvY2F0aW9uPScrdXNlck9iai5zaG93X2xvY2F0aW9uO1xuICAgICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsKXtcbiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwaG90b1wiLCB1c2VyT2JqLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJ1c2VyXCIsIHVzZXJPYmoudXNlcm5hbWUpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBhc3N3b3JkXCIsIHVzZXJPYmoucGFzc3dvcmQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImVtYWlsXCIsIHVzZXJPYmouZW1haWwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImdlbmRlclwiLCB1c2VyT2JqLmdlbmRlcik7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiaW50ZXJlc3RlZFwiLCB1c2VyT2JqLmludGVyZXN0ZWQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInN0YXR1c1wiLCB1c2VyT2JqLnN0YXR1cyk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic2hvd19sb2NhdGlvblwiLCB1c2VyT2JqLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZWRpdF9wcm9maWxlJywgZm9ybURhdGEsIHtcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH0sXG4gICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdlZGl0X3Byb2ZpbGUnLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDa2FuU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICAgIGxhc3RQaW5zUmVzcG9uc2U6IG51bGwsXG5cbiAgICAgIGdldEFsbFBvbHlnb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwLmdldChDb25maWdTZXJ2aWNlLmNrYW5BbGxQb2x5Z29uc1VSTCwgeyBoZWFkZXJzOiB7J0F1dGhvcml6YXRpb24nOiAnZDdlNzhiNmUtM2VlZC00ZDY5LTgzODctYWIwMTk2MTIxYTUxJ30gfSk7XG4gICAgICB9XG4gIH1cblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NvbmZpZ1NlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICB2YXIgQ29uZmlnT2JqID0ge307XG4gIENvbmZpZ09iai5iYXNlVVJMID0gXCJodHRwOi8vYmFja2VuZC50ZWNob3V5LnRob3IuZGF0YXV5Lm9yZ1wiO1xuICBDb25maWdPYmouY2thbkFsbFBvbHlnb25zVVJMID0gXCIvY2thblwiO1xuICAvL0NvbmZpZ09iai5ja2FuQWxsUG9seWdvbnNVUkwgPSBcIi9ja2FuXCI7XG4gIC8qaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgIENvbmZpZ09iai5iYXNlVVJMID0gXCJodHRwOi8vYmFja2VuZC5lZHVjYWNpb24udGhvci5kYXRhdXkub3JnXCI7XG4gIH0gZWxzZSB7XG4gICAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcIi9iYWNrZW5kXCI7XG4gIH0qL1xuICBDb25maWdPYmouQXBwTmFtZSA9IFwiVEVDSE8gVVlcIjtcblxuXG4gIHJldHVybiBDb25maWdPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25uZWN0aXZpdHlTZXJ2aWNlJywgWyckY29yZG92YU5ldHdvcmsnLCBmdW5jdGlvbigkY29yZG92YU5ldHdvcmspe1xuXG4gIHJldHVybiB7XG4gICAgaXNPbmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICAvKmlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgfSovXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGlzT2ZmbGluZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIC8qaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgICAgICByZXR1cm4gISRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICFuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgfSovXG4gICAgfVxuICB9XG59XSlcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdEQlNlcnZpY2UnLCBbJyRxJywgZnVuY3Rpb24oJHEpIHtcbiAgIHZhciBfZGI7XG5cbiAgIHJldHVybiB7XG4gICAgICAgaW5pdERCOiBpbml0REIsXG4gICAgICAgc2F2ZVVzZXI6IHNhdmVVc2VyLFxuICAgICAgIGdldFVzZXI6IGdldFVzZXIsXG4gICAgICAgZXJhc2VVc2VyOiBlcmFzZVVzZXIsXG4gICAgICAgc2F2ZVJlcG9ydDogc2F2ZVJlcG9ydCxcbiAgICAgICBnZXRSZXBvcnQ6IGdldFJlcG9ydCxcbiAgICAgICBnZXRBbGxSZXBvcnRzOiBnZXRBbGxSZXBvcnRzLFxuICAgICAgIHVwZGF0ZVJlcG9ydDogdXBkYXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZVJlcG9ydDogZGVsZXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZUdpdmVuUmVwb3J0OiBkZWxldGVHaXZlblJlcG9ydCxcbiAgICAgICBnZXRDYXRlZ29yaWVzOiBnZXRDYXRlZ29yaWVzLFxuICAgICAgIHNhdmVDYXRlZ29yaWVzOiBzYXZlQ2F0ZWdvcmllc1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcl9uYW1lLCB1c2VyX3Bhc3N3b3JkLCB1c2VyX3BpY3R1cmVfdXJsLHNob3dfbG9jYXRpb24sIHVpZCwgc3RhdHVzLCBnZW5kZXIsIGludGVyZXN0ZWQpIHtcbiAgICAgICAgIHZhciB1c2VyID0ge1xuICAgICAgICAgICAgX2lkOiAndXNlci1sb2dnZWQnLFxuICAgICAgICAgICAgbmFtZTogdXNlcl9uYW1lLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJfcGFzc3dvcmQsXG4gICAgICAgICAgICBwaWN0dXJlX3VybDogdXNlcl9waWN0dXJlX3VybCxcbiAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHNob3dfbG9jYXRpb24sXG4gICAgICAgICAgICB1aWQ6IHVpZCxcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgZ2VuZGVyOiBnZW5kZXIsXG4gICAgICAgICAgICBpbnRlcmVzdGVkOiBpbnRlcmVzdGVkXG4gICAgICAgICB9O1xuICAgICAgICAgZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICB1c2VyLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICAgICAgcmV0dXJuIF9kYi5wdXQodXNlcik7XG4gICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZXJhc2VVc2VyKCkge1xuICAgIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJykudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH1cblxuICAgZnVuY3Rpb24gaW5pdERCKCkge1xuICAgICAgIC8vIENyZWF0ZXMgdGhlIGRhdGFiYXNlIG9yIG9wZW5zIGlmIGl0IGFscmVhZHkgZXhpc3RzXG4gICAgICAgX2RiID0gbmV3IFBvdWNoREIoJ3RvbWFtb3N1bmFfbG9jYWxfZGInKTtcbiAgICAgICByZXR1cm4gX2RiO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgIC8vbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgcG91Y2hDb2xsYXRlLnRvSW5kZXhhYmxlU3RyaW5nKFtyZXBvcnRdKTtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBuZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBkYXRlLmdldERhdGUoKSArIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICByZXBvcnQuX2lkID0gbmV3X3JlcG9ydF9pZDtcbiAgICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiB1cGRhdGVSZXBvcnQocmVwb3J0KSB7XG4gICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCdjYXRlZ29yaWVzLWxpc3QnKTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVDYXRlZ29yaWVzKGNhdGVnb3JpZXMpIHtcbiAgICAgZ2V0Q2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgIGNhdGVnb3JpZXMuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgY2F0ZWdvcmllcy5faWQgPSBcImNhdGVnb3JpZXMtbGlzdFwiO1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KVxuICAgfTtcblxuICBmdW5jdGlvbiBnZXRSZXBvcnQocmVwb3J0SWQpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQocmVwb3J0SWQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRBbGxSZXBvcnRzKCkge1xuICAgICByZXR1cm4gX2RiLmFsbERvY3Moe1xuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgYXR0YWNobWVudHM6IGZhbHNlLFxuICAgICAgc3RhcnRrZXk6ICdyZXBvcnRfJyxcbiAgICAgIGVuZGtleTogJ3JlcG9ydF9cXHVmZmZmJ1xuICAgICB9KTsvKi50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIC8vIGhhbmRsZSByZXN1bHRcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pOyovXG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVwb3J0KHJlcG9ydF9pZCkge1xuICAgIF9kYi5nZXQocmVwb3J0X2lkKS50aGVuKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9kYi5yZW1vdmUoZG9jKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBkZWxldGVHaXZlblJlcG9ydChyZXBvcnQpIHtcbiAgICByZXR1cm4gX2RiLnJlbW92ZShyZXBvcnQpO1xuICB9O1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRXJyb3JTZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGpzb25SZXN1bHQsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhICYmIGpzb25SZXN1bHQuZGF0YS5TdGF0dXM9PVwic3VjY2Vzc1wiIHx8IGpzb25SZXN1bHQuU3RhdHVzPT1cInN1Y2Nlc3NcIil7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYoanNvblJlc3VsdC5kYXRhKXtcbiAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBqc29uUmVzdWx0LmRhdGEuTWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsganNvblJlc3VsdC5NZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICB9XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXA6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IGpzb25SZXN1bHQuZGF0YS5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGRhdGEsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoZGF0YS5TdGF0dXMhPSdzdWNjZXNzJyl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGRhdGEuTWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlOiBmdW5jdGlvbiAoZXJyb3JDb250YWluZXJJZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgbWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXA6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjaGVja19maWVsZHM6IGZ1bmN0aW9uIChmaWVsZHMsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3JkcyhmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVxdWFsc1RvXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lcXVhbHNUbyhmaWVsZC52YWx1ZSwgZmllbGQuc2Vjb25kVmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBMb3MgY2FtcG9zIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gY29pbmNpZGVuLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYoZXJyb3JzID09XCJcIil7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9hZGVyJywgWyckaW9uaWNMb2FkaW5nJywgJyR0aW1lb3V0JywnJGlvbmljUG9wdXAnLGZ1bmN0aW9uKCRpb25pY0xvYWRpbmcsJHRpbWVvdXQsJGlvbmljUG9wdXApIHtcblxuICB2YXIgTE9BREVSQVBJID0ge1xuXG4gICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHRleHQgPSB0ZXh0IHx8ICdMb2FkaW5nLi4uJztcbiAgICAgICRpb25pY0xvYWRpbmcuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZTogZnVuY3Rpb24odGV4dCwgdGltZW91dCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLnNob3dMb2FkaW5nKHRleHQpO1xuXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5oaWRlTG9hZGluZygpO1xuICAgICAgfSwgdGltZW91dCB8fCAzMDAwKTtcbiAgICB9LFxuXG4gICAgY29uZmlybVBvcHVwOmZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICB0aXRsZTogdGl0bGUsXG4gICAgIHRlbXBsYXRlOiB0ZXh0XG4gICB9KTtcbiAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gfSxcblxuXG4gICAgc2hvd0FsZXJ0OmZ1bmN0aW9uKF90aXRsZSxfdGVtcGxhdGUpIHtcbiAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICB0aXRsZTogX3RpdGxlLFxuICAgICAgICB0ZW1wbGF0ZTogX3RlbXBsYXRlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGVydFBvcHVwO1xuIH1cblxuICB9O1xuICByZXR1cm4gTE9BREVSQVBJO1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvY2F0aW9uc1NlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsb2NhdGlvbnNPYmogPSB7fTtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmxhc3RfdXNlcl9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xuZyA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5jb3VuY2lsX21vZGFsID0gbnVsbDtcbiAgbG9jYXRpb25zT2JqLnNlbGVjdGVkX2NvdW5jaWwgPSBudWxsO1xuXG4gIGxvY2F0aW9uc09iai5zZWxlY3RDb3VuY2lsID0gZnVuY3Rpb24oY291bmNpbE5hbWUpIHtcbiAgICBsb2NhdGlvbnNPYmouc2VsZWN0ZWRfY291bmNpbCA9ICBjb3VuY2lsTmFtZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX2luaXRpYWxfcG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xhdCA9ICBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZV9sYXN0X3VzZXJfcG9zaXRpb24gPSBmdW5jdGlvbihsYXQsbG5nKXtcbiAgICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xhdCA9IGxhdDtcbiAgICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xuZyA9IGxuZztcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlZExvY2F0aW9ucyA9IFtdO1xuXG4gIHJldHVybiBsb2NhdGlvbnNPYmo7XG5cbn1dKTtcbiIsIiAvL3BtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcbiBwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTWFwU2VydmljZScsIFsnbGVhZmxldERhdGEnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbihsZWFmbGV0RGF0YSwgJGNvbXBpbGUpIHtcblxuICAgLy9EZWZpbmljaW9uIGRlIGxhIHByb3llY2NjaW9uIFVUTSAyMSBzXG4gICBwcm9qNC5kZWZzKCdFUFNHOjMyNzIxJywgJytwcm9qPXV0bSArem9uZT0yMSArc291dGggK2VsbHBzPVdHUzg0ICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmcycpO1xuXG5cbiAgIHZhciBtYXBTZXJ2aWNlID0ge307XG5cbiAgIG1hcFNlcnZpY2UuZ29Ub1BsYWNlID0gZnVuY3Rpb24obmFtZSxsYXQsbG9uLHNjb3BlKSB7XG4gICAgdmFyIF9nZW9Kc29uID0ge1xuICAgICAgICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICBcImNyc1wiOiB7IFwidHlwZVwiOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6ICd1cm46b2djOmRlZjpjcnM6RVBTRzo6MzI3MjEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFwiZmVhdHVyZXNcIjogW1xuICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOlwiUG9pbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOltsYXQsbG9uXVxuICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6e1xuICAgICAgICAgICAgICAgICAgICAgIFwibm9tYnJlXCI6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgIHZhciBfbGF0bG5nO1xuICAgICAgIHZhciBsYXllciA9IEwuUHJvai5nZW9Kc29uKF9nZW9Kc29uLCB7XG4gICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgIF9sYXRsbmcgPSBsYXRsbmc7XG4gICAgICAgICAgIHZhciBodG1sUG9wVXAgPSBcIjxwIGFsaWduPSdjZW50ZXInPlwiK2ZlYXR1cmUucHJvcGVydGllcy5ub21icmUrXCIgPGJyLz4gPGEgbmctY2xpY2s9J25ld19yZXBvcnRfZnJvbV9sYXRsb24oXCIrX2xhdGxuZy5sYXQrXCIsXCIrX2xhdGxuZy5sbmcrXCIpOyc+SW5pY2lhciByZXBvcnRlIGFxdcOtPC9hPjwvcD5cIjtcbiAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUoaHRtbFBvcFVwKShzY29wZSk7XG4gICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcpLmJpbmRQb3B1cChjb21waWxlZFswXSk7XG4gICAgICAgICB9XG4gICAgICAgfSk7XG5cbiAgICAgICBsYXllci5hZGRUbyhtYXApO1xuICAgICAgIG1hcC5zZXRWaWV3KF9sYXRsbmcsIDE4KTtcbiAgICAgICBsYXllci5vcGVuUG9wdXAoKTtcbiAgICAgfSk7XG4gICB9O1xuXG4gIG1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMgPSBmdW5jdGlvbihsYXQsbG5nLHpvb20pIHtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLnNldFZpZXcobmV3IEwuTGF0TG5nKGxhdCwgbG5nKSx6b29tKTtcbiAgICAgICB9KTtcbiAgICAgfVxuXG4gICByZXR1cm4gbWFwU2VydmljZTtcblxuIH1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNb2RhbFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBtb2RhbE9CSiA9IHt9O1xuICBtb2RhbE9CSi5hY3RpdmVNb2RhbCA9IG51bGw7XG5cbiAgbW9kYWxPQkouY2hlY2tOb01vZGFsSXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYobW9kYWxPQkouYWN0aXZlTW9kYWwpe1xuICAgICAgbW9kYWxPQkouYWN0aXZlTW9kYWwuaGlkZSgpO1xuICAgICAgbW9kYWxPQkouYWN0aXZlTW9kYWwucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1vZGFsT0JKO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUGluU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIHBpbnNVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9zaXRlcy90b21hbW9zX3VuYS9maWxlcy9qc29uL3VzZXJzX2dlby5qc29uXCI7XG4gIHZhciBhcGlVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCJcblxuICBwcm9qNC5kZWZzKCdFUFNHOjMyNzIxJywgJytwcm9qPXV0bSArem9uZT0yMSArc291dGggK2VsbHBzPVdHUzg0ICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmcycpO1xuXG5cblxuLyoqXG4gICAqIENvbnN0cnVjdG9yLCB3aXRoIGNsYXNzIG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIFBpbihfZGF0YSkge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMsIF9kYXRhKTtcbiAgfVxuXG4gIFBpbi5jb252ZXJ0TGF0TG9uZ1Byb2ogPSBmdW5jdGlvbihsYXQsbG9uLHNjb3BlKSB7XG4gICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICAgICAgICAgICBcImNyc1wiOiB7IFwidHlwZVwiOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiAndXJuOm9nYzpkZWY6Y3JzOkVQU0c6OjMyNzIxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICBcImZlYXR1cmVzXCI6IFtcbiAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgXCJnZW9tZXRyeVwiOntcbiAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjpcIlBvaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOltsYXQsbG9uXVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOntcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgXVxuICAgICAgICAgICB9O1xuICAgICAgdmFyIF9sYXRsbmc7XG4gICAgICB2YXIgcG9pbnQgPSBMLlByb2ouZ2VvSnNvbihfZ2VvSnNvbiwge1xuICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgICByZXR1cm4gbGF0bG5nO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gX2xhdGxuZztcbiAgfTtcblxuXG4gIFBpbi5nZXRBbGwgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAkaHR0cC5nZXQocGluc1VSTCwge2NhY2hlOiBmYWxzZSwgcGFyYW1zOiB7aGFzaF9pZDpNYXRoLnJhbmRvbSgpfX0pO1xuICB9XG5cbiAgUGluLnNlbmRVc2VyTG9jYXRpb24gPSBmdW5jdGlvbihsYXRpdHVkZSxsb25naXR1ZGUsdXNlcm5hbWUscGFzc3dvcmQsdWlkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmbGF0PScrbGF0aXR1ZGUrJyZsb249Jytsb25naXR1ZGUrXCImdWlkPVwiK3VpZDtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnc2VuZF91c2VyX3Bvc2l0aW9uJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuXG4gIH1cblxuXG4gICAgUGluLl9hbGwgPSBbXTtcbiAgICBQaW4uY3VycmVudCA9IHt9O1xuICAgIFBpbi5sYXN0UGluc1Jlc3BvbnNlID0gbnVsbDtcblxuXG5cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBtZXRob2QsIGFzc2lnbmVkIHRvIGNsYXNzXG4gICAgICogSW5zdGFuY2UgKCd0aGlzJykgaXMgbm90IGF2YWlsYWJsZSBpbiBzdGF0aWMgY29udGV4dFxuICAgICAqL1xuICAgIFBpbi5idWlsZCA9IGZ1bmN0aW9uKF9kYXRhKSB7XG5cbiAgICAgIHJldHVybiBuZXcgUGluKFxuICAgICAgICBfZGF0YVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgUGluLnByb3RvdHlwZS5zZXRMYXRMbmcgPSBmdW5jdGlvbiAobGF0bG5nKSB7XG5cbiAgICAgIHRoaXMubGF0ID0gbGF0bG5nLmxhdDtcbiAgICAgIHRoaXMubG9uID0gbGF0bG5nLmxuZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqL1xuICAgIHJldHVybiBQaW47XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQb3BVcFNlcnZpY2UnLCBbJyRpb25pY1BvcHVwJywnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgc2hvd19hbGVydDogZnVuY3Rpb24gKGFsZXJ0X3RpdGxlLGFsZXJ0X21lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogYWxlcnRfdGl0bGUsXG4gICAgICAgICB0ZW1wbGF0ZTogYWxlcnRfbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgY29uZmlybVBvcHVwOiBmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiAgIH0sXG5cbiAgIGFza0Zvck9uZVZhbHVlUG9wVXA6IGZ1bmN0aW9uKHNjb3BlLHRpdGxlLHRleHQsZmllbGRfbmFtZSx2YWxpZGF0aW9uVHlwZSl7XG4gICAgICAkc2NvcGUgPSBzY29wZTtcbiAgICAgIHZhciBteVBvcHVwID0gJGlvbmljUG9wdXAuc2hvdyh7XG4gICAgICB0ZW1wbGF0ZTogZmllbGRfbmFtZSArICc6IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwib25lX3ZhbHVlX3BvcHVwXCI+PGRpdiBpZD1cImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIj48L2Rpdj4nLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgc3ViVGl0bGU6IHRleHQsXG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgYnV0dG9uczogW1xuICAgICAgICB7IHRleHQ6ICdDYW5jZWxhcicgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6ICc8Yj5FbnZpYXI8L2I+JyxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uLXBvc2l0aXZlJyxcbiAgICAgICAgICBvblRhcDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9uZV92YWx1ZV9wb3B1cFwiKS52YWx1ZTtcbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3Jkcyh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZXJyb3JzIT1cIlwiKXtcbiAgICAgICAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCIpO1xuICAgICAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgLy9kb24ndCBhbGxvdyB0aGUgdXNlciB0byBjbG9zZSB1bmxlc3MgaGUgZW50ZXJzIHdpZmkgcGFzc3dvcmRcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiBteVBvcHVwO1xuICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdTZW1hcGhvcmVTZXJ2aWNlJywgW2Z1bmN0aW9uKCkge1xuXG4gIHZhciBzZW1hcGhvcmVPYmogPSB7fTtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXMgPSBuZXcgQXJyYXkoKTtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ29wZW4tbW9kYWwnXSA9IFwiYXZhaWxhYmxlXCI7XG4gIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzWydzdWJtaXQtZm9ybSddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ3N1Ym1pdC1sb2NhdGlvbiddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ2Nhbl90YWxrJ10gPSBcImF2YWlsYWJsZVwiO1xuXG5cblxuXG4gIHNlbWFwaG9yZU9iai50YWtlSWZBdmFpbGFibGUgPSBmdW5jdGlvbihzZW1hcGhvcmVJZCkge1xuICAgIC8vY29uc29sZS5sb2coc2VtYXBob3JlSWQgKyBcIjpcIiArIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXSk7XG4gICAgaWYoc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdPT1cImF2YWlsYWJsZVwiKXtcbiAgICAgICAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdID0gXCJvY2N1cGllZFwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW1hcGhvcmVPYmoubWFrZUF2YWlsYWJsZUFnYWluID0gZnVuY3Rpb24oc2VtYXBob3JlSWQpIHtcbiAgICBpZihzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF09PVwib2NjdXBpZWRcIil7XG4gICAgICAgIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXSA9IFwiYXZhaWxhYmxlXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzZW1hcGhvcmVPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdsb2NhdGlvbkFQSScsIFsnJGh0dHAnLCAnJHEnLCAnQXBpSW1FbmRwb2ludCcsICdBcGlEYXRhRW5kcG9pbnQnLCAnQ29uZmlnU2VydmljZScsICdMb2NhdGlvbnNTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsICRxLCBBcGlJbUVuZHBvaW50LCBBcGlEYXRhRW5kcG9pbnQsIENvbmZpZ1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UpIHtcblxuICB2YXIgcmVzdFByZWZmaXggPSBcInViaWNhY2lvbmVzUmVzdFByb2RcIjtcblxuXG4gIHZhciBsb2NhdGlvbkFQSSA9IHt9O1xuXG4gIGxvY2F0aW9uQVBJLnNlYXJjaExvY2F0aW9uQnlTdHIgPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICAvKnJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY2FsbGVzJywge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBub21icmU6IF9sb2NhdGlvblxuICAgICAgfVxuICAgIH0pOyovXG4gICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiICsgX2xvY2F0aW9uO1xuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczoge31cbiAgICB9KTtcbiAgfTtcblxuXG4gIGxvY2F0aW9uQVBJLnNlYXJjaEVzcXVpbmFCeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIC8vY29uc29sZS5sb2coXCJzZWFyY2hFc3F1aW5hQnlTdHIgPSBcIiArIEpTT04uc3RyaW5naWZ5KF9sb2NhdGlvbikpO1xuICAgIC8vcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9lc3F1aW5hLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycgKyBfbG9jYXRpb24uZXNxdWluYSwge1xuICAgICAgLypyZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2NydWNlcy8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nLFxuICAgICAge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBub21icmU6IF9sb2NhdGlvbi5lc3F1aW5hXG4gICAgICAgIH1cbiAgICAgIH0pOyovXG5cbiAgICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIlxuICAgICAgICAgICAgICAgICAgICArIF9sb2NhdGlvbi5jYWxsZSArIFwiLFwiICsgX2xvY2F0aW9uLmVzcXVpbmE7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGFyYW1zOiB7fVxuICAgICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgdmFyIHVybCA9IEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8oX2xvY2F0aW9uLnRpcG8pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2xvY2F0aW9uLnBhdGhQYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVybCArPSAnLycgKyBfbG9jYXRpb24ucGF0aFBhcmFtc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbVBNQiA9IGZ1bmN0aW9uKGNhbGxlLGVzcXVpbmFfbnVtZXJvLHRpcG8pIHtcbiAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCJcbiAgICAgICAgICAgICAgKyBjYWxsZSArIFwiLFwiICsgZXNxdWluYV9udW1lcm8gKyBcIixcIiArIHRpcG87XG5cbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwpO1xuXG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvID0gZnVuY3Rpb24oX3RpcG8pIHtcblxuICAgIHZhciByZXN0R2VvRGF0YVNlcnZpY2VQYXRoID0ge1xuICAgICAgJ0VTUVVJTkEnOlwiL2VzcXVpbmFcIixcbiAgICAgICdESVJFQ0NJT04nOlwiL2RpcmVjY2lvblwiXG4gICAgfTtcblxuICAgIHJldHVybiByZXN0R2VvRGF0YVNlcnZpY2VQYXRoW190aXBvXTtcblxuXG4gIH07XG5cbiAgcmV0dXJuIGxvY2F0aW9uQVBJO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnXycsIFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHdpbmRvdy5fOyAvL1VuZGVyc2NvcmUgbXVzdCBhbHJlYWR5IGJlIGxvYWRlZCBvbiB0aGUgcGFnZVxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1VzZXJTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgLy92YXIgYmFzZVVSTCA9IFwiaHR0cDovL3BtYnV5LmRldmVsb3BtZW50LmRhdGF1eS5vcmcvYXV0aC9hamF4L1wiO1xuICB2YXIgVXNlck9iaiA9IHt9O1xuICBVc2VyT2JqLnVpZCA9IG51bGw7XG4gIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgVXNlck9iai5waWN0dXJlX3VybCA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICBVc2VyT2JqLnNob3dfbG9jYXRpb24gPSBudWxsO1xuXG5cbiAgVXNlck9iai5zYXZlX3VzZXJfZGF0YSA9IGZ1bmN0aW9uICh1c2VyX25hbWUsIHVzZXJfcGFzc3dvcmQsIHVzZXJfcGljdHVyZV91cmwsIHNob3dfbG9jYXRpb24sIHVpZCwgc3RhdHVzLCBnZW5kZXIsIGludGVyZXN0ZWQpIHtcbiAgICAgIFVzZXJPYmoudWlkID0gdWlkO1xuICAgICAgVXNlck9iai5uYW1lID0gdXNlcl9uYW1lO1xuICAgICAgVXNlck9iai5wYXNzd29yZCA9IHVzZXJfcGFzc3dvcmQ7XG4gICAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgICAgIFVzZXJPYmouc2hvd19sb2NhdGlvbiA9IHNob3dfbG9jYXRpb247XG4gICAgICBVc2VyT2JqLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIFVzZXJPYmouZ2VuZGVyID0gZ2VuZGVyO1xuICAgICAgVXNlck9iai5pbnRlcmVzdGVkID0gaW50ZXJlc3RlZDtcblxuICAgICAgLy9TQVZFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZXJhc2VfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gICAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gICAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gICAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gICAgVXNlck9iai5waG9uZSA9IG51bGw7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgLy9ERUxFVEUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5nZXRfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIC8vTEVWQU5UQSBERSBQT1VDSERCIExPUyBEQVRPUyBERUwgVVNVQVJJTy4gU0kgSEFZIExPUyBQT05FIEVOIExBUyBWQVJJQUJMRVMgREVMIFNFUlZJQ0lPLiBTSSBOTyBIQVkgUE9ORSBUT0RPIE5VTExcbiAgfVxuXG4gIFVzZXJPYmouYWRkX3Bob3RvID0gZnVuY3Rpb24gKHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgfVxuXG4gIFVzZXJPYmouaXNMb2dnZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYoVXNlck9iai5uYW1lIT1udWxsICYmIFVzZXJPYmoubmFtZSE9XCJcIil7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiBVc2VyT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVmFsaWRhdGlvblNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCkge1xuXG4gIHJldHVybiB7XG4gICAgaXNNb2JpbGVEZXZpY2U6IGZ1bmN0aW9uKCl7XG4gICAgICBpZih3aW5kb3cuY29yZG92YSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgfSxcblxuICAgIHZhbGlkYXRlX25vdF9lbXB0eTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX3R3b193b3JkczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24odil7cmV0dXJuIHYhPT0nJ30pO1xuICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvL3R3byBvciBtb3JlIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vbm90IGVub3VnaCB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfZXF1YWxzVG86IGZ1bmN0aW9uICh2YWx1ZSxzZWNvbmRWYWx1ZSkge1xuICAgICAgaWYodmFsdWU9PXNlY29uZFZhbHVlKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9lbWFpbDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YXIgcmUgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgICAgICAgICByZXR1cm4gcmUudGVzdCh2YWx1ZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9pZGRvY191eTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgICAgICAgIHZhciBkaWcgPSB2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICB2YXIgYSA9IDA7IHZhciBpID0gMDtcbiAgICAgICAgICBpZih2YWx1ZS5sZW5ndGggPD0gNil7XG4gICAgICAgICAgICBmb3IoaSA9IHZhbHVlLmxlbmd0aDsgaSA8IDc7IGkrKyl7XG4gICAgICAgICAgICAgIHZhbHVlID0gJzAnICsgdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcihpID0gMDsgaSA8IDc7IGkrKyl7XG4gICAgICAgICAgICBhICs9IChwYXJzZUludChcIjI5ODc2MzRcIltpXSkgKiBwYXJzZUludCh2YWx1ZVtpXSkpICUgMTA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgaWYoYSUxMCA9PT0gMCl7XG4gICAgICAgICAgICByZXN1bHQgPSAwO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmVzdWx0ID0gMTAgLSBhICUgMTA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGRpZyA9PSByZXN1bHQpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSk7XG4iXX0=
