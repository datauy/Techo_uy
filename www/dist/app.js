window.VERSION = "0.0.1";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"http://backend.educacion.thor.datauy.org"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,t,n){t.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),cordova.plugins.Keyboard.disableScroll(!1)),ionic.Platform.isFullScreen=!0,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AbsController"}).state("app.index",{cache:!1,url:"/index",views:{menuContent:{templateUrl:"templates/static/app.component.html",controller:"IndexController"}}}).state("app.contact",{cache:!1,url:"/contact",views:{menuContent:{templateUrl:"templates/static/contact.component.html",controller:"ContactController"}}}).state("app.contenidos",{cache:!1,url:"/contenidos",views:{menuContent:{templateUrl:"templates/static/press-room.component.html",controller:"StaticController"}}}).state("app.metodologia",{cache:!1,url:"/metodologia",views:{menuContent:{templateUrl:"templates/static/methodology.component.html",controller:"StaticController"}}}).state("app.contacto",{cache:!1,url:"/contacto",views:{menuContent:{templateUrl:"templates/static/contact.component.html",controller:"StaticController"}}}).state("app.map",{cache:!1,url:"/map",views:{menuContent:{templateUrl:"templates/map.html",controller:"MapController"}}}).state("app.form",{cache:!1,url:"/form",views:{menuContent:{templateUrl:"templates/form.html",controller:"FormCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/map")}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService","ValidationService",function(e,t,n,o){var a=n.baseURL+"/api/";return{log_in:function(t,n){var o="user="+t+"&password="+n;return e.post(a+"login",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sign_out:function(t,n){return e.get(a+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"create_user",n.picture_url,r,i)}if(n.picture_url){var s=new FormData;return s.append("photo",n.picture_url),s.append("user",n.username),s.append("password",n.password),s.append("email",n.email),s.append("gender",n.gender),s.append("interested",n.interested),s.append("status",n.status),s.append("show_location",n.show_location),e.post(a+"create_user",s,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}var l="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;return l=l+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,e.post(a+"create_user",l,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},password_recovery:function(t){return e.get(a+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,o,r){var i="email="+t+"&password_sign_in="+n+"&new_password="+o+"&confirm="+r;return e.post(a+"change_password",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"edit_profile",n.picture_url,r,i)}var s="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;if(s=s+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,n.picture_url){var l=new FormData;return l.append("photo",n.picture_url),l.append("user",n.username),l.append("password",n.password),l.append("email",n.email),l.append("gender",n.gender),l.append("interested",n.interested),l.append("status",n.status),l.append("show_location",n.show_location),e.post(a+"edit_profile",l,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}return e.post(a+"edit_profile",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("CkanService",["$http","leafletData","ConfigService",function(e,t,n){return{lastPinsResponse:null,asentamientosActivos:null,getAllPolygons:function(){return e.get(n.ckanAllPolygonsURL,{headers:{Authorization:"d7e78b6e-3eed-4d69-8387-ab0196121a51"}}).then(function(e){return e.data.result.records})},getPolygonsById:function(t){var n=[];return e.get("polygons.json").then(function(e){for(var o=0;o<e.data.length;o++){t.indexOf(parseInt(e.data[o].COD_AST))!=-1&&n.push(e.data[o])}return n})},getData:function(t){var n="SELECT * from ";if(t.a_o&&t.a_o.uno?(n+='"14348e65-292d-4b0d-b48b-0cce62418466" ',t.hasOwnProperty("tipo")&&delete t.tipo,t.hasOwnProperty("vivendas_no")&&delete t.vivendas_no,t.hasOwnProperty("p_techos_prec")&&delete t.p_techos_prec,t.hasOwnProperty("p_paredes_prec")&&delete t.p_paredes_prec,t.hasOwnProperty("p_contelect")&&delete t.p_contelect,t.hasOwnProperty("p_c_drenaje")&&delete t.p_c_drenaje):n+='"090341a0-dfba-43fd-bc82-da90394a883d" ',"0"==t.depto&&delete t.depto,t.hasOwnProperty("a_o")&&delete t.a_o,console.log(t),Object.keys(t).length){n+="where ",queryArr=[];for(var o in t)if(t.hasOwnProperty(o))switch(o){case"tipo":if(t.tipo.urbano&&t.tipo.rural)continue;t.tipo.urbano?queryArr.push("tipo_asentamiento = 1"):t.tipo.rural&&queryArr.push("tipo_asentamiento = 2");break;case"depto":queryArr.push("depto = "+t.depto);break;case"vivendas_no":var a=[];t[o].uno&&a.push("nro_viviendas <= 50"),t[o].dos&&a.push("nro_viviendas > 50 AND nro_viviendas <= 100"),t[o].tres&&a.push("nro_viviendas > 100 AND nro_viviendas <= 200"),t[o].cuatro&&a.push("nro_viviendas > 200"),queryArr.push(a.join(" OR "));break;case"p_techos_prec":case"p_paredes_prec":case"vivendas_suelos":case"p_contelect":case"p_c_drenaje":case"p_acera_materiales":case"p_calle_materiales":var r=[];t[o].cuarenta&&r.push(o+" <= 40"),t[o].sesenta&&r.push(o+" > 40 AND 60 <= "+o),t[o].cien&&r.push(o+" > 60"),queryArr.push(r.join(" OR "));break;case"alumbrado_asent":case"basural_asent":case"parada_asent":case"placas_asent":queryArr.push(o+" = 1");break;case"arbolado":if(t.arbolado.cincuenta&&t.arbolado.cien)continue;t.arbolado.cincuenta?queryArr.push("arbolado_asent = 0"):t.arbolado.cien&&queryArr.push("arbolado_asent >= 1")}n+=queryArr.join(" AND ")}return console.log("Query -> "+n),e.post("/ckanSql",{sql:n}).then(function(e){return console.log(e),e.data.result.records})},getDataById:function(t){console.log("DATABYID");var n="/ckanData",o={resource_id:"a3c8a073-ce32-434b-a751-f35c7b750968",limit:1,q:t};return console.log(o),e.post(n,o).then(function(e){return console.log("termina POST"),console.log(e),e})},getAllData:function(t){console.log("ALLDATA");var n="/ckanData";return e.post(n,{resource_id:t,limit:700}).then(function(e){return e.data.result.records})},queryData:function(t){return console.log("DATABYQUERY"),e.post("/ckanSql",{sql:t}).then(function(e){return console.log("BYQUERY"),console.log(e),e.data.result.records})}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="http://backend.techouy.thor.datauy.org",t.ckanAllPolygonsURL="/ckan",t.AppName="TECHO UY",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return!0},isOffline:function(){return!1}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(e,t,o,a,r,i,s,l){var c={_id:"user-logged",name:e,password:t,picture_url:o,show_location:a,uid:r,status:i,gender:s,interested:l};n().then(function(e){return c._rev=e._rev,m.put(c)})["catch"](function(e){return m.put(c)})}function n(){return m.get("user-logged")}function o(){m.get("user-logged").then(function(e){return m.remove(e)})}function a(){return m=new PouchDB("tomamosuna_local_db")}function r(e){var t=new Date,n="report_"+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getMilliseconds();return e._id=n,m.put(e)}function i(e){return m.put(e)}function s(){return m.get("categories-list")}function l(e){s().then(function(t){return e._rev=t._rev,m.put(e)})["catch"](function(t){return e._id="categories-list",m.put(e)})}function c(e){return m.get(e)}function u(){return m.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_ï¿¿"})}function p(e){m.get(e).then(function(e){return m.remove(e)})}function d(e){return m.remove(e)}var m;return{initDB:a,saveUser:t,getUser:n,eraseUser:o,saveReport:r,getReport:c,getAllReports:u,updateReport:i,deleteReport:p,deleteGivenReport:d,getCategories:s,saveCategories:l}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return e.data&&"success"==e.data.Status||"success"==e.Status?(n.style.display="none",!0):(e.data?n.innerHTML="<h3>"+e.data.Message+"</h3>":n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return"success"!=e.Status?(n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacÃ­o.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una direcciÃ³n de correo vÃ¡lida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cÃ©dula uruguaya vÃ¡lida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'<h3>- Los campos "'+e.name+'" no coinciden.</h3>'))}),""==o)return!0;var a=document.getElementById(t);return a.innerHTML=o,a.style.display="block",!1}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.last_user_lat="",e.last_user_lng="",e.council_modal=null,e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_last_user_position=function(t,n){e.last_user_lat=t,e.last_user_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,a,r){var i={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(i,{pointToLayer:function(e,o){n=o;var a="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aquÃ­</a></p>",i=t(a)(r);return L.marker(o).bindPopup(i[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.checkNoModalIsOpen=function(){e.activeModal&&(e.activeModal.hide(),e.activeModal.remove())},e}]),pmb_im.services.factory("PinService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/sites/tomamos_una/files/json/users_geo.json",r=n.baseURL+"/api/";return proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),o.convertLatLongProj=function(e,t,n){var o,a={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[e,t]},properties:{}}]};L.Proj.geoJson(a,{pointToLayer:function(e,t){return o=t,t}});return o},o.getAll=function(){return e.get(a,{cache:!1,params:{hash_id:Math.random()}})},o.sendUserLocation=function(t,n,o,a,i){var s="user="+o+"&password="+a+"&lat="+t+"&lon="+n+"&uid="+i;return e.post(r+"send_user_position",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o._all=[],o.current={},o.lastPinsResponse=null,o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,a,r,i){$scope=n;var s=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+r+'" no puede estar vacÃ­o.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+r+'" no es una direcciÃ³n de correo vÃ¡lida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+r+'" no es una cÃ©dula uruguaya vÃ¡lida.</h3>')),"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var a=document.getElementById("error_container_inside");a.innerHTML=n,a.style.display="block",e.preventDefault()}}]});return s}}}]),pmb_im.services.factory("SemaphoreService",[function(){var e={};return e.semaphores=new Array,e.semaphores["open-modal"]="available",e.semaphores["submit-form"]="available",e.semaphores["submit-location"]="available",e.semaphores.can_talk="available",e.takeIfAvailable=function(t){return"available"==e.semaphores[t]&&(e.semaphores[t]="occupied",!0)},e.makeAvailableAgain=function(t){return"occupied"==e.semaphores[t]&&(e.semaphores[t]="available",!0)},e}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,a,r){var i="ubicacionesRestProd",s={};return s.searchLocationByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},s.searchEsquinaByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},s.getLocationGeom=function(t){for(var o=n.url+"/"+i+s.getParamPathByTipo(t.tipo),a=0;a<t.pathParams.length;a++)o+="/"+t.pathParams[a];return e.get(baseURL).then(function(e){return e.data})},s.getLocationGeomPMB=function(t,n,o){var i=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t+","+n+","+o;return e.get(i)},s.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},s}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.uid=null,t.name=null,t.email=null,t.password=null,t.picture_url="url(./img/icon-user-anonymous.png)",t.show_location=null,t.save_user_data=function(e,n,o,a,r,i,s,l){t.uid=r,t.name=e,t.password=n,t.picture_url=o,t.show_location=a,t.status=i,t.gender=s,t.interested=l},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{isMobileDevice:function(){return!!window.cordova},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=n%10===0?0:10-n%10,t==a}return!1}}}]),pmb_im.controllers.controller("AbsController",["$scope",function(e){}]),pmb_im.controllers.controller("FormCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService","$ionicSlideBoxDelegate","$ionicScrollDelegate",function(e,t,n,o,a,r,i,s,l,c){e.form={},e.form.edad=16,e.form.plan="",e.form.lugar="",e.form.turno="",e.form.nivel_aprobado="",e.next=function(){l.next()},e.previous=function(){l.previous()},e.go_to_map=function(){t.go("app.map")}}]),pmb_im.controllers.controller("IndexController",["$scope",function(e){}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,t,n,o,a,r,i,s){var l=s.initDB();l.info().then(console.log.bind(console)),e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){i.save_initial_position(e),t.go("app.form")},function(e){t.go("app.form")})},e.$on("$ionicView.enter",function(){null!=i.council_modal&&(i.council_modal.hide(),i.council_modal.remove()),e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","_","$cordovaCamera","$cordovaGeolocation","$compile","$ionicModal","$ionicPopup","leafletData","ConfigService","LocationsService","CkanService","PinService","AuthService","UserService","DBService","$timeout","$interval","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","ConnectivityService","$cordovaInAppBrowser","MapService","ModalService","SemaphoreService","ValidationService",function(e,t,n,o,a,r,i,s,l,c,u,p,d,m,_,g,f,v,h,y,b,w,A,k,I,P,O,D){e.asentamientos_layers=new Array,e.baseURL=l.baseURL,e.AppName=l.AppName,e.user_cached_image="./img/icon-user-anonymous.png",e.one_value_popup=null,e.myIntervals=new Array,e.filters={},e.astVulnera={0:{color:"#1cc7bd",name:"Bajo",icon:"img/pin-green.svg"},1:{color:"#1cc7bd",name:"Bajo",icon:"img/pin-green.svg"},2:{color:"#0092dd",name:"Mediano",icon:"img/pin-blue.svg"},3:{color:"#0092dd",name:"Mediano",icon:"img/pin-blue.svg"},4:{color:"#feb429",name:"Alto",icon:"img/pin-yellow.svg"},5:{color:"#feb429",name:"Alto",icon:"img/pin-yellow.svg"},6:{color:"#c85757",name:"Extremo",icon:"img/pin-red.svg"}},e.$on("$ionicView.beforeEnter",function(){P.checkNoModalIsOpen(),_.initDB(),A.isOnline()?e.check_user_logged():e.set_offline_user(),A.isOnline()&&(document.getElementById("spinner").style.display="block",e.create_online_map())}),e.$on("$ionicView.afterEnter",function(){s.getMap();""!=c.initial_lat?I.centerMapOnCoords(c.initial_lat,c.initial_lng,10):I.centerMapOnCoords(-32.462703,-55.701468,7)}),e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};k.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},e.create_online_map=function(){e.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:1,maxZoom:18,zoomControlPosition:"bottomright"},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{}},e.loadPinsLayer(),e.map.center={lat:-34.901113,lng:-56.164531,zoom:10},s.getMap().then(function(t){t.on("moveend",e.hideOffScreenPins)})},e.next=function(){y.next()},e.previous=function(){y.previous()},e.back_to_map=function(e){e?(P.checkNoModalIsOpen(),document.getElementById("spinner-inside-modal").style.display="none"):document.getElementById("spinner-inside-modal").style.display="none"},e.image=null,e.addImage=function(t,o,a,r){e.isUserPhoto=o,e.isCommentPhoto=a,e.isNewUserPhoto=r;var i=Camera.PictureSourceType.CAMERA,s=!0,l=!0;1==t&&(i=Camera.PictureSourceType.PHOTOLIBRARY,s=!1,l=!1);var c={quality:90,destinationType:Camera.DestinationType.FILE_URI,sourceType:i,allowEdit:!1,correctOrientation:s,encodingType:Camera.EncodingType.JPEG,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:l,targetWidth:500,targetHeight:500};n.getPicture(c).then(function(t){function n(t){window.FilePath.resolveNativePath(t,function(n){t="file://"+n,n.startsWith("file://")&&(t=n),1==e.isUserPhoto?e.profile.picture_url=t:1==e.isCommentPhoto?e.comment.file=t:1==e.isNewUserPhoto&&(e.newuser.picture_url=t),e.imgURI=t},function(e){alert("Error resolveNativePath"+e)})}n(t)},function(e){})},e.urlForImage=function(){var t="http://placehold.it/200x200";if(e.image){var n=e.image.substr(e.image.lastIndexOf("/")+1);t=cordova.file.dataDirectory+n}return t},e.scrollMe=function(e){v.hash(e);var t=b.$getByHandle("content");t.anchorScroll()},e.set_active_option=function(e){document.getElementById(e).className="option-active"},e.hide_special_divs=function(){},e.close_report_detail_modal=function(){P.checkNoModalIsOpen(),e.report_detail_id=null},e.locate=function(){o.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"You Are Here",focus:!0,draggable:!1}},function(e){})},e.addMapControls=function(){document.getElementById("map_crosshair").style.display="block",document.getElementById("map_crosshair_button").style.display="block"},e.changeUserLocationPin=function(t,n,o){if(e.online_user_geo_array[o]){layer=e.online_user_geo_array[o];var a=new L.LatLng(t,n);layer.setLatLng(a)}},e.removeAllPins=function(){s.getMap().then(function(t){e.asentamientos_layers.forEach(function(e,n){t.removeLayer(e)})})},e.hideOffScreenPins=function(){},e.loadPinsLayer=function(){document.getElementById("spinner").style.display="block",u.getAllData("090341a0-dfba-43fd-bc82-da90394a883d").then(function(t){u.asentamientosActivos=t,e.updatePins()})},e.getOnlyCoordinatesPolygon=function(t){t=t.replace("Polygon ((",""),t=t.replace("))","");var n=t.split(","),o=new Array;return n.forEach(function(t,n){t=t.trim();var a=t.split(" "),r=a[1],i=a[0],s=p.convertLatLongProj(r,i,e),l=[s.lat,s.lng];o.push(l)}),o},e.getOnlyCoordinatesMultiPolygon=function(e){var t=new Array;e=e.replace("MultiPolygon (((",""),e=e.replace(")))","");var n=e.split(")),((");return n.forEach(function(e,n){e=e.replace("((",""),e=e.replace("))","");var o=e.split(","),a=new Array;o.forEach(function(e,t){e=e.trim();var n=e.split(" "),o=parseFloat(n[1]),r=parseFloat(n[0]);if(!isNaN(o)&&!isNaN(r)){var i=[o,r];a.push(i)}}),t.push(a)}),t},e.getTypeOfMapObject=function(e){return e?e.startsWith("MultiPolygon")?"MultiPolygon":e.startsWith("Polygon")?"Polygon":void 0:"Unknown"},e.timeConverter=function(e){var t=new Date(1e3*e),n=t.getFullYear(),o=t.getMonth();o<10&&(o="0"+o);var a=t.getDate();a<10&&(a="0"+a);var r=t.getHours();r<10&&(r="0"+r);var i=t.getMinutes();i<10&&(i="0"+i);var s=(t.getSeconds(),a+"/"+o+"/"+n+" "+r+":"+i);return s},e.model=[],e.externalModel=[],e.selectedItems=[],e.preselectedSearchItems=[],e.clickedValueModel="",e.removedValueModel="",e.itemsRemoved=function(t){e.removedValueModel=t},e.user_options=function(){},e.show_anonymous_menu=function(){},e.show_user_menu=function(){},e.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},e.create_field_array_with_twoFields=function(e,t,n,o){var a=new Array;return a.name=e,a.type=t,a.value=n,a.secondValue=o,a},e.fix_fb_image_link=function(e){if(e.indexOf("http://graph.facebook.com")>=0){var t=e.split("http://graph.facebook.com"),n="http://graph.facebook.com"+t[1];return n}return e},e.log_in=function(t,n){if(O.takeIfAvailable("submit-form"))if(A.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(e.create_field_array("Usuario","notNull",t)),o.push(e.create_field_array("ContraseÃ±a","notNull",n)),h.check_fields(o,"error_container")?d.log_in(t,n).then(function(t){h.http_response_is_successful(t,"error_container")?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),m.save_user_data(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form"),e.close_login_modal()):(O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form"),h.show_error_message("error_container",e.statusText)}):(document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form"))}else O.makeAvailableAgain("submit-form"),w.show_alert("Sin conexiÃ³n a internet","Para iniciar sesiÃ³n debe estar conectado a internet")},e.log_in_background=function(t,n){d.log_in(t,n).then(function(t){return h.http_response_is_successful_ajax(t)?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),m.save_user_data(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),1):0},function(e){return 0})},e.sign_out=function(){m.erase_user_data(),_.eraseUser(),document.getElementById("spinner").style.display="none",e.set_user_picture(0)},e.show_edit_profile_modal=function(){O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",e.newuser=new Array,e.newuser.email=m.email,e.newuser.gender=m.gender,e.newuser.username=m.name,e.newuser.interested=m.interested,e.newuser.status=m.status,e.newuser.show_location=m.show_location,e.actual_photo=m.picture_url,null!=e.actual_photo||(e.actual_photo="./img/icon-user-anonymous.png"),"url(./img/icon-user-anonymous.png)"==e.actual_photo&&(e.actual_photo="./img/icon-user-anonymous.png"),P.checkNoModalIsOpen(),D.isMobileDevice()?r.fromTemplateUrl("templates/edit_profile_with_photo.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",P.activeModal=e,P.activeModal.show(),O.makeAvailableAgain("open-modal")}):r.fromTemplateUrl("templates/edit_profile_with_photo_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",P.activeModal=e,P.activeModal.show(),O.makeAvailableAgain("open-modal")}))},e.readURL=function(t,n){if(t.files&&t.files[0]){1==n?e.newuser.picture_url=t.files[0]:2==n?e.comment.photo=t.files[0]:e.report.file=t.files[0];var o=new FileReader;o.onload=function(e){document.getElementById("myImage").src=e.target.result},o.readAsDataURL(t.files[0])}},e.close_edit_profile_modal=function(){P.checkNoModalIsOpen()},e.edit_profile_ok=function(){e.edit_profile()},e.getObjectDataFromResponse=function(e){return e.data?e.data:e},e.edit_profile=function(){if(O.takeIfAvailable("submit-form"))if(A.isOnline()){document.getElementById("spinner-inside-modal").style.display="block",e.newuser.password=m.password;var t=d.edit_user(e.newuser);null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?t.then(function(t){var n=JSON.parse(t.response);h.http_data_response_is_successful(n,"error_container")?(n=e.getObjectDataFromResponse(n),m.save_user_data(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),_.saveUser(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){var t="CÃ³digo: "+e.code;t=t+" Origen: "+e.source,t=t+" Destino: "+e.target,t=t+" http_status: "+e.http_status,t=t+" Body: "+e.body,t=t+" Exception: "+e.exception,h.show_error_message("error_container","Hubo un error en el envÃ­o: "+t),O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(t){g(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})}):t.success(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",h.http_response_is_successful(t,"error_container")?(m.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),
document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form"),e.close_edit_profile_modal(),e.check_user_logged()):(O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")}).error(function(e,t,n,o){h.show_error_message("error_container",t),document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form")})}else O.makeAvailableAgain("submit-form"),w.show_alert("Sin conexiÃ³n a internet","Para editar su perfil debe estar conectado a internet")},e.show_login_modal=function(){O.takeIfAvailable("open-modal")&&(e.nonauth=new Array,e.nonauth.user="",e.nonauth.password="",P.checkNoModalIsOpen(),r.fromTemplateUrl("templates/log_in.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),P.activeModal=t,O.makeAvailableAgain("open-modal"),P.activeModal.show()}))},e.login_ok=function(){e.log_in(e.nonauth.user,e.nonauth.password)},e.close_login_modal=function(){P.checkNoModalIsOpen()},e.show_sign_up_modal=function(){O.takeIfAvailable("open-modal")&&(e.newuser=new Array,e.newuser.email="",e.newuser.password="",e.newuser.fullname="",e.newuser.id_doc="",e.newuser.telephone="",e.newuser.photo="",P.checkNoModalIsOpen(),D.isMobileDevice()?r.fromTemplateUrl("templates/sign_up.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),P.activeModal=t,O.makeAvailableAgain("open-modal"),P.activeModal.show()}):r.fromTemplateUrl("templates/sign_up_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),P.activeModal=t,O.makeAvailableAgain("open-modal"),P.activeModal.show()}))},e.close_sign_up_modal=function(){P.checkNoModalIsOpen()},e.sign_up=function(){if(O.takeIfAvailable("submit-form"))if(A.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";new Array;null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?d.create_user(e.newuser).then(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",h.http_data_response_is_successful(t,"error_container")?(t=e.getObjectDataFromResponse(t),m.save_user_data(t.name,t.email,e.newuser.password,t.identity_document,t.phone,t.picture_url),m.save_user_data(t.Name,e.newuser.password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),_.saveUser(t.Name,password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"}):d.create_user(e.newuser).then(function(t){if(h.http_response_is_successful(t,"error_container")){m.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_sign_up_modal();var n=i.alert({title:"Usuario creado con Ã©xito",template:e.getObjectDataFromResponse(t).message});n.then(function(e){}),e.check_user_logged()}else O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(e){O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",h.show_error_message("error_container",e.statusText)})}else O.makeAvailableAgain("submit-form"),w.show_alert("Sin conexiÃ³n a internet","Para iniciar registrarse debe estar conectado a internet")},e.sign_up_ok=function(){e.sign_up()},e.check_user_logged=function(){var t=m.name;if(null==t){var n=_.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?e.log_in_background(t.name,t.password):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==m.picture_url||""==m.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_offline_user=function(){var t=m.name;if(null==t){var n=_.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?m.save_user_data(t.name,t.password,t.picture_url,t.show_location):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==m.picture_url||""==m.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_user_picture=function(t){document.getElementById("user_picture");0==t?e.user_cached_image="./img/icon-user-anonymous.png":null!=m.picture_url&&""!=m.picture_url?e.user_cached_image=m.picture_url:e.user_cached_image="./img/icon-user-anonymous.png"},e.find_me=function(){e.set_active_option("button-find-me"),e.hide_special_divs();var t={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(t).then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,c.save_new_report_position(t.coords.latitude,t.coords.longitude),A.isOnline()?e.map.center.zoom=18:e.map.center.zoom=16,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"<p align='center'>Te encuentras aquÃ­ <br/> <a ng-click='new_report(1);'>Iniciar reporte en tu posiciÃ³n actual</a></p>",focus:!0,draggable:!1,getMessageScope:function(){return e}}},function(t){e.openCouncilSelector()})},e.submitFilters=function(){document.getElementById("spinner").style.display="block",u.getData(e.filters).then(function(t){u.asentamientosActivos=t,document.getElementById("spinner").style.display="block",e.updatePins()})},e.toggleGroup=function(t){e.isGroupShown(t)?e.shownGroup=null:e.shownGroup=t},e.isGroupShown=function(t){return e.shownGroup===t},e.mapIcon=function(){return{iconUrl:"",iconSize:[37,41],iconAnchor:[18,36],popupAnchor:[0,0]}},e.updatePins=function(){s.getMap().then(function(t){e.asentamientos_layers.length>0&&e.asentamientos_layers.forEach(function(n,o){t.removeLayer(n),delete e.asentamientos_layers[o]}),u.asentamientosActivos.forEach(function(n){var o={};"Polygon"==e.getTypeOfMapObject(n.wkt_geom)?o=e.getOnlyCoordinatesPolygon(n.wkt_geom):"MultiPolygon"==e.getTypeOfMapObject(n.wkt_geom)&&(o=e.getOnlyCoordinatesMultiPolygon(n.wkt_geom),1==o.length&&(o=o[0]));var a="#1cc7bd",r="img/pin-green.svg",i='<div class="popup-header"><div class="popup-ast-nombre">'+n.nombre+'</div><div class="popup-ast-nombre-otro">'+n.nombre_otro+'</div></div><ul class="popup-body"><li><label>AÃ±o de creaciÃ³n</label><div class="popup-value">'+n.y_creacion+'<div class="popup-value"></li><!--<li><label>Vulnerabilidad</label><div class="popup-value" style="color:'+a+'">'+n.vulnera_urb+'<div class="popup-value"></li><li><label>NÃºmero estimado de personas</label><div class="popup-value">'+n.estim_personas_ajust+'<div class="popup-value"></li>--><li><label>NÃºmero estimado de viviendas</label><div class="popup-value">'+n.nro_viviendas+'<div class="popup-value"></li></ul><div class="popup-footer"><a href="#">Click para ver mÃ¡s detalles</a></div>',s=L.polygon(o,{color:a}).bindPopup(i).addTo(t);e.asentamientos_layers.push(s);var l=e.mapIcon();if(l.iconUrl=r,n.cent_lat&&n.cent_long){var c=L.marker([n.cent_lat,n.cent_long],{icon:L.icon(l)}).bindPopup(i).addTo(t);e.asentamientos_layers.push(c)}}),document.getElementById("filter-total").innerHTML=u.asentamientosActivos.length,document.getElementById("spinner").style.display="none"})}}]),pmb_im.controllers.controller("StaticController",["$scope",function(e){}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9ja2FuLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbG9hZGVyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbG9jYXRpb25zU2VydmljZS5qcyIsInNlcnZpY2VzL21hcC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL21vZGFsU2VydmljZS5qcyIsInNlcnZpY2VzL3Bpbi5zZXJ2aWNlLmpzIiwic2VydmljZXMvcG9wdXAuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9zZW1hcGhvcmUuc2VydmljZS5qcyIsInNlcnZpY2VzL3ViaWNhY2lvbmVzLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdW5kZXJzY29yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdXNlci5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZXMuanMiLCJjb250cm9sbGVycy9hYnMuY3RybC5qcyIsImNvbnRyb2xsZXJzL2Zvcm0uY3J0bC5qcyIsImNvbnRyb2xsZXJzL2luZGV4LmN0cmwuanMiLCJjb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFwLmN0cmwuanMiLCJjb250cm9sbGVycy9zdGF0aWMuY3RybC5qcyJdLCJuYW1lcyI6WyJwbWJfaW0iLCJjb250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlcyIsImFwcCIsImNvbnN0YW50IiwidXJsIiwicnVuIiwiJGlvbmljUGxhdGZvcm0iLCIkcm9vdFNjb3BlIiwiJGNvcmRvdmFLZXlib2FyZCIsIlZFUlNJT04iLCJ3aW5kb3ciLCJyZWFkeSIsImNvcmRvdmEiLCJwbHVnaW5zIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJkaXNhYmxlU2Nyb2xsIiwiaW9uaWMiLCJQbGF0Zm9ybSIsImlzRnVsbFNjcmVlbiIsIlN0YXR1c0JhciIsInN0eWxlRGVmYXVsdCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiZGVidWdJbmZvRW5hYmxlZCIsInN0YXRlIiwiY2FjaGUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInZpZXdzIiwibWVudUNvbnRlbnQiLCJvdGhlcndpc2UiLCJmYWN0b3J5IiwiJGh0dHAiLCIkY29yZG92YUZpbGVUcmFuc2ZlciIsIkNvbmZpZ1NlcnZpY2UiLCJWYWxpZGF0aW9uU2VydmljZSIsImJhc2VVUkwiLCJsb2dfaW4iLCJ1c2VyIiwicGFzc3dvcmQiLCJib2R5IiwicG9zdCIsIndpdGhDcmVkZW50aWFscyIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJzaWduX291dCIsImVtYWlsIiwiZ2V0IiwicGFyYW1zIiwicGFzc3dvcmRfc2lnbl9pbiIsImNyZWF0ZV91c2VyIiwidXNlck9iaiIsInBpY3R1cmVfdXJsIiwiaXNNb2JpbGVEZXZpY2UiLCJvcHRpb25zIiwiZmlsZUtleSIsInVzZXJuYW1lIiwiZ2VuZGVyIiwiaW50ZXJlc3RlZCIsInN0YXR1cyIsInNob3dfbG9jYXRpb24iLCJ0cnVzdEFsbEhvc3RzIiwidXBsb2FkIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInVuZGVmaW5lZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsInBhc3N3b3JkX3JlY292ZXJ5IiwibG9naW5fZW1haWwiLCJwYXNzd29yZF9jaGFuZ2UiLCJvbGRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwiZWRpdF91c2VyIiwibGVhZmxldERhdGEiLCJsYXN0UGluc1Jlc3BvbnNlIiwiYXNlbnRhbWllbnRvc0FjdGl2b3MiLCJnZXRBbGxQb2x5Z29ucyIsImNrYW5BbGxQb2x5Z29uc1VSTCIsIkF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwicmVzdWx0IiwicmVjb3JkcyIsImdldFBvbHlnb25zQnlJZCIsImlkcyIsImFjdGl2ZVBvbHlnb25zIiwiaSIsImxlbmd0aCIsImluZGV4T2YiLCJwYXJzZUludCIsInB1c2giLCJnZXREYXRhIiwiZmlsdGVycyIsInF1ZXJ5IiwiYV9vIiwidW5vIiwiaGFzT3duUHJvcGVydHkiLCJ0aXBvIiwidml2ZW5kYXNfbm8iLCJwX3RlY2hvc19wcmVjIiwicF9wYXJlZGVzX3ByZWMiLCJwX2NvbnRlbGVjdCIsInBfY19kcmVuYWplIiwiZGVwdG8iLCJjb25zb2xlIiwibG9nIiwiT2JqZWN0Iiwia2V5cyIsInF1ZXJ5QXJyIiwiZmlsdGVyR3JvdXAiLCJ1cmJhbm8iLCJydXJhbCIsInZpdmlBcnIiLCJkb3MiLCJ0cmVzIiwiY3VhdHJvIiwiam9pbiIsInBBcnIiLCJjdWFyZW50YSIsInNlc2VudGEiLCJjaWVuIiwiYXJib2xhZG8iLCJjaW5jdWVudGEiLCJzcWwiLCJnZXREYXRhQnlJZCIsImlkMjAxOCIsInJlc291cmNlX2lkIiwibGltaXQiLCJxIiwiZ2V0QWxsRGF0YSIsInJpZCIsInF1ZXJ5RGF0YSIsIkNvbmZpZ09iaiIsIkFwcE5hbWUiLCIkY29yZG92YU5ldHdvcmsiLCJpc09ubGluZSIsImlzT2ZmbGluZSIsIiRxIiwic2F2ZVVzZXIiLCJ1c2VyX25hbWUiLCJ1c2VyX3Bhc3N3b3JkIiwidXNlcl9waWN0dXJlX3VybCIsInVpZCIsIl9pZCIsIm5hbWUiLCJnZXRVc2VyIiwiZG9jIiwiX3JldiIsIl9kYiIsInB1dCIsImVyciIsImVyYXNlVXNlciIsInJlbW92ZSIsImluaXREQiIsIlBvdWNoREIiLCJzYXZlUmVwb3J0IiwicmVwb3J0IiwiZGF0ZSIsIkRhdGUiLCJuZXdfcmVwb3J0X2lkIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRNaWxsaXNlY29uZHMiLCJ1cGRhdGVSZXBvcnQiLCJnZXRDYXRlZ29yaWVzIiwic2F2ZUNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZ2V0UmVwb3J0IiwicmVwb3J0SWQiLCJnZXRBbGxSZXBvcnRzIiwiYWxsRG9jcyIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwic3RhcnRrZXkiLCJlbmRrZXkiLCJkZWxldGVSZXBvcnQiLCJyZXBvcnRfaWQiLCJkZWxldGVHaXZlblJlcG9ydCIsIiRpb25pY1BvcHVwIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsIiwianNvblJlc3VsdCIsImVycm9yQ29udGFpbmVySWQiLCJlcnJvckRpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJTdGF0dXMiLCJzdHlsZSIsImRpc3BsYXkiLCJpbm5lckhUTUwiLCJNZXNzYWdlIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXAiLCJhbGVydFBvcHVwIiwiYWxlcnQiLCJ0aXRsZSIsInRlbXBsYXRlIiwibWVzc2FnZSIsInJlcyIsImh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNob3dfZXJyb3JfbWVzc2FnZSIsInNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cCIsImNoZWNrX2ZpZWxkcyIsImZpZWxkcyIsImVycm9ycyIsImZvckVhY2giLCJmaWVsZCIsInR5cGUiLCJ2YWxpZGF0ZV9ub3RfZW1wdHkiLCJ2YWx1ZSIsInZhbGlkYXRlX2VtYWlsIiwidmFsaWRhdGVfaWRkb2NfdXkiLCJ2YWxpZGF0ZV90d29fd29yZHMiLCJ2YWxpZGF0ZV9lcXVhbHNUbyIsInNlY29uZFZhbHVlIiwiJGlvbmljTG9hZGluZyIsIiR0aW1lb3V0IiwiTE9BREVSQVBJIiwic2hvd0xvYWRpbmciLCJ0ZXh0Iiwic2hvdyIsImhpZGVMb2FkaW5nIiwiaGlkZSIsInRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZSIsInRpbWVvdXQiLCJzZWxmIiwidGhpcyIsImNvbmZpcm1Qb3B1cCIsImNvbmZpcm0iLCJzaG93QWxlcnQiLCJfdGl0bGUiLCJfdGVtcGxhdGUiLCJsb2NhdGlvbnNPYmoiLCJpbml0aWFsX2xhdCIsImluaXRpYWxfbG5nIiwibGFzdF91c2VyX2xhdCIsImxhc3RfdXNlcl9sbmciLCJjb3VuY2lsX21vZGFsIiwic2VsZWN0ZWRfY291bmNpbCIsInNlbGVjdENvdW5jaWwiLCJjb3VuY2lsTmFtZSIsInNhdmVfaW5pdGlhbF9wb3NpdGlvbiIsInBvc2l0aW9uIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJzYXZlX2xhc3RfdXNlcl9wb3NpdGlvbiIsImxhdCIsImxuZyIsInNhdmVkTG9jYXRpb25zIiwiJGNvbXBpbGUiLCJwcm9qNCIsImRlZnMiLCJtYXBTZXJ2aWNlIiwiZ29Ub1BsYWNlIiwibG9uIiwic2NvcGUiLCJfZ2VvSnNvbiIsImNycyIsInByb3BlcnRpZXMiLCJmZWF0dXJlcyIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJub21icmUiLCJnZXRNYXAiLCJtYXAiLCJfbGF0bG5nIiwibGF5ZXIiLCJMIiwiUHJvaiIsImdlb0pzb24iLCJwb2ludFRvTGF5ZXIiLCJmZWF0dXJlIiwibGF0bG5nIiwiaHRtbFBvcFVwIiwiY29tcGlsZWQiLCJtYXJrZXIiLCJiaW5kUG9wdXAiLCJhZGRUbyIsInNldFZpZXciLCJvcGVuUG9wdXAiLCJjZW50ZXJNYXBPbkNvb3JkcyIsInpvb20iLCJMYXRMbmciLCJtb2RhbE9CSiIsImFjdGl2ZU1vZGFsIiwiY2hlY2tOb01vZGFsSXNPcGVuIiwiUGluIiwiX2RhdGEiLCJleHRlbmQiLCJwaW5zVVJMIiwiYXBpVVJMIiwiY29udmVydExhdExvbmdQcm9qIiwiZ2V0QWxsIiwiaGFzaF9pZCIsIk1hdGgiLCJyYW5kb20iLCJzZW5kVXNlckxvY2F0aW9uIiwiX2FsbCIsImN1cnJlbnQiLCJidWlsZCIsInByb3RvdHlwZSIsInNldExhdExuZyIsInNob3dfYWxlcnQiLCJhbGVydF90aXRsZSIsImFsZXJ0X21lc3NhZ2UiLCJhc2tGb3JPbmVWYWx1ZVBvcFVwIiwiZmllbGRfbmFtZSIsInZhbGlkYXRpb25UeXBlIiwiJHNjb3BlIiwibXlQb3B1cCIsInN1YlRpdGxlIiwiYnV0dG9ucyIsIm9uVGFwIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2VtYXBob3JlT2JqIiwic2VtYXBob3JlcyIsIkFycmF5IiwidGFrZUlmQXZhaWxhYmxlIiwic2VtYXBob3JlSWQiLCJtYWtlQXZhaWxhYmxlQWdhaW4iLCJBcGlJbUVuZHBvaW50IiwiQXBpRGF0YUVuZHBvaW50IiwiTG9jYXRpb25zU2VydmljZSIsInJlc3RQcmVmZml4IiwibG9jYXRpb25BUEkiLCJzZWFyY2hMb2NhdGlvbkJ5U3RyIiwiX2xvY2F0aW9uIiwibWV0aG9kIiwic2VhcmNoRXNxdWluYUJ5U3RyIiwiY2FsbGUiLCJlc3F1aW5hIiwiZ2V0TG9jYXRpb25HZW9tIiwiZ2V0UGFyYW1QYXRoQnlUaXBvIiwicGF0aFBhcmFtcyIsImdldExvY2F0aW9uR2VvbVBNQiIsImVzcXVpbmFfbnVtZXJvIiwiX3RpcG8iLCJyZXN0R2VvRGF0YVNlcnZpY2VQYXRoIiwiRVNRVUlOQSIsIkRJUkVDQ0lPTiIsIl8iLCJVc2VyT2JqIiwic2F2ZV91c2VyX2RhdGEiLCJlcmFzZV91c2VyX2RhdGEiLCJpZGVudGl0eV9kb2N1bWVudCIsInBob25lIiwiZ2V0X3VzZXJfZGF0YSIsImFkZF9waG90byIsImlzTG9nZ2VkIiwidmFsdWVzIiwic3BsaXQiLCJmaWx0ZXIiLCJ2IiwicmUiLCJ0ZXN0IiwicmVwbGFjZSIsImRpZyIsImEiLCIkc3RhdGUiLCIkY29yZG92YUdlb2xvY2F0aW9uIiwiJHN0YXRlUGFyYW1zIiwiREJTZXJ2aWNlIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwiZm9ybSIsImVkYWQiLCJwbGFuIiwibHVnYXIiLCJ0dXJubyIsIm5pdmVsX2Fwcm9iYWRvIiwibmV4dCIsInByZXZpb3VzIiwiZ29fdG9fbWFwIiwiZ28iLCJkYiIsImluZm8iLCJiaW5kIiwiZ2VvbG9jYXRlIiwicG9zT3B0aW9ucyIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsImdldEN1cnJlbnRQb3NpdGlvbiIsIiRvbiIsIiRjb3Jkb3ZhQ2FtZXJhIiwiJGlvbmljTW9kYWwiLCJDa2FuU2VydmljZSIsIlBpblNlcnZpY2UiLCJBdXRoU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwiJGludGVydmFsIiwiJGxvY2F0aW9uIiwiRXJyb3JTZXJ2aWNlIiwiUG9wVXBTZXJ2aWNlIiwiQ29ubmVjdGl2aXR5U2VydmljZSIsIiRjb3Jkb3ZhSW5BcHBCcm93c2VyIiwiTWFwU2VydmljZSIsIk1vZGFsU2VydmljZSIsIlNlbWFwaG9yZVNlcnZpY2UiLCJhc2VudGFtaWVudG9zX2xheWVycyIsInVzZXJfY2FjaGVkX2ltYWdlIiwib25lX3ZhbHVlX3BvcHVwIiwibXlJbnRlcnZhbHMiLCJhc3RWdWxuZXJhIiwiMCIsImNvbG9yIiwiaWNvbiIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsImNoZWNrX3VzZXJfbG9nZ2VkIiwic2V0X29mZmxpbmVfdXNlciIsImNyZWF0ZV9vbmxpbmVfbWFwIiwib3BlbldlYnNpdGUiLCJsb2NhdGlvbiIsImNsZWFyY2FjaGUiLCJ0b29sYmFyIiwib3BlbiIsImV2ZW50IiwiZGVmYXVsdHMiLCJ0aWxlTGF5ZXIiLCJtaW5ab29tIiwibWF4Wm9vbSIsInpvb21Db250cm9sUG9zaXRpb24iLCJtYXJrZXJzIiwiZXZlbnRzIiwiZW5hYmxlIiwibG9naWMiLCJjZW50ZXIiLCJsb2FkUGluc0xheWVyIiwib24iLCJoaWRlT2ZmU2NyZWVuUGlucyIsImJhY2tfdG9fbWFwIiwiaW1hZ2UiLCJhZGRJbWFnZSIsImlzRnJvbUFsYnVtIiwiaXNVc2VyUGhvdG8iLCJpc0NvbW1lbnRQaG90byIsImlzTmV3VXNlclBob3RvIiwic291cmNlIiwiQ2FtZXJhIiwiUGljdHVyZVNvdXJjZVR5cGUiLCJDQU1FUkEiLCJmaXhfb3JpZW50YXRpb24iLCJzYXZlX3RvX2dhbGxlcnkiLCJQSE9UT0xJQlJBUlkiLCJxdWFsaXR5IiwiZGVzdGluYXRpb25UeXBlIiwiRGVzdGluYXRpb25UeXBlIiwiRklMRV9VUkkiLCJzb3VyY2VUeXBlIiwiYWxsb3dFZGl0IiwiY29ycmVjdE9yaWVudGF0aW9uIiwiZW5jb2RpbmdUeXBlIiwiRW5jb2RpbmdUeXBlIiwiSlBFRyIsInBvcG92ZXJPcHRpb25zIiwiQ2FtZXJhUG9wb3Zlck9wdGlvbnMiLCJzYXZlVG9QaG90b0FsYnVtIiwidGFyZ2V0V2lkdGgiLCJ0YXJnZXRIZWlnaHQiLCJnZXRQaWN0dXJlIiwiaW1hZ2VEYXRhIiwib25JbWFnZVN1Y2Nlc3MiLCJmaWxlVVJJIiwiRmlsZVBhdGgiLCJyZXNvbHZlTmF0aXZlUGF0aCIsInN0YXJ0c1dpdGgiLCJwcm9maWxlIiwiY29tbWVudCIsImZpbGUiLCJuZXd1c2VyIiwiaW1nVVJJIiwiZXJyb3IiLCJ1cmxGb3JJbWFnZSIsImltYWdlVVJMIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJkYXRhRGlyZWN0b3J5Iiwic2Nyb2xsTWUiLCJhbmNob3JfaWQiLCJoYXNoIiwiaGFuZGxlIiwiJGdldEJ5SGFuZGxlIiwiYW5jaG9yU2Nyb2xsIiwic2V0X2FjdGl2ZV9vcHRpb24iLCJidXR0b25pZCIsImNsYXNzTmFtZSIsImhpZGVfc3BlY2lhbF9kaXZzIiwiY2xvc2VfcmVwb3J0X2RldGFpbF9tb2RhbCIsInJlcG9ydF9kZXRhaWxfaWQiLCJsb2NhdGUiLCJub3ciLCJmb2N1cyIsImRyYWdnYWJsZSIsImFkZE1hcENvbnRyb2xzIiwiY2hhbmdlVXNlckxvY2F0aW9uUGluIiwib25saW5lX3VzZXJfZ2VvX2FycmF5IiwibmV3TGF0TG5nIiwicmVtb3ZlQWxsUGlucyIsImtleSIsInJlbW92ZUxheWVyIiwidXBkYXRlUGlucyIsImdldE9ubHlDb29yZGluYXRlc1BvbHlnb24iLCJ3a3RfZ2VvbSIsInBvaW50c0FycmF5IiwicG9seWdvblBvaW50c0Nvb3JkaW5hdGVzIiwicG9pbnQiLCJ0cmltIiwiY29vcmRpbmF0ZXNBcnJheSIsIm5ld0Nvb3JkaW5hdGVzIiwibGF0bG9uIiwiZ2V0T25seUNvb3JkaW5hdGVzTXVsdGlQb2x5Z29uIiwiYWxsX3BvbHlnb25zIiwicG9seWdvbnMiLCJwb2x5Z29uIiwia2V5MiIsInBhcnNlRmxvYXQiLCJpc05hTiIsImdldFR5cGVPZk1hcE9iamVjdCIsInRpbWVDb252ZXJ0ZXIiLCJVTklYX3RpbWVzdGFtcCIsInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJnZXRIb3VycyIsIm1pbiIsImdldE1pbnV0ZXMiLCJ0aW1lIiwiZ2V0U2Vjb25kcyIsIm1vZGVsIiwiZXh0ZXJuYWxNb2RlbCIsInNlbGVjdGVkSXRlbXMiLCJwcmVzZWxlY3RlZFNlYXJjaEl0ZW1zIiwiY2xpY2tlZFZhbHVlTW9kZWwiLCJyZW1vdmVkVmFsdWVNb2RlbCIsIml0ZW1zUmVtb3ZlZCIsImNhbGxiYWNrIiwidXNlcl9vcHRpb25zIiwic2hvd19hbm9ueW1vdXNfbWVudSIsInNob3dfdXNlcl9tZW51IiwiY3JlYXRlX2ZpZWxkX2FycmF5IiwiY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzIiwiZml4X2ZiX2ltYWdlX2xpbmsiLCJwYXJ0cyIsIm5ld1VybCIsInJlc3AiLCJwaG90byIsImdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UiLCJQaG90byIsIk5hbWUiLCJub25hdXRoIiwiU2hvd0xvY2F0aW9uIiwiVWlkIiwiRXN0YWRvIiwiR2VuZGVyIiwiSW50ZXJlc3RlZEluIiwic2V0X3VzZXJfcGljdHVyZSIsImNsb3NlX2xvZ2luX21vZGFsIiwic3RhdHVzVGV4dCIsImxvZ19pbl9iYWNrZ3JvdW5kIiwic2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwiLCJhY3R1YWxfcGhvdG8iLCJmcm9tVGVtcGxhdGVVcmwiLCJoYXJkd2FyZUJhY2tCdXR0b25DbG9zZSIsImFuaW1hdGlvbiIsIm1vZGFsIiwicmVhZFVSTCIsImlucHV0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwic3JjIiwidGFyZ2V0IiwicmVhZEFzRGF0YVVSTCIsImNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCIsImVkaXRfcHJvZmlsZV9vayIsImVkaXRfcHJvZmlsZSIsImVkaXRfcmVxdWVzdCIsIkpTT04iLCJwYXJzZSIsImNvZGUiLCJodHRwX3N0YXR1cyIsImV4Y2VwdGlvbiIsInByb2dyZXNzIiwidXBsb2FkUHJvZ3Jlc3MiLCJsb2FkZWQiLCJ0b3RhbCIsInJvdW5kIiwic3VjY2VzcyIsInNob3dfbG9naW5fbW9kYWwiLCJsb2dpbl9vayIsInNob3dfc2lnbl91cF9tb2RhbCIsImZ1bGxuYW1lIiwiaWRfZG9jIiwidGVsZXBob25lIiwiY2xvc2Vfc2lnbl91cF9tb2RhbCIsInNpZ25fdXAiLCJzaWduX3VwX29rIiwiaGFzUGhvdG8iLCJmaW5kX21lIiwic2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uIiwiZ2V0TWVzc2FnZVNjb3BlIiwib3BlbkNvdW5jaWxTZWxlY3RvciIsInN1Ym1pdEZpbHRlcnMiLCJhc2VudGFtaWVudG9zIiwidG9nZ2xlR3JvdXAiLCJncm91cCIsImlzR3JvdXBTaG93biIsInNob3duR3JvdXAiLCJtYXBJY29uIiwiaWNvblVybCIsImljb25TaXplIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwibGF0bG5ncyIsImFzdENvbG9yIiwiYXN0UGluIiwiYXN0UG9wdXAiLCJub21icmVfb3RybyIsInlfY3JlYWNpb24iLCJ2dWxuZXJhX3VyYiIsImVzdGltX3BlcnNvbmFzX2FqdXN0IiwibnJvX3ZpdmllbmRhcyIsImFzdEljb24iLCJjZW50X2xhdCIsImNlbnRfbG9uZyIsImFzdE1hcmtlciJdLCJtYXBwaW5ncyI6IkFBT0EsR0FBSUEsU0FDRkMsWUFBYUMsUUFBUUMsT0FBTyx5QkFDNUJDLFNBQVVGLFFBQVFDLE9BQU8s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WUFBYSxpR0FJM0RoVyxFQUFRaVcsV0FBVyw0R0FDMkRKLEVBQVMsS0FDdkY3VixFQUFRa1csWUFBWSx3R0FFcEJsVyxFQUFRbVcscUJBQXFCLDRHQUU3Qm5XLEVBQVFvVyxjQUFjLGlIQUdsQjlHLEVBQVUxUCxFQUFFMFAsUUFBUXNHLEdBQVV2TixNQUFPd04sSUFBV3hWLFVBQVUwVixHQUFVelYsTUFBTWIsRUFFOUU0QyxHQUFPMEYscUJBQXFCdFQsS0FBSzZhLEVBR2pDLElBQUkrRyxHQUFVaFUsRUFBT2tULFNBSXJCLElBSEFjLEVBQVFiLFFBQVVNLEVBR2Q5VixFQUFRc1csVUFBWXRXLEVBQVF1VyxVQUFXLENBQ3pDLEdBQUlDLEdBQVk1VyxFQUFFUSxRQUFRSixFQUFRc1csU0FBU3RXLEVBQVF1VyxZQUFhak8sS0FBTTFJLEVBQUUwSSxLQUFLK04sS0FBV2hXLFVBQVUwVixHQUFVelYsTUFBTWIsRUFDbEg0QyxHQUFPMEYscUJBQXFCdFQsS0FBSytoQixNQUdyQ2pjLFNBQVNDLGVBQWUsZ0JBQWdCSSxVQUFZc00sRUFBWXpULHFCQUFxQmEsT0FDckZpRyxTQUFTQyxlQUFlLFdBQVdFLE1BQU1DLFFBQVUsYUN0b0MvRHhNLE9BQU9DLFlBQVlrQyxXQUFXLG9CQUM3QixTQUNELFNBQVMrUiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJb25pYyBTdGFydGVyIEFwcFxuXG4vLyBhbmd1bGFyLm1vZHVsZSBpcyBhIGdsb2JhbCBwbGFjZSBmb3IgY3JlYXRpbmcsIHJlZ2lzdGVyaW5nIGFuZCByZXRyaWV2aW5nIEFuZ3VsYXIgbW9kdWxlc1xuLy8gJ3BtYl9pbScgaXMgdGhlIG5hbWUgb2YgdGhpcyBhbmd1bGFyIG1vZHVsZSBleGFtcGxlIChhbHNvIHNldCBpbiBhIDxib2R5PiBhdHRyaWJ1dGUgaW4gaW5kZXguaHRtbClcbi8vIHRoZSAybmQgcGFyYW1ldGVyIGlzIGFuIGFycmF5IG9mICdyZXF1aXJlcydcbi8vICdzdGFydGVyLnNlcnZpY2VzJyBpcyBmb3VuZCBpbiBzZXJ2aWNlcy5qc1xuLy8gJ3N0YXJ0ZXIuY29udHJvbGxlcnMnIGlzIGZvdW5kIGluIGNvbnRyb2xsZXJzLmpzXG52YXIgcG1iX2ltID0ge1xuICBjb250cm9sbGVyczogYW5ndWxhci5tb2R1bGUoJ3BtYl9pbS5jb250cm9sbGVycycsIFtdKSxcbiAgc2VydmljZXM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uc2VydmljZXMnLCBbXSlcbn07XG5cbnBtYl9pbS5hcHAgPSBhbmd1bGFyLm1vZHVsZSgncG1iX2ltJywgWydpb25pYycsJ2lvbmljLndpemFyZCcsJ2lvbi1hdXRvY29tcGxldGUnLCdsZWFmbGV0LWRpcmVjdGl2ZScsICdwbWJfaW0uY29udHJvbGxlcnMnLCAncG1iX2ltLnNlcnZpY2VzJywgJ25nQ29yZG92YSddKVxuXG4uY29uc3RhbnQoJ0FwaUltRW5kcG9pbnQnLCB7XG4gIHVybDogJ2h0dHA6Ly93d3cubW9udGV2aWRlby5ndWIudXknXG59KVxuXG4uY29uc3RhbnQoJ0FwaURhdGFFbmRwb2ludCcsIHtcbiAgdXJsOiAnaHR0cDovL2JhY2tlbmQuZWR1Y2FjaW9uLnRob3IuZGF0YXV5Lm9yZydcbn0pXG5cblxuLnJ1bihmdW5jdGlvbigkaW9uaWNQbGF0Zm9ybSwgJHJvb3RTY29wZSwgJGNvcmRvdmFLZXlib2FyZCkge1xuICAkcm9vdFNjb3BlLlZFUlNJT04gPSB3aW5kb3cuVkVSU0lPTjtcbiAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuICAgIC8vIGZvciBmb3JtIGlucHV0cylcbiAgICBpZiAod2luZG93LmNvcmRvdmEgJiYgd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZCkge1xuICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcihmYWxzZSk7XG4gICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbChmYWxzZSk7XG4gICAgfVxuICAgIC8vJGNvcmRvdmFLZXlib2FyZC5oaWRlQWNjZXNzb3J5QmFyKGZhbHNlKVxuICAgIC8vJGNvcmRvdmFLZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKVxuICAgIGlvbmljLlBsYXRmb3JtLmlzRnVsbFNjcmVlbiA9IHRydWU7XG4gICAgaWYgKHdpbmRvdy5TdGF0dXNCYXIpIHtcbiAgICAgIC8vIG9yZy5hcGFjaGUuY29yZG92YS5zdGF0dXNiYXIgcmVxdWlyZWRcbiAgICAgIFN0YXR1c0Jhci5zdHlsZURlZmF1bHQoKTtcbiAgICB9XG4gIH0pO1xufSlcblxuLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkY29tcGlsZVByb3ZpZGVyLCAkaW9uaWNDb25maWdQcm92aWRlcikge1xuICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpO1xuICAvLyRpb25pY0NvbmZpZ1Byb3ZpZGVyLnNjcm9sbGluZy5qc1Njcm9sbGluZyh0cnVlKTtcblxuICAvLyBJb25pYyB1c2VzIEFuZ3VsYXJVSSBSb3V0ZXIgd2hpY2ggdXNlcyB0aGUgY29uY2VwdCBvZiBzdGF0ZXNcbiAgLy8gTGVhcm4gbW9yZSBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXJcbiAgLy8gU2V0IHVwIHRoZSB2YXJpb3VzIHN0YXRlcyB3aGljaCB0aGUgYXBwIGNhbiBiZSBpbi5cbiAgLy8gRWFjaCBzdGF0ZSdzIGNvbnRyb2xsZXIgY2FuIGJlIGZvdW5kIGluIGNvbnRyb2xsZXJzLmpzXG4gICRzdGF0ZVByb3ZpZGVyXG5cbi5zdGF0ZSgnYXBwJywge1xuICAgIGNhY2hlOiBmYWxzZSxcbiAgICB1cmw6IFwiL2FwcFwiLFxuICAgIGFic3RyYWN0OiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tZW51Lmh0bWxcIixcbiAgICBjb250cm9sbGVyOiAnQWJzQ29udHJvbGxlcidcbiAgfSlcblxuLnN0YXRlKCdhcHAuaW5kZXgnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvaW5kZXhcIixcbiAgICB2aWV3czoge1xuICAgICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvc3RhdGljL2FwcC5jb21wb25lbnQuaHRtbFwiLFxuICAgICAgICBjb250cm9sbGVyIDogXCJJbmRleENvbnRyb2xsZXJcIlxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuLnN0YXRlKCdhcHAuY29udGFjdCcsIHtcbiAgY2FjaGU6IGZhbHNlLFxuICB1cmw6IFwiL2NvbnRhY3RcIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvc3RhdGljL2NvbnRhY3QuY29tcG9uZW50Lmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXIgOiBcIkNvbnRhY3RDb250cm9sbGVyXCJcbiAgICB9XG4gIH1cbn0pXG5cbi5zdGF0ZSgnYXBwLmNvbnRlbmlkb3MnLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9jb250ZW5pZG9zXCIsXG4gIHZpZXdzOiB7XG4gICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL3N0YXRpYy9wcmVzcy1yb29tLmNvbXBvbmVudC5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJTdGF0aWNDb250cm9sbGVyXCJcbiAgICB9XG4gIH1cbn0pXG5cbi5zdGF0ZSgnYXBwLm1ldG9kb2xvZ2lhJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvbWV0b2RvbG9naWFcIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvc3RhdGljL21ldGhvZG9sb2d5LmNvbXBvbmVudC5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJTdGF0aWNDb250cm9sbGVyXCJcbiAgICB9XG4gIH1cbn0pXG5cbi5zdGF0ZSgnYXBwLmNvbnRhY3RvJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvY29udGFjdG9cIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvc3RhdGljL2NvbnRhY3QuY29tcG9uZW50Lmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXIgOiBcIlN0YXRpY0NvbnRyb2xsZXJcIlxuICAgIH1cbiAgfVxufSlcblxuLnN0YXRlKCdhcHAubWFwJywge1xuICAgIGNhY2hlOiBmYWxzZSxcbiAgICB1cmw6IFwiL21hcFwiLFxuICAgIHZpZXdzOiB7XG4gICAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tYXAuaHRtbFwiLFxuICAgICAgICBjb250cm9sbGVyIDogXCJNYXBDb250cm9sbGVyXCJcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbi5zdGF0ZSgnYXBwLmZvcm0nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9mb3JtXCIsXG4gIHZpZXdzOiB7XG4gICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2Zvcm0uaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiRm9ybUN0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLnN0YXRlKCdhcHAuaW50cm8nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9pbnRyb1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9pbnRyby5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJJbnRyb0N0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvbWFwJyk7XG5cbn0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0F1dGhTZXJ2aWNlJywgWyckaHR0cCcsICckY29yZG92YUZpbGVUcmFuc2ZlcicsICdDb25maWdTZXJ2aWNlJywnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgJGNvcmRvdmFGaWxlVHJhbnNmZXIsIENvbmZpZ1NlcnZpY2UsIFZhbGlkYXRpb25TZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBsb2dfaW46IGZ1bmN0aW9uICh1c2VyLHBhc3N3b3JkKSB7XG4gICAgICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VyKycmcGFzc3dvcmQ9JytwYXNzd29yZDtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdsb2dpbicsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICB9LFxuXG4gICAgc2lnbl9vdXQ6IGZ1bmN0aW9uIChwYXNzd29yZCwgZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwic2lnbl9vdXRcIiwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIHBhcmFtczogeyBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCwgZW1haWw6IGVtYWlsIH0gfSk7XG4gICAgfSxcblxuICAgIGNyZWF0ZV91c2VyOiBmdW5jdGlvbiAodXNlck9iaikge1xuICAgICAgaWYodXNlck9iai5waWN0dXJlX3VybCAmJiBWYWxpZGF0aW9uU2VydmljZS5pc01vYmlsZURldmljZSgpKXtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICBmaWxlS2V5OiBcInBob3RvXCIsXG4gICAgICAgICAvL2ZpbGVOYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgIC8vY2h1bmtlZE1vZGU6IGZhbHNlLFxuICAgICAgICAgLy9taW1lVHlwZTogXCJpbWFnZS9qcGdcIixcbiAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgICAgIHBhcmFtcyA6IHsgIHVzZXI6IHVzZXJPYmoudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogdXNlck9iai5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyT2JqLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgZ2VuZGVyOiB1c2VyT2JqLmdlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgIGludGVyZXN0ZWQ6IHVzZXJPYmouaW50ZXJlc3RlZCxcbiAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdXNlck9iai5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICBzaG93X2xvY2F0aW9uOiB1c2VyT2JqLnNob3dfbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJ1c3RBbGxIb3N0cyA9IHRydWU7XG4gICAgICAgIHJldHVybiAkY29yZG92YUZpbGVUcmFuc2Zlci51cGxvYWQoYmFzZVVSTCArIFwiY3JlYXRlX3VzZXJcIiwgdXNlck9iai5waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYodXNlck9iai5waWN0dXJlX3VybCl7XG4gICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwicGhvdG9cIiwgdXNlck9iai5waWN0dXJlX3VybCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwidXNlclwiLCB1c2VyT2JqLnVzZXJuYW1lKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwYXNzd29yZFwiLCB1c2VyT2JqLnBhc3N3b3JkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJlbWFpbFwiLCB1c2VyT2JqLmVtYWlsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJnZW5kZXJcIiwgdXNlck9iai5nZW5kZXIpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImludGVyZXN0ZWRcIiwgdXNlck9iai5pbnRlcmVzdGVkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJzdGF0dXNcIiwgdXNlck9iai5zdGF0dXMpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInNob3dfbG9jYXRpb25cIiwgdXNlck9iai5zaG93X2xvY2F0aW9uKTtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NyZWF0ZV91c2VyJywgZm9ybURhdGEsIHtcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH0sXG4gICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJPYmoudXNlcm5hbWUrJyZwYXNzd29yZD0nK3VzZXJPYmoucGFzc3dvcmQrJyZlbWFpbD0nK3VzZXJPYmouZW1haWwrJyZnZW5kZXI9Jyt1c2VyT2JqLmdlbmRlcjtcbiAgICAgICAgICBib2R5ID0gYm9keSArJyZpbnRlcmVzdGVkPScrdXNlck9iai5pbnRlcmVzdGVkKycmc3RhdHVzPScrdXNlck9iai5zdGF0dXMrJyZzaG93X2xvY2F0aW9uPScrdXNlck9iai5zaG93X2xvY2F0aW9uO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnY3JlYXRlX3VzZXInLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICBwYXNzd29yZF9yZWNvdmVyeTogZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcImZvcmdvdF9wYXNzd29yZFwiLCB7IHBhcmFtczogeyBsb2dpbl9lbWFpbDogZW1haWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIHBhc3N3b3JkX2NoYW5nZTogZnVuY3Rpb24gKGVtYWlsLG9sZFBhc3N3b3JkLG5ld1Bhc3N3b3JkLGNvbmZpcm1QYXNzd29yZCkge1xuXG4gICAgICB2YXIgYm9keSA9ICdlbWFpbD0nK2VtYWlsKycmcGFzc3dvcmRfc2lnbl9pbj0nK29sZFBhc3N3b3JkKycmbmV3X3Bhc3N3b3JkPScrbmV3UGFzc3dvcmQrJyZjb25maXJtPScrY29uZmlybVBhc3N3b3JkO1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdjaGFuZ2VfcGFzc3dvcmQnLCBib2R5LHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuXG4gICAgfSxcblxuXG4gICAgZWRpdF91c2VyOiBmdW5jdGlvbiAodXNlck9iaikge1xuICAgICAgaWYodXNlck9iai5waWN0dXJlX3VybCAmJiBWYWxpZGF0aW9uU2VydmljZS5pc01vYmlsZURldmljZSgpKXtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICBmaWxlS2V5OiBcInBob3RvXCIsXG4gICAgICAgICAvL2ZpbGVOYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgIC8vY2h1bmtlZE1vZGU6IGZhbHNlLFxuICAgICAgICAgLy9taW1lVHlwZTogXCJpbWFnZS9qcGdcIixcbiAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgICAgIHBhcmFtcyA6IHsgIHVzZXI6IHVzZXJPYmoudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogdXNlck9iai5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyT2JqLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgZ2VuZGVyOiB1c2VyT2JqLmdlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgIGludGVyZXN0ZWQ6IHVzZXJPYmouaW50ZXJlc3RlZCxcbiAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdXNlck9iai5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICBzaG93X2xvY2F0aW9uOiB1c2VyT2JqLnNob3dfbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJ1c3RBbGxIb3N0cyA9IHRydWU7XG4gICAgICAgIHJldHVybiAkY29yZG92YUZpbGVUcmFuc2Zlci51cGxvYWQoYmFzZVVSTCArIFwiZWRpdF9wcm9maWxlXCIsIHVzZXJPYmoucGljdHVyZV91cmwsIG9wdGlvbnMsIHRydXN0QWxsSG9zdHMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VyT2JqLnVzZXJuYW1lKycmcGFzc3dvcmQ9Jyt1c2VyT2JqLnBhc3N3b3JkKycmZW1haWw9Jyt1c2VyT2JqLmVtYWlsKycmZ2VuZGVyPScrdXNlck9iai5nZW5kZXI7XG4gICAgICAgIGJvZHkgPSBib2R5ICsnJmludGVyZXN0ZWQ9Jyt1c2VyT2JqLmludGVyZXN0ZWQrJyZzdGF0dXM9Jyt1c2VyT2JqLnN0YXR1cysnJnNob3dfbG9jYXRpb249Jyt1c2VyT2JqLnNob3dfbG9jYXRpb247XG4gICAgICAgIGlmKHVzZXJPYmoucGljdHVyZV91cmwpe1xuICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBob3RvXCIsIHVzZXJPYmoucGljdHVyZV91cmwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInVzZXJcIiwgdXNlck9iai51c2VybmFtZSk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwicGFzc3dvcmRcIiwgdXNlck9iai5wYXNzd29yZCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiZW1haWxcIiwgdXNlck9iai5lbWFpbCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiZ2VuZGVyXCIsIHVzZXJPYmouZ2VuZGVyKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJpbnRlcmVzdGVkXCIsIHVzZXJPYmouaW50ZXJlc3RlZCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic3RhdHVzXCIsIHVzZXJPYmouc3RhdHVzKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJzaG93X2xvY2F0aW9uXCIsIHVzZXJPYmouc2hvd19sb2NhdGlvbik7XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdlZGl0X3Byb2ZpbGUnLCBmb3JtRGF0YSwge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eVxuICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2VkaXRfcHJvZmlsZScsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NrYW5TZXJ2aWNlJywgWyckaHR0cCcsICdsZWFmbGV0RGF0YScsJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgbGVhZmxldERhdGEsIENvbmZpZ1NlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgICAgbGFzdFBpbnNSZXNwb25zZTogbnVsbCxcbiAgICAgIGFzZW50YW1pZW50b3NBY3Rpdm9zOm51bGwsXG5cbiAgICAgIGdldEFsbFBvbHlnb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwLmdldChDb25maWdTZXJ2aWNlLmNrYW5BbGxQb2x5Z29uc1VSTCwgeyBoZWFkZXJzOiB7J0F1dGhvcml6YXRpb24nOiAnZDdlNzhiNmUtM2VlZC00ZDY5LTgzODctYWIwMTk2MTIxYTUxJ30gfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLnJlc3VsdC5yZWNvcmRzO1xuICAgICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldFBvbHlnb25zQnlJZDogZnVuY3Rpb24gKGlkcykge1xuICAgICAgICAgIC8vcmV0dXJuICRodHRwLmdldChDb25maWdTZXJ2aWNlLmNrYW5TUUwsIHsgaGVhZGVyczogeydBdXRob3JpemF0aW9uJzogJ2Q3ZTc4YjZlLTNlZWQtNGQ2OS04Mzg3LWFiMDE5NjEyMWE1MSd9IH0pO1xuICAgICAgICAgIHZhciBhY3RpdmVQb2x5Z29ucyA9IFtdO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ3BvbHlnb25zLmpzb24nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHZhciBhZ3JlZ2FyID0gMTtcbiAgICAgICAgICAgICAgaWYoaWRzLmluZGV4T2YoIHBhcnNlSW50KHJlc3BvbnNlLmRhdGFbaV1bJ0NPRF9BU1QnXSkgKSAhPSAtMSl7XG4gICAgICAgICAgICAgICAgYWN0aXZlUG9seWdvbnMucHVzaChyZXNwb25zZS5kYXRhW2ldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVBvbHlnb25zO1xuICAgICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uIChmaWx0ZXJzKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IFwiU0VMRUNUICogZnJvbSBcIjtcbiAgICAgICAgaWYgKGZpbHRlcnMuYV9vICYmIGZpbHRlcnMuYV9vLnVubykge1xuICAgICAgICAgIHF1ZXJ5ICs9ICdcIjE0MzQ4ZTY1LTI5MmQtNGIwZC1iNDhiLTBjY2U2MjQxODQ2NlwiICc7XG4gICAgICAgICAgLy9yZW1vdmVtb3MgY2FtcG9zIHF1ZSBubyBlc3TDoW4gLy8gVE9ETzogaW5oYWJpbGl0YXIgbG9zIGZpbHRyb3NcbiAgICAgICAgICBpZihmaWx0ZXJzLmhhc093blByb3BlcnR5KCd0aXBvJykpIGRlbGV0ZSBmaWx0ZXJzLnRpcG87XG4gICAgICAgICAgaWYoZmlsdGVycy5oYXNPd25Qcm9wZXJ0eSgndml2ZW5kYXNfbm8nKSkgZGVsZXRlIGZpbHRlcnMudml2ZW5kYXNfbm87XG4gICAgICAgICAgaWYoZmlsdGVycy5oYXNPd25Qcm9wZXJ0eSgncF90ZWNob3NfcHJlYycpKSBkZWxldGUgZmlsdGVycy5wX3RlY2hvc19wcmVjO1xuICAgICAgICAgIGlmKGZpbHRlcnMuaGFzT3duUHJvcGVydHkoJ3BfcGFyZWRlc19wcmVjJykpIGRlbGV0ZSBmaWx0ZXJzLnBfcGFyZWRlc19wcmVjO1xuICAgICAgICAgIGlmKGZpbHRlcnMuaGFzT3duUHJvcGVydHkoJ3BfY29udGVsZWN0JykpIGRlbGV0ZSBmaWx0ZXJzLnBfY29udGVsZWN0O1xuICAgICAgICAgIGlmKGZpbHRlcnMuaGFzT3duUHJvcGVydHkoJ3BfY19kcmVuYWplJykpIGRlbGV0ZSBmaWx0ZXJzLnBfY19kcmVuYWplO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vRmFsbGJhY2sgMjAxOFxuICAgICAgICAgIHF1ZXJ5ICs9ICdcIjA5MDM0MWEwLWRmYmEtNDNmZC1iYzgyLWRhOTAzOTRhODgzZFwiICc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCBmaWx0ZXJzLmRlcHRvID09ICcwJykge1xuICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJzLmRlcHRvO1xuICAgICAgICB9XG4gICAgICAgIGlmKGZpbHRlcnMuaGFzT3duUHJvcGVydHkoJ2FfbycpKSBkZWxldGUgZmlsdGVycy5hX287XG4gICAgICAgIC8vIFRPRE86IFZlciBxdWUgaGF5YSBmaWx0cm9zIG8gZGV2b2x2ZXIgdG9kb1xuICAgICAgICBjb25zb2xlLmxvZyhmaWx0ZXJzKTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcnMpLmxlbmd0aCkge1xuICAgICAgICAgIHF1ZXJ5ICs9ICd3aGVyZSAnO1xuICAgICAgICAgIHF1ZXJ5QXJyID0gW107XG4gICAgICAgICAgdmFyIGFzZW50YW1pZW50b3NBY3Rpdm9zID0gW107XG4gICAgICAgICAgZm9yKCB2YXIgZmlsdGVyR3JvdXAgaW4gZmlsdGVycyApe1xuICAgICAgICAgICAgaWYoIWZpbHRlcnMuaGFzT3duUHJvcGVydHkoZmlsdGVyR3JvdXApKSBjb250aW51ZTtcbiAgICAgICAgICAgIHN3aXRjaCAoZmlsdGVyR3JvdXApIHtcbiAgICAgICAgICAgICAgY2FzZSAndGlwbyc6XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnMudGlwby51cmJhbm8gJiYgZmlsdGVycy50aXBvLnJ1cmFsICkgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQWdyZWdhciBjYW1wbyBhIHBsYW5pbGxhXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlsdGVycy50aXBvLnVyYmFubykgcXVlcnlBcnIucHVzaChcInRpcG9fYXNlbnRhbWllbnRvID0gMVwiKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmaWx0ZXJzLnRpcG8ucnVyYWwpIHF1ZXJ5QXJyLnB1c2goXCJ0aXBvX2FzZW50YW1pZW50byA9IDJcIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkZXB0byc6XG4gICAgICAgICAgICAgICAgcXVlcnlBcnIucHVzaChcImRlcHRvID0gXCIrZmlsdGVycy5kZXB0byk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICd2aXZlbmRhc19ubyc6XG4gICAgICAgICAgICAgICAgdmFyIHZpdmlBcnIgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tmaWx0ZXJHcm91cF0udW5vKSB2aXZpQXJyLnB1c2goXCJucm9fdml2aWVuZGFzIDw9IDUwXCIpO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ZpbHRlckdyb3VwXS5kb3MpIHZpdmlBcnIucHVzaChcIm5yb192aXZpZW5kYXMgPiA1MCBBTkQgbnJvX3ZpdmllbmRhcyA8PSAxMDBcIik7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbZmlsdGVyR3JvdXBdLnRyZXMpIHZpdmlBcnIucHVzaChcIm5yb192aXZpZW5kYXMgPiAxMDAgQU5EIG5yb192aXZpZW5kYXMgPD0gMjAwXCIpO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ZpbHRlckdyb3VwXS5jdWF0cm8pIHZpdmlBcnIucHVzaChcIm5yb192aXZpZW5kYXMgPiAyMDBcIik7XG4gICAgICAgICAgICAgICAgcXVlcnlBcnIucHVzaCh2aXZpQXJyLmpvaW4oJyBPUiAnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ3BfdGVjaG9zX3ByZWMnOlxuICAgICAgICAgICAgICBjYXNlICdwX3BhcmVkZXNfcHJlYyc6XG4gICAgICAgICAgICAgIGNhc2UgJ3ZpdmVuZGFzX3N1ZWxvcyc6XG4gICAgICAgICAgICAgIGNhc2UgJ3BfY29udGVsZWN0JzpcbiAgICAgICAgICAgICAgY2FzZSAncF9jX2RyZW5hamUnOlxuICAgICAgICAgICAgICBjYXNlICdwX2FjZXJhX21hdGVyaWFsZXMnOlxuICAgICAgICAgICAgICBjYXNlICdwX2NhbGxlX21hdGVyaWFsZXMnOlxuICAgICAgICAgICAgICAgIHZhciBwQXJyID0gW107XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbZmlsdGVyR3JvdXBdLmN1YXJlbnRhKSBwQXJyLnB1c2goZmlsdGVyR3JvdXArXCIgPD0gNDBcIik7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbZmlsdGVyR3JvdXBdLnNlc2VudGEpIHBBcnIucHVzaChmaWx0ZXJHcm91cCtcIiA+IDQwIEFORCA2MCA8PSBcIitmaWx0ZXJHcm91cCk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbZmlsdGVyR3JvdXBdLmNpZW4pIHBBcnIucHVzaChmaWx0ZXJHcm91cCtcIiA+IDYwXCIpO1xuICAgICAgICAgICAgICAgIHF1ZXJ5QXJyLnB1c2gocEFyci5qb2luKCcgT1IgJykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdhbHVtYnJhZG9fYXNlbnQnOlxuICAgICAgICAgICAgICBjYXNlICdiYXN1cmFsX2FzZW50JzpcbiAgICAgICAgICAgICAgY2FzZSAncGFyYWRhX2FzZW50JzpcbiAgICAgICAgICAgICAgY2FzZSAncGxhY2FzX2FzZW50JzpcbiAgICAgICAgICAgICAgICBxdWVyeUFyci5wdXNoKGZpbHRlckdyb3VwK1wiID0gMVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2FyYm9sYWRvJzpcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVycy5hcmJvbGFkby5jaW5jdWVudGEgJiYgZmlsdGVycy5hcmJvbGFkby5jaWVuICkgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQWdyZWdhciBjYW1wbyBhIHBsYW5pbGxhXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlsdGVycy5hcmJvbGFkby5jaW5jdWVudGEpIHF1ZXJ5QXJyLnB1c2goXCJhcmJvbGFkb19hc2VudCA9IDBcIik7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlsdGVycy5hcmJvbGFkby5jaWVuKSBxdWVyeUFyci5wdXNoKFwiYXJib2xhZG9fYXNlbnQgPj0gMVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1ZXJ5ICs9IHF1ZXJ5QXJyLmpvaW4oJyBBTkQgJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy92YXIgcmVzcCA9ICRodHRwLnBvc3QoQ29uZmlnU2VydmljZS5ja2FuU1FMLCB7IGhlYWRlcnM6IHsnQXV0aG9yaXphdGlvbic6ICdkN2U3OGI2ZS0zZWVkLTRkNjktODM4Ny1hYjAxOTYxMjFhNTEnfSB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1F1ZXJ5IC0+ICcrcXVlcnkpO1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2NrYW5TcWwnLCB7c3FsOiBxdWVyeX0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgIC8qZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWdyZWdhciA9IDE7XG4gICAgICAgICAgICB2YXIgYXN0ID0gcmVzcG9uc2UuZGF0YVtpXTtcbiAgICAgICAgICAgIGlmIChxdWVyeS50aXBvX2FzZW50YW1pZW50byAmJiBxdWVyeS50aXBvX2FzZW50YW1pZW50byAhPSBhc3QudGlwb19hc2VudGFtaWVudG8pIHtcbiAgICAgICAgICAgICAgYWdyZWdhciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL290cm9zIEZpbHRyb3NcblxuICAgICAgICAgICAgaWYgKGFncmVnYXIpIGFzZW50YW1pZW50b3NBY3Rpdm9zLnB1c2goYXN0KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGFzZW50YW1pZW50b3NBY3Rpdm9zKTtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5yZXN1bHQucmVjb3JkcztcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0RGF0YUJ5SWQ6IGZ1bmN0aW9uIChpZDIwMTgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0RBVEFCWUlEJyk7XG4gICAgICAgICAgdmFyIHVybCA9ICcvY2thbkRhdGEnO1xuICAgICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICByZXNvdXJjZV9pZDogJ2EzYzhhMDczLWNlMzItNDM0Yi1hNzUxLWYzNWM3Yjc1MDk2OCcsXG4gICAgICAgICAgICBsaW1pdDoxLFxuICAgICAgICAgICAgcTogaWQyMDE4XG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhwYXJhbXMpO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KHVybCwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgey8vLHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAnQXV0aG9yaXphdGlvbic6ICdkN2U3OGI2ZS0zZWVkLTRkNjktODM4Ny1hYjAxOTYxMjFhNTEnfX0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRlcm1pbmEgUE9TVFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRBbGxEYXRhOiBmdW5jdGlvbiAocmlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBTExEQVRBJyk7XG4gICAgICAgICAgdmFyIHVybCA9ICcvY2thbkRhdGEnO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KHVybCwgeyByZXNvdXJjZV9pZDogcmlkLCBsaW1pdDo3MDAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsvLyx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ0F1dGhvcml6YXRpb24nOiAnZDdlNzhiNmUtM2VlZC00ZDY5LTgzODctYWIwMTk2MTIxYTUxJ319KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEucmVzdWx0LnJlY29yZHM7XG4gICAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcXVlcnlEYXRhOiBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0RBVEFCWVFVRVJZJyk7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvY2thblNxbCcsIHtzcWw6IHF1ZXJ5fSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQllRVUVSWScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5yZXN1bHQucmVjb3JkcztcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICB9XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29uZmlnU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHZhciBDb25maWdPYmogPSB7fTtcbiAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcImh0dHA6Ly9iYWNrZW5kLnRlY2hvdXkudGhvci5kYXRhdXkub3JnXCI7XG4gIENvbmZpZ09iai5ja2FuQWxsUG9seWdvbnNVUkwgPSBcIi9ja2FuXCI7XG4gIC8qaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgIENvbmZpZ09iai5iYXNlVVJMID0gXCJodHRwOi8vYmFja2VuZC5lZHVjYWNpb24udGhvci5kYXRhdXkub3JnXCI7XG4gIH0gZWxzZSB7XG4gICAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcIi9iYWNrZW5kXCI7XG4gIH0qL1xuICBDb25maWdPYmouQXBwTmFtZSA9IFwiVEVDSE8gVVlcIjtcblxuXG4gIHJldHVybiBDb25maWdPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25uZWN0aXZpdHlTZXJ2aWNlJywgWyckY29yZG92YU5ldHdvcmsnLCBmdW5jdGlvbigkY29yZG92YU5ldHdvcmspe1xuXG4gIHJldHVybiB7XG4gICAgaXNPbmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICAvKmlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgfSovXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGlzT2ZmbGluZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIC8qaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgICAgICByZXR1cm4gISRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICFuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgfSovXG4gICAgfVxuICB9XG59XSlcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdEQlNlcnZpY2UnLCBbJyRxJywgZnVuY3Rpb24oJHEpIHtcbiAgIHZhciBfZGI7XG5cbiAgIHJldHVybiB7XG4gICAgICAgaW5pdERCOiBpbml0REIsXG4gICAgICAgc2F2ZVVzZXI6IHNhdmVVc2VyLFxuICAgICAgIGdldFVzZXI6IGdldFVzZXIsXG4gICAgICAgZXJhc2VVc2VyOiBlcmFzZVVzZXIsXG4gICAgICAgc2F2ZVJlcG9ydDogc2F2ZVJlcG9ydCxcbiAgICAgICBnZXRSZXBvcnQ6IGdldFJlcG9ydCxcbiAgICAgICBnZXRBbGxSZXBvcnRzOiBnZXRBbGxSZXBvcnRzLFxuICAgICAgIHVwZGF0ZVJlcG9ydDogdXBkYXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZVJlcG9ydDogZGVsZXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZUdpdmVuUmVwb3J0OiBkZWxldGVHaXZlblJlcG9ydCxcbiAgICAgICBnZXRDYXRlZ29yaWVzOiBnZXRDYXRlZ29yaWVzLFxuICAgICAgIHNhdmVDYXRlZ29yaWVzOiBzYXZlQ2F0ZWdvcmllc1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcl9uYW1lLCB1c2VyX3Bhc3N3b3JkLCB1c2VyX3BpY3R1cmVfdXJsLHNob3dfbG9jYXRpb24sIHVpZCwgc3RhdHVzLCBnZW5kZXIsIGludGVyZXN0ZWQpIHtcbiAgICAgICAgIHZhciB1c2VyID0ge1xuICAgICAgICAgICAgX2lkOiAndXNlci1sb2dnZWQnLFxuICAgICAgICAgICAgbmFtZTogdXNlcl9uYW1lLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJfcGFzc3dvcmQsXG4gICAgICAgICAgICBwaWN0dXJlX3VybDogdXNlcl9waWN0dXJlX3VybCxcbiAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHNob3dfbG9jYXRpb24sXG4gICAgICAgICAgICB1aWQ6IHVpZCxcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgZ2VuZGVyOiBnZW5kZXIsXG4gICAgICAgICAgICBpbnRlcmVzdGVkOiBpbnRlcmVzdGVkXG4gICAgICAgICB9O1xuICAgICAgICAgZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICB1c2VyLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICAgICAgcmV0dXJuIF9kYi5wdXQodXNlcik7XG4gICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZXJhc2VVc2VyKCkge1xuICAgIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJykudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH1cblxuICAgZnVuY3Rpb24gaW5pdERCKCkge1xuICAgICAgIC8vIENyZWF0ZXMgdGhlIGRhdGFiYXNlIG9yIG9wZW5zIGlmIGl0IGFscmVhZHkgZXhpc3RzXG4gICAgICAgX2RiID0gbmV3IFBvdWNoREIoJ3RvbWFtb3N1bmFfbG9jYWxfZGInKTtcbiAgICAgICByZXR1cm4gX2RiO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgIC8vbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgcG91Y2hDb2xsYXRlLnRvSW5kZXhhYmxlU3RyaW5nKFtyZXBvcnRdKTtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBuZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBkYXRlLmdldERhdGUoKSArIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICByZXBvcnQuX2lkID0gbmV3X3JlcG9ydF9pZDtcbiAgICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiB1cGRhdGVSZXBvcnQocmVwb3J0KSB7XG4gICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCdjYXRlZ29yaWVzLWxpc3QnKTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVDYXRlZ29yaWVzKGNhdGVnb3JpZXMpIHtcbiAgICAgZ2V0Q2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgIGNhdGVnb3JpZXMuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgY2F0ZWdvcmllcy5faWQgPSBcImNhdGVnb3JpZXMtbGlzdFwiO1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KVxuICAgfTtcblxuICBmdW5jdGlvbiBnZXRSZXBvcnQocmVwb3J0SWQpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQocmVwb3J0SWQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRBbGxSZXBvcnRzKCkge1xuICAgICByZXR1cm4gX2RiLmFsbERvY3Moe1xuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgYXR0YWNobWVudHM6IGZhbHNlLFxuICAgICAgc3RhcnRrZXk6ICdyZXBvcnRfJyxcbiAgICAgIGVuZGtleTogJ3JlcG9ydF9cXHVmZmZmJ1xuICAgICB9KTsvKi50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIC8vIGhhbmRsZSByZXN1bHRcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pOyovXG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVwb3J0KHJlcG9ydF9pZCkge1xuICAgIF9kYi5nZXQocmVwb3J0X2lkKS50aGVuKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9kYi5yZW1vdmUoZG9jKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBkZWxldGVHaXZlblJlcG9ydChyZXBvcnQpIHtcbiAgICByZXR1cm4gX2RiLnJlbW92ZShyZXBvcnQpO1xuICB9O1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRXJyb3JTZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGpzb25SZXN1bHQsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhICYmIGpzb25SZXN1bHQuZGF0YS5TdGF0dXM9PVwic3VjY2Vzc1wiIHx8IGpzb25SZXN1bHQuU3RhdHVzPT1cInN1Y2Nlc3NcIil7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYoanNvblJlc3VsdC5kYXRhKXtcbiAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBqc29uUmVzdWx0LmRhdGEuTWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsganNvblJlc3VsdC5NZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICB9XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXA6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IGpzb25SZXN1bHQuZGF0YS5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGRhdGEsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoZGF0YS5TdGF0dXMhPSdzdWNjZXNzJyl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGRhdGEuTWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlOiBmdW5jdGlvbiAoZXJyb3JDb250YWluZXJJZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgbWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXA6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjaGVja19maWVsZHM6IGZ1bmN0aW9uIChmaWVsZHMsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3JkcyhmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVxdWFsc1RvXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lcXVhbHNUbyhmaWVsZC52YWx1ZSwgZmllbGQuc2Vjb25kVmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBMb3MgY2FtcG9zIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gY29pbmNpZGVuLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYoZXJyb3JzID09XCJcIil7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9hZGVyJywgWyckaW9uaWNMb2FkaW5nJywgJyR0aW1lb3V0JywnJGlvbmljUG9wdXAnLGZ1bmN0aW9uKCRpb25pY0xvYWRpbmcsJHRpbWVvdXQsJGlvbmljUG9wdXApIHtcblxuICB2YXIgTE9BREVSQVBJID0ge1xuXG4gICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHRleHQgPSB0ZXh0IHx8ICdMb2FkaW5nLi4uJztcbiAgICAgICRpb25pY0xvYWRpbmcuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZTogZnVuY3Rpb24odGV4dCwgdGltZW91dCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLnNob3dMb2FkaW5nKHRleHQpO1xuXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5oaWRlTG9hZGluZygpO1xuICAgICAgfSwgdGltZW91dCB8fCAzMDAwKTtcbiAgICB9LFxuXG4gICAgY29uZmlybVBvcHVwOmZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICB0aXRsZTogdGl0bGUsXG4gICAgIHRlbXBsYXRlOiB0ZXh0XG4gICB9KTtcbiAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gfSxcblxuXG4gICAgc2hvd0FsZXJ0OmZ1bmN0aW9uKF90aXRsZSxfdGVtcGxhdGUpIHtcbiAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICB0aXRsZTogX3RpdGxlLFxuICAgICAgICB0ZW1wbGF0ZTogX3RlbXBsYXRlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGVydFBvcHVwO1xuIH1cblxuICB9O1xuICByZXR1cm4gTE9BREVSQVBJO1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvY2F0aW9uc1NlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsb2NhdGlvbnNPYmogPSB7fTtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmxhc3RfdXNlcl9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xuZyA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5jb3VuY2lsX21vZGFsID0gbnVsbDtcbiAgbG9jYXRpb25zT2JqLnNlbGVjdGVkX2NvdW5jaWwgPSBudWxsO1xuXG4gIGxvY2F0aW9uc09iai5zZWxlY3RDb3VuY2lsID0gZnVuY3Rpb24oY291bmNpbE5hbWUpIHtcbiAgICBsb2NhdGlvbnNPYmouc2VsZWN0ZWRfY291bmNpbCA9ICBjb3VuY2lsTmFtZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX2luaXRpYWxfcG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xhdCA9ICBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZV9sYXN0X3VzZXJfcG9zaXRpb24gPSBmdW5jdGlvbihsYXQsbG5nKXtcbiAgICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xhdCA9IGxhdDtcbiAgICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xuZyA9IGxuZztcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlZExvY2F0aW9ucyA9IFtdO1xuXG4gIHJldHVybiBsb2NhdGlvbnNPYmo7XG5cbn1dKTtcbiIsIiAvL3BtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcbiBwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTWFwU2VydmljZScsIFsnbGVhZmxldERhdGEnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbihsZWFmbGV0RGF0YSwgJGNvbXBpbGUpIHtcblxuICAgLy9EZWZpbmljaW9uIGRlIGxhIHByb3llY2NjaW9uIFVUTSAyMSBzXG4gICBwcm9qNC5kZWZzKCdFUFNHOjMyNzIxJywgJytwcm9qPXV0bSArem9uZT0yMSArc291dGggK2VsbHBzPVdHUzg0ICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmcycpO1xuXG5cbiAgIHZhciBtYXBTZXJ2aWNlID0ge307XG5cbiAgIG1hcFNlcnZpY2UuZ29Ub1BsYWNlID0gZnVuY3Rpb24obmFtZSxsYXQsbG9uLHNjb3BlKSB7XG4gICAgdmFyIF9nZW9Kc29uID0ge1xuICAgICAgICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICBcImNyc1wiOiB7IFwidHlwZVwiOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6ICd1cm46b2djOmRlZjpjcnM6RVBTRzo6MzI3MjEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFwiZmVhdHVyZXNcIjogW1xuICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOlwiUG9pbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOltsYXQsbG9uXVxuICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6e1xuICAgICAgICAgICAgICAgICAgICAgIFwibm9tYnJlXCI6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgIHZhciBfbGF0bG5nO1xuICAgICAgIHZhciBsYXllciA9IEwuUHJvai5nZW9Kc29uKF9nZW9Kc29uLCB7XG4gICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgIF9sYXRsbmcgPSBsYXRsbmc7XG4gICAgICAgICAgIHZhciBodG1sUG9wVXAgPSBcIjxwIGFsaWduPSdjZW50ZXInPlwiK2ZlYXR1cmUucHJvcGVydGllcy5ub21icmUrXCIgPGJyLz4gPGEgbmctY2xpY2s9J25ld19yZXBvcnRfZnJvbV9sYXRsb24oXCIrX2xhdGxuZy5sYXQrXCIsXCIrX2xhdGxuZy5sbmcrXCIpOyc+SW5pY2lhciByZXBvcnRlIGFxdcOtPC9hPjwvcD5cIjtcbiAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUoaHRtbFBvcFVwKShzY29wZSk7XG4gICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcpLmJpbmRQb3B1cChjb21waWxlZFswXSk7XG4gICAgICAgICB9XG4gICAgICAgfSk7XG5cbiAgICAgICBsYXllci5hZGRUbyhtYXApO1xuICAgICAgIG1hcC5zZXRWaWV3KF9sYXRsbmcsIDE4KTtcbiAgICAgICBsYXllci5vcGVuUG9wdXAoKTtcbiAgICAgfSk7XG4gICB9O1xuXG4gIG1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMgPSBmdW5jdGlvbihsYXQsbG5nLHpvb20pIHtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLnNldFZpZXcobmV3IEwuTGF0TG5nKGxhdCwgbG5nKSx6b29tKTtcbiAgICAgICB9KTtcbiAgICAgfVxuXG4gICByZXR1cm4gbWFwU2VydmljZTtcblxuIH1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNb2RhbFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBtb2RhbE9CSiA9IHt9O1xuICBtb2RhbE9CSi5hY3RpdmVNb2RhbCA9IG51bGw7XG5cbiAgbW9kYWxPQkouY2hlY2tOb01vZGFsSXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYobW9kYWxPQkouYWN0aXZlTW9kYWwpe1xuICAgICAgbW9kYWxPQkouYWN0aXZlTW9kYWwuaGlkZSgpO1xuICAgICAgbW9kYWxPQkouYWN0aXZlTW9kYWwucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1vZGFsT0JKO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUGluU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIHBpbnNVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9zaXRlcy90b21hbW9zX3VuYS9maWxlcy9qc29uL3VzZXJzX2dlby5qc29uXCI7XG4gIHZhciBhcGlVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCJcblxuICBwcm9qNC5kZWZzKCdFUFNHOjMyNzIxJywgJytwcm9qPXV0bSArem9uZT0yMSArc291dGggK2VsbHBzPVdHUzg0ICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmcycpO1xuXG5cblxuLyoqXG4gICAqIENvbnN0cnVjdG9yLCB3aXRoIGNsYXNzIG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIFBpbihfZGF0YSkge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMsIF9kYXRhKTtcbiAgfVxuXG4gIFBpbi5jb252ZXJ0TGF0TG9uZ1Byb2ogPSBmdW5jdGlvbihsYXQsbG9uLHNjb3BlKSB7XG4gICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICAgICAgICAgICBcImNyc1wiOiB7IFwidHlwZVwiOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiAndXJuOm9nYzpkZWY6Y3JzOkVQU0c6OjMyNzIxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICBcImZlYXR1cmVzXCI6IFtcbiAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgXCJnZW9tZXRyeVwiOntcbiAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjpcIlBvaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOltsYXQsbG9uXVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOntcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgXVxuICAgICAgICAgICB9O1xuICAgICAgdmFyIF9sYXRsbmc7XG4gICAgICB2YXIgcG9pbnQgPSBMLlByb2ouZ2VvSnNvbihfZ2VvSnNvbiwge1xuICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgICByZXR1cm4gbGF0bG5nO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gX2xhdGxuZztcbiAgfTtcblxuXG4gIFBpbi5nZXRBbGwgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAkaHR0cC5nZXQocGluc1VSTCwge2NhY2hlOiBmYWxzZSwgcGFyYW1zOiB7aGFzaF9pZDpNYXRoLnJhbmRvbSgpfX0pO1xuICB9XG5cbiAgUGluLnNlbmRVc2VyTG9jYXRpb24gPSBmdW5jdGlvbihsYXRpdHVkZSxsb25naXR1ZGUsdXNlcm5hbWUscGFzc3dvcmQsdWlkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmbGF0PScrbGF0aXR1ZGUrJyZsb249Jytsb25naXR1ZGUrXCImdWlkPVwiK3VpZDtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnc2VuZF91c2VyX3Bvc2l0aW9uJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuXG4gIH1cblxuXG4gICAgUGluLl9hbGwgPSBbXTtcbiAgICBQaW4uY3VycmVudCA9IHt9O1xuICAgIFBpbi5sYXN0UGluc1Jlc3BvbnNlID0gbnVsbDtcblxuXG5cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBtZXRob2QsIGFzc2lnbmVkIHRvIGNsYXNzXG4gICAgICogSW5zdGFuY2UgKCd0aGlzJykgaXMgbm90IGF2YWlsYWJsZSBpbiBzdGF0aWMgY29udGV4dFxuICAgICAqL1xuICAgIFBpbi5idWlsZCA9IGZ1bmN0aW9uKF9kYXRhKSB7XG5cbiAgICAgIHJldHVybiBuZXcgUGluKFxuICAgICAgICBfZGF0YVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgUGluLnByb3RvdHlwZS5zZXRMYXRMbmcgPSBmdW5jdGlvbiAobGF0bG5nKSB7XG5cbiAgICAgIHRoaXMubGF0ID0gbGF0bG5nLmxhdDtcbiAgICAgIHRoaXMubG9uID0gbGF0bG5nLmxuZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqL1xuICAgIHJldHVybiBQaW47XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQb3BVcFNlcnZpY2UnLCBbJyRpb25pY1BvcHVwJywnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgc2hvd19hbGVydDogZnVuY3Rpb24gKGFsZXJ0X3RpdGxlLGFsZXJ0X21lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogYWxlcnRfdGl0bGUsXG4gICAgICAgICB0ZW1wbGF0ZTogYWxlcnRfbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgY29uZmlybVBvcHVwOiBmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiAgIH0sXG5cbiAgIGFza0Zvck9uZVZhbHVlUG9wVXA6IGZ1bmN0aW9uKHNjb3BlLHRpdGxlLHRleHQsZmllbGRfbmFtZSx2YWxpZGF0aW9uVHlwZSl7XG4gICAgICAkc2NvcGUgPSBzY29wZTtcbiAgICAgIHZhciBteVBvcHVwID0gJGlvbmljUG9wdXAuc2hvdyh7XG4gICAgICB0ZW1wbGF0ZTogZmllbGRfbmFtZSArICc6IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwib25lX3ZhbHVlX3BvcHVwXCI+PGRpdiBpZD1cImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIj48L2Rpdj4nLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgc3ViVGl0bGU6IHRleHQsXG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgYnV0dG9uczogW1xuICAgICAgICB7IHRleHQ6ICdDYW5jZWxhcicgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6ICc8Yj5FbnZpYXI8L2I+JyxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uLXBvc2l0aXZlJyxcbiAgICAgICAgICBvblRhcDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9uZV92YWx1ZV9wb3B1cFwiKS52YWx1ZTtcbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3Jkcyh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZXJyb3JzIT1cIlwiKXtcbiAgICAgICAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCIpO1xuICAgICAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgLy9kb24ndCBhbGxvdyB0aGUgdXNlciB0byBjbG9zZSB1bmxlc3MgaGUgZW50ZXJzIHdpZmkgcGFzc3dvcmRcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiBteVBvcHVwO1xuICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdTZW1hcGhvcmVTZXJ2aWNlJywgW2Z1bmN0aW9uKCkge1xuXG4gIHZhciBzZW1hcGhvcmVPYmogPSB7fTtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXMgPSBuZXcgQXJyYXkoKTtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ29wZW4tbW9kYWwnXSA9IFwiYXZhaWxhYmxlXCI7XG4gIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzWydzdWJtaXQtZm9ybSddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ3N1Ym1pdC1sb2NhdGlvbiddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ2Nhbl90YWxrJ10gPSBcImF2YWlsYWJsZVwiO1xuXG5cblxuXG4gIHNlbWFwaG9yZU9iai50YWtlSWZBdmFpbGFibGUgPSBmdW5jdGlvbihzZW1hcGhvcmVJZCkge1xuICAgIC8vY29uc29sZS5sb2coc2VtYXBob3JlSWQgKyBcIjpcIiArIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXSk7XG4gICAgaWYoc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdPT1cImF2YWlsYWJsZVwiKXtcbiAgICAgICAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdID0gXCJvY2N1cGllZFwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW1hcGhvcmVPYmoubWFrZUF2YWlsYWJsZUFnYWluID0gZnVuY3Rpb24oc2VtYXBob3JlSWQpIHtcbiAgICBpZihzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF09PVwib2NjdXBpZWRcIil7XG4gICAgICAgIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXSA9IFwiYXZhaWxhYmxlXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzZW1hcGhvcmVPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdsb2NhdGlvbkFQSScsIFsnJGh0dHAnLCAnJHEnLCAnQXBpSW1FbmRwb2ludCcsICdBcGlEYXRhRW5kcG9pbnQnLCAnQ29uZmlnU2VydmljZScsICdMb2NhdGlvbnNTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsICRxLCBBcGlJbUVuZHBvaW50LCBBcGlEYXRhRW5kcG9pbnQsIENvbmZpZ1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UpIHtcblxuICB2YXIgcmVzdFByZWZmaXggPSBcInViaWNhY2lvbmVzUmVzdFByb2RcIjtcblxuXG4gIHZhciBsb2NhdGlvbkFQSSA9IHt9O1xuXG4gIGxvY2F0aW9uQVBJLnNlYXJjaExvY2F0aW9uQnlTdHIgPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICAvKnJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY2FsbGVzJywge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBub21icmU6IF9sb2NhdGlvblxuICAgICAgfVxuICAgIH0pOyovXG4gICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiICsgX2xvY2F0aW9uO1xuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczoge31cbiAgICB9KTtcbiAgfTtcblxuXG4gIGxvY2F0aW9uQVBJLnNlYXJjaEVzcXVpbmFCeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIC8vY29uc29sZS5sb2coXCJzZWFyY2hFc3F1aW5hQnlTdHIgPSBcIiArIEpTT04uc3RyaW5naWZ5KF9sb2NhdGlvbikpO1xuICAgIC8vcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9lc3F1aW5hLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycgKyBfbG9jYXRpb24uZXNxdWluYSwge1xuICAgICAgLypyZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2NydWNlcy8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nLFxuICAgICAge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBub21icmU6IF9sb2NhdGlvbi5lc3F1aW5hXG4gICAgICAgIH1cbiAgICAgIH0pOyovXG5cbiAgICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIlxuICAgICAgICAgICAgICAgICAgICArIF9sb2NhdGlvbi5jYWxsZSArIFwiLFwiICsgX2xvY2F0aW9uLmVzcXVpbmE7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGFyYW1zOiB7fVxuICAgICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgdmFyIHVybCA9IEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8oX2xvY2F0aW9uLnRpcG8pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2xvY2F0aW9uLnBhdGhQYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVybCArPSAnLycgKyBfbG9jYXRpb24ucGF0aFBhcmFtc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbVBNQiA9IGZ1bmN0aW9uKGNhbGxlLGVzcXVpbmFfbnVtZXJvLHRpcG8pIHtcbiAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCJcbiAgICAgICAgICAgICAgKyBjYWxsZSArIFwiLFwiICsgZXNxdWluYV9udW1lcm8gKyBcIixcIiArIHRpcG87XG5cbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwpO1xuXG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvID0gZnVuY3Rpb24oX3RpcG8pIHtcblxuICAgIHZhciByZXN0R2VvRGF0YVNlcnZpY2VQYXRoID0ge1xuICAgICAgJ0VTUVVJTkEnOlwiL2VzcXVpbmFcIixcbiAgICAgICdESVJFQ0NJT04nOlwiL2RpcmVjY2lvblwiXG4gICAgfTtcblxuICAgIHJldHVybiByZXN0R2VvRGF0YVNlcnZpY2VQYXRoW190aXBvXTtcblxuXG4gIH07XG5cbiAgcmV0dXJuIGxvY2F0aW9uQVBJO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnXycsIFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHdpbmRvdy5fOyAvL1VuZGVyc2NvcmUgbXVzdCBhbHJlYWR5IGJlIGxvYWRlZCBvbiB0aGUgcGFnZVxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1VzZXJTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgLy92YXIgYmFzZVVSTCA9IFwiaHR0cDovL3BtYnV5LmRldmVsb3BtZW50LmRhdGF1eS5vcmcvYXV0aC9hamF4L1wiO1xuICB2YXIgVXNlck9iaiA9IHt9O1xuICBVc2VyT2JqLnVpZCA9IG51bGw7XG4gIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgVXNlck9iai5waWN0dXJlX3VybCA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICBVc2VyT2JqLnNob3dfbG9jYXRpb24gPSBudWxsO1xuXG5cbiAgVXNlck9iai5zYXZlX3VzZXJfZGF0YSA9IGZ1bmN0aW9uICh1c2VyX25hbWUsIHVzZXJfcGFzc3dvcmQsIHVzZXJfcGljdHVyZV91cmwsIHNob3dfbG9jYXRpb24sIHVpZCwgc3RhdHVzLCBnZW5kZXIsIGludGVyZXN0ZWQpIHtcbiAgICAgIFVzZXJPYmoudWlkID0gdWlkO1xuICAgICAgVXNlck9iai5uYW1lID0gdXNlcl9uYW1lO1xuICAgICAgVXNlck9iai5wYXNzd29yZCA9IHVzZXJfcGFzc3dvcmQ7XG4gICAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgICAgIFVzZXJPYmouc2hvd19sb2NhdGlvbiA9IHNob3dfbG9jYXRpb247XG4gICAgICBVc2VyT2JqLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIFVzZXJPYmouZ2VuZGVyID0gZ2VuZGVyO1xuICAgICAgVXNlck9iai5pbnRlcmVzdGVkID0gaW50ZXJlc3RlZDtcblxuICAgICAgLy9TQVZFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZXJhc2VfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gICAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gICAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gICAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gICAgVXNlck9iai5waG9uZSA9IG51bGw7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgLy9ERUxFVEUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5nZXRfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIC8vTEVWQU5UQSBERSBQT1VDSERCIExPUyBEQVRPUyBERUwgVVNVQVJJTy4gU0kgSEFZIExPUyBQT05FIEVOIExBUyBWQVJJQUJMRVMgREVMIFNFUlZJQ0lPLiBTSSBOTyBIQVkgUE9ORSBUT0RPIE5VTExcbiAgfVxuXG4gIFVzZXJPYmouYWRkX3Bob3RvID0gZnVuY3Rpb24gKHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgfVxuXG4gIFVzZXJPYmouaXNMb2dnZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYoVXNlck9iai5uYW1lIT1udWxsICYmIFVzZXJPYmoubmFtZSE9XCJcIil7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiBVc2VyT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVmFsaWRhdGlvblNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCkge1xuXG4gIHJldHVybiB7XG4gICAgaXNNb2JpbGVEZXZpY2U6IGZ1bmN0aW9uKCl7XG4gICAgICBpZih3aW5kb3cuY29yZG92YSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgfSxcblxuICAgIHZhbGlkYXRlX25vdF9lbXB0eTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX3R3b193b3JkczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24odil7cmV0dXJuIHYhPT0nJ30pO1xuICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvL3R3byBvciBtb3JlIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vbm90IGVub3VnaCB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfZXF1YWxzVG86IGZ1bmN0aW9uICh2YWx1ZSxzZWNvbmRWYWx1ZSkge1xuICAgICAgaWYodmFsdWU9PXNlY29uZFZhbHVlKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9lbWFpbDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YXIgcmUgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgICAgICAgICByZXR1cm4gcmUudGVzdCh2YWx1ZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9pZGRvY191eTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgICAgICAgIHZhciBkaWcgPSB2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICB2YXIgYSA9IDA7IHZhciBpID0gMDtcbiAgICAgICAgICBpZih2YWx1ZS5sZW5ndGggPD0gNil7XG4gICAgICAgICAgICBmb3IoaSA9IHZhbHVlLmxlbmd0aDsgaSA8IDc7IGkrKyl7XG4gICAgICAgICAgICAgIHZhbHVlID0gJzAnICsgdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcihpID0gMDsgaSA8IDc7IGkrKyl7XG4gICAgICAgICAgICBhICs9IChwYXJzZUludChcIjI5ODc2MzRcIltpXSkgKiBwYXJzZUludCh2YWx1ZVtpXSkpICUgMTA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgaWYoYSUxMCA9PT0gMCl7XG4gICAgICAgICAgICByZXN1bHQgPSAwO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmVzdWx0ID0gMTAgLSBhICUgMTA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGRpZyA9PSByZXN1bHQpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignQWJzQ29udHJvbGxlcicsXG5bJyRzY29wZScsXG5mdW5jdGlvbigkc2NvcGUpIHtcblxufV0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0Zvcm1DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ0xvY2F0aW9uc1NlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGNvcmRvdmFHZW9sb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCAkaW9uaWNQbGF0Zm9ybSwgJGlvbmljUG9wdXAsIExvY2F0aW9uc1NlcnZpY2UsIERCU2VydmljZSwgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSxcbiAgJGlvbmljU2Nyb2xsRGVsZWdhdGUpIHtcblxuICAgICRzY29wZS5mb3JtID0ge307XG4gICAgJHNjb3BlLmZvcm0uZWRhZCA9IDE2O1xuICAgICRzY29wZS5mb3JtLnBsYW4gPSBcIlwiO1xuICAgICRzY29wZS5mb3JtLmx1Z2FyID0gXCJcIjtcbiAgICAkc2NvcGUuZm9ybS50dXJubyA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0ubml2ZWxfYXByb2JhZG8gPSBcIlwiO1xuICAgIFxuXG5cdCAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUubmV4dCgpO1xuXHQgIH07XG5cblx0ICAkc2NvcGUucHJldmlvdXMgPSBmdW5jdGlvbigpIHtcblx0ICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcblx0ICB9O1xuXG5cdCAgJHNjb3BlLmdvX3RvX21hcCA9IGZ1bmN0aW9uKCl7XG5cdCAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuXHQgIH1cblxuICB9XG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdJbmRleENvbnRyb2xsZXInLFxuWyckc2NvcGUnLFxuZnVuY3Rpb24oJHNjb3BlKSB7XG5cbn1dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckc3RhdGVQYXJhbXMnLFxuICAnJGlvbmljUGxhdGZvcm0nLFxuICAnJGlvbmljUG9wdXAnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGNvcmRvdmFHZW9sb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCAkaW9uaWNQbGF0Zm9ybSwgJGlvbmljUG9wdXAsIExvY2F0aW9uc1NlcnZpY2UsIERCU2VydmljZSkge1xuXG4gIHZhciBkYiA9IERCU2VydmljZS5pbml0REIoKTtcbiAgZGIuaW5mbygpLnRoZW4oY29uc29sZS5sb2cuYmluZChjb25zb2xlKSk7XG5cbiAgJHNjb3BlLmdlb2xvY2F0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgcG9zT3B0aW9ucyA9IHt0aW1lb3V0OiAzNTAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9O1xuICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgTG9jYXRpb25zU2VydmljZS5zYXZlX2luaXRpYWxfcG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5mb3JtXCIpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAuZm9ybVwiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5lbnRlcicsIGZ1bmN0aW9uKCl7IC8vVGhpcyBpcyBmaXJlZCB0d2ljZSBpbiBhIHJvd1xuICAgICAgaWYoTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsIT1udWxsKXtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsLmhpZGUoKTtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgICRzY29wZS5nZW9sb2NhdGUoKTtcbiAgIH0pO1xuXG4gIH1cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcENvbnRyb2xsZXInLCBbJyRzY29wZScsICdfJyxcbiAgJyRjb3Jkb3ZhQ2FtZXJhJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJGNvbXBpbGUnLFxuICAnJGlvbmljTW9kYWwnLFxuICAnJGlvbmljUG9wdXAnLFxuICAnbGVhZmxldERhdGEnLFxuICAnQ29uZmlnU2VydmljZScsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0NrYW5TZXJ2aWNlJyxcbiAgJ1BpblNlcnZpY2UnLFxuICAnQXV0aFNlcnZpY2UnLFxuICAnVXNlclNlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgJyR0aW1lb3V0JyxcbiAgJyRpbnRlcnZhbCcsXG4gICckbG9jYXRpb24nLFxuICAnRXJyb3JTZXJ2aWNlJyxcbiAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuICAnUG9wVXBTZXJ2aWNlJyxcbiAgJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLFxuICAnJGNvcmRvdmFJbkFwcEJyb3dzZXInLFxuICAnTWFwU2VydmljZScsXG4gICdNb2RhbFNlcnZpY2UnLFxuICAnU2VtYXBob3JlU2VydmljZScsXG4gICdWYWxpZGF0aW9uU2VydmljZScsXG4gIGZ1bmN0aW9uKFxuICAgICRzY29wZSxcbiAgICBfLFxuICAgICRjb3Jkb3ZhQ2FtZXJhLFxuICAgICRjb3Jkb3ZhR2VvbG9jYXRpb24sXG4gICAgJGNvbXBpbGUsXG4gICAgJGlvbmljTW9kYWwsXG4gICAgJGlvbmljUG9wdXAsXG4gICAgbGVhZmxldERhdGEsXG4gICAgQ29uZmlnU2VydmljZSxcbiAgICBMb2NhdGlvbnNTZXJ2aWNlLFxuICAgIENrYW5TZXJ2aWNlLFxuICAgIFBpblNlcnZpY2UsXG4gICAgQXV0aFNlcnZpY2UsXG4gICAgVXNlclNlcnZpY2UsXG4gICAgREJTZXJ2aWNlLFxuICAgICR0aW1lb3V0LFxuICAgICRpbnRlcnZhbCxcbiAgICAkbG9jYXRpb24sXG4gICAgRXJyb3JTZXJ2aWNlLFxuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUsXG4gICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUsXG4gICAgUG9wVXBTZXJ2aWNlLFxuICAgIENvbm5lY3Rpdml0eVNlcnZpY2UsXG4gICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIsXG4gICAgTWFwU2VydmljZSxcbiAgICBNb2RhbFNlcnZpY2UsXG4gICAgU2VtYXBob3JlU2VydmljZSxcbiAgICBWYWxpZGF0aW9uU2VydmljZVxuICApIHtcblxuICAgIC8qKlxuICAgICAqIE9uY2Ugc3RhdGUgbG9hZGVkLCBnZXQgcHV0IG1hcCBvbiBzY29wZS5cbiAgICAgKi9cbiAgICAkc2NvcGUuYXNlbnRhbWllbnRvc19sYXllcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAkc2NvcGUuYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcbiAgICAkc2NvcGUuQXBwTmFtZSA9IENvbmZpZ1NlcnZpY2UuQXBwTmFtZTtcbiAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2UgPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCA9IG51bGw7XG4gICAgJHNjb3BlLm15SW50ZXJ2YWxzID0gbmV3IEFycmF5KCk7XG4gICAgJHNjb3BlLmZpbHRlcnMgPSB7fTtcbiAgICAkc2NvcGUuYXN0VnVsbmVyYSA9IHtcbiAgICAgIC8vJzAnOiB7IGNvbG9yOiAnIzI3QkYwMCcsIG5hbWU6ICdWdWxuZXJhYmlsaWRhZCB1cmJhbmEgYmFqYScgfSxcbiAgICAgICcwJzogeyBjb2xvcjogJyMxY2M3YmQnLCBuYW1lOiAnQmFqbycsIGljb246ICdpbWcvcGluLWdyZWVuLnN2ZycgfSxcbiAgICAgICcxJzogeyBjb2xvcjogJyMxY2M3YmQnLCBuYW1lOiAnQmFqbycsIGljb246ICdpbWcvcGluLWdyZWVuLnN2ZycgfSxcbiAgICAgIC8vJzInOiB7IGNvbG9yOiAnI0E5Q0IwMCcsIG5hbWU6ICdWdWxuZXJhYmlsaWRhZCB1cmJhbmEgbWVkaWEnIH0sXG4gICAgICAnMic6IHsgY29sb3I6ICcjMDA5MmRkJywgbmFtZTogJ01lZGlhbm8nLCBpY29uOiAnaW1nL3Bpbi1ibHVlLnN2ZycgfSxcbiAgICAgICczJzogeyBjb2xvcjogJyMwMDkyZGQnLCBuYW1lOiAnTWVkaWFubycsIGljb246ICdpbWcvcGluLWJsdWUuc3ZnJyB9LFxuICAgICAgLy8nNCc6IHsgY29sb3I6ICcjRDg3NjAwJywgbmFtZTogJ1Z1bG5lcmFiaWxpZGFkIHVyYmFuYSBhbHRhJyB9LFxuICAgICAgJzQnOiB7IGNvbG9yOiAnI2ZlYjQyOScsIG5hbWU6ICdBbHRvJywgaWNvbjogJ2ltZy9waW4teWVsbG93LnN2ZycgfSxcbiAgICAgICc1JzogeyBjb2xvcjogJyNmZWI0MjknLCBuYW1lOiAnQWx0bycsIGljb246ICdpbWcvcGluLXllbGxvdy5zdmcnIH0sXG4gICAgICAvLyc2JzogeyBjb2xvcjogJyNFNTAwMTAnLCBuYW1lOiAnVnVsbmVyYWJpbGlkYWQgdXJiYW5hIG11eSBhbHRhJyB9XG4gICAgICAnNic6IHsgY29sb3I6ICcjYzg1NzU3JywgbmFtZTogJ0V4dHJlbW8nLCBpY29uOiAnaW1nL3Bpbi1yZWQuc3ZnJyB9XG4gICAgfTtcblxuICAgICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmJlZm9yZUVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgREJTZXJ2aWNlLmluaXREQigpO1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJHNjb3BlLnNldF9vZmZsaW5lX3VzZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmFmdGVyRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWFwID0gbGVhZmxldERhdGEuZ2V0TWFwKCk7XG4gICAgICBpZihMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0IT1cIlwiKXtcbiAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyhMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0LCBMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbG5nLCAxMCk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcygtMzIuNDYyNzAzLCAtNTUuNzAxNDY4LCA3KTtcbiAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgJHNjb3BlLm9wZW5XZWJzaXRlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vJyxcbiAgICAgICAgICAgICAgICBjbGVhcmNhY2hlOiAneWVzJyxcbiAgICAgICAgICAgICAgICB0b29sYmFyOiAnbm8nXG4gICAgICAgICAgICB9O1xuXG4gICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4odXJsLCAnX2JsYW5rJywgb3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICB0aWxlTGF5ZXI6ICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgbWluWm9vbTogMSxcbiAgICAgICAgICBtYXhab29tOiAxOCxcbiAgICAgICAgICB6b29tQ29udHJvbFBvc2l0aW9uOiAnYm90dG9tcmlnaHQnLFxuICAgICAgICB9LFxuICAgICAgICBtYXJrZXJzOiB7fSxcbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgbWFwOiB7XG4gICAgICAgICAgICBlbmFibGU6IFsnY29udGV4dCddLFxuICAgICAgICAgICAgbG9naWM6ICdlbWl0J1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAkc2NvcGUubG9hZFBpbnNMYXllcigpO1xuICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgbGF0OiAtMzQuOTAxMTEzLFxuICAgICAgICAgIGxuZzogLTU2LjE2NDUzMSxcbiAgICAgICAgICB6b29tOiAxMFxuICAgICAgICB9O1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLm9uKCdtb3ZlZW5kJywgJHNjb3BlLmhpZGVPZmZTY3JlZW5QaW5zKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5uZXh0KCk7XG4gIH07XG5cbiAgJHNjb3BlLnByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5wcmV2aW91cygpO1xuICB9O1xuXG4gICRzY29wZS5iYWNrX3RvX21hcCA9IGZ1bmN0aW9uKGJhY2tfdG9fbWFwKXtcbiAgICBpZihiYWNrX3RvX21hcCl7XG4gICAgICAvL0xvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQgPSAkc2NvcGUucmVwb3J0LmxhdDtcbiAgICAgIC8vTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xuZyA9ICRzY29wZS5yZXBvcnQubG9uO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAvLyRzY29wZS5hZGRSZXBvcnRzTGF5ZXIoKTtcbiAgICB9ZWxzZXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG5cbiAgJHNjb3BlLmltYWdlID0gbnVsbDtcblxuICAkc2NvcGUuYWRkSW1hZ2UgPSBmdW5jdGlvbihpc0Zyb21BbGJ1bSwgaXNVc2VyUGhvdG8sIGlzQ29tbWVudFBob3RvLCBpc05ld1VzZXJQaG90bykge1xuICAgIC8vYWxlcnQoXCJhZGRJbWFnZVwiKTtcbiAgICAkc2NvcGUuaXNVc2VyUGhvdG8gPSBpc1VzZXJQaG90bztcbiAgICAkc2NvcGUuaXNDb21tZW50UGhvdG8gPSBpc0NvbW1lbnRQaG90bztcbiAgICAkc2NvcGUuaXNOZXdVc2VyUGhvdG8gPSBpc05ld1VzZXJQaG90bztcblxuICAgIHZhciBzb3VyY2UgPSBDYW1lcmEuUGljdHVyZVNvdXJjZVR5cGUuQ0FNRVJBO1xuICAgIHZhciBmaXhfb3JpZW50YXRpb24gPSB0cnVlO1xuICAgIHZhciBzYXZlX3RvX2dhbGxlcnkgPSB0cnVlO1xuICAgIGlmKGlzRnJvbUFsYnVtPT0xKXtcbiAgICAgIHNvdXJjZSA9IENhbWVyYS5QaWN0dXJlU291cmNlVHlwZS5QSE9UT0xJQlJBUlk7XG4gICAgICBmaXhfb3JpZW50YXRpb24gPSBmYWxzZTtcbiAgICAgIHNhdmVfdG9fZ2FsbGVyeSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgcXVhbGl0eTogOTAsXG4gICAgICBkZXN0aW5hdGlvblR5cGU6IENhbWVyYS5EZXN0aW5hdGlvblR5cGUuRklMRV9VUkksXG4gICAgICBzb3VyY2VUeXBlOiBzb3VyY2UsXG4gICAgICBhbGxvd0VkaXQ6IGZhbHNlLFxuICAgICAgY29ycmVjdE9yaWVudGF0aW9uIDogZml4X29yaWVudGF0aW9uLFxuICAgICAgZW5jb2RpbmdUeXBlOiBDYW1lcmEuRW5jb2RpbmdUeXBlLkpQRUcsXG4gICAgICBwb3BvdmVyT3B0aW9uczogQ2FtZXJhUG9wb3Zlck9wdGlvbnMsXG4gICAgICBzYXZlVG9QaG90b0FsYnVtOiBzYXZlX3RvX2dhbGxlcnksXG4gICAgICB0YXJnZXRXaWR0aDogNTAwLFxuICAgICAgdGFyZ2V0SGVpZ2h0OiA1MDBcbiAgICB9O1xuXG5cbiAgICAkY29yZG92YUNhbWVyYS5nZXRQaWN0dXJlKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oaW1hZ2VEYXRhKSB7XG4gICAgICBvbkltYWdlU3VjY2VzcyhpbWFnZURhdGEpO1xuXG4gICAgICBmdW5jdGlvbiBvbkltYWdlU3VjY2VzcyhmaWxlVVJJKSB7XG4gICAgICAgIHdpbmRvdy5GaWxlUGF0aC5yZXNvbHZlTmF0aXZlUGF0aChmaWxlVVJJLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAvLyBvblN1Y2Nlc3MgY29kZVxuICAgICAgICAgIC8vYWxlcnQocmVzdWx0KTtcbiAgICAgICAgICBmaWxlVVJJID0gJ2ZpbGU6Ly8nICsgcmVzdWx0O1xuICAgICAgICAgIGlmKHJlc3VsdC5zdGFydHNXaXRoKFwiZmlsZTovL1wiKSl7XG4gICAgICAgICAgICBmaWxlVVJJID0gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZigkc2NvcGUuaXNVc2VyUGhvdG89PTEpe1xuICAgICAgICAgICAgLy9Vc2VyU2VydmljZS5hZGRfcGhvdG8oZmlsZVVSSSk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5waWN0dXJlX3VybCA9IGZpbGVVUkk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZigkc2NvcGUuaXNDb21tZW50UGhvdG89PTEpe1xuICAgICAgICAgICAgICAkc2NvcGUuY29tbWVudC5maWxlID0gZmlsZVVSSTtcbiAgICAgICAgICAgIH1lbHNlIGlmKCRzY29wZS5pc05ld1VzZXJQaG90bz09MSl7XG4gICAgICAgICAgICAgICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsID0gZmlsZVVSSTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgJHNjb3BlLmltZ1VSSSA9IGZpbGVVUkk7XG4gICAgICAgICAgLy9jcmVhdGVGaWxlRW50cnkoZmlsZVVSSSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgYWxlcnQoXCJFcnJvciByZXNvbHZlTmF0aXZlUGF0aFwiICsgZXJyb3IpO1xuICAgICAgICB9KTtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVGaWxlRW50cnkoZmlsZVVSSSkge1xuICAgICAgICB3aW5kb3cucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChmaWxlVVJJLCBjb3B5RmlsZSwgZmFpbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIDVcbiAgICAgIGZ1bmN0aW9uIGNvcHlGaWxlKGZpbGVFbnRyeSkge1xuICAgICAgICB2YXIgbmFtZSA9IGZpbGVFbnRyeS5mdWxsUGF0aC5zdWJzdHIoZmlsZUVudHJ5LmZ1bGxQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgICAgdmFyIG5ld05hbWUgPSBtYWtlaWQoKSArIG5hbWU7XG5cbiAgICAgICAgd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkwoY29yZG92YS5maWxlLmRhdGFEaXJlY3RvcnksIGZ1bmN0aW9uKGZpbGVTeXN0ZW0yKSB7XG4gICAgICAgICAgICBmaWxlRW50cnkuY29weVRvKFxuICAgICAgICAgICAgICBmaWxlU3lzdGVtMixcbiAgICAgICAgICAgICAgbmV3TmFtZSxcbiAgICAgICAgICAgICAgb25Db3B5U3VjY2VzcyxcbiAgICAgICAgICAgICAgZmFpbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWwpO1xuICAgICAgfVxuXG4gICAgICAvLyA2XG4gICAgICBmdW5jdGlvbiBvbkNvcHlTdWNjZXNzKGVudHJ5KSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmltYWdlID0gZW50cnkubmF0aXZlVVJMO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmFpbChlcnJvcikge1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG1ha2VpZCgpIHtcbiAgICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cblxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS51cmxGb3JJbWFnZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbWFnZVVSTCA9IFwiaHR0cDovL3BsYWNlaG9sZC5pdC8yMDB4MjAwXCI7XG4gICAgaWYgKCRzY29wZS5pbWFnZSkge1xuICAgICAgdmFyIG5hbWUgPSAkc2NvcGUuaW1hZ2Uuc3Vic3RyKCRzY29wZS5pbWFnZS5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICBpbWFnZVVSTCA9IGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5ICsgbmFtZTtcbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZyhcIkltYWdlVVJMID0gXCIgKyBpbWFnZVVSTCk7XG4gICAgcmV0dXJuIGltYWdlVVJMO1xuICB9O1xuXG5cbiAgICAkc2NvcGUuc2Nyb2xsTWUgPSBmdW5jdGlvbihhbmNob3JfaWQpe1xuICAgICAgJGxvY2F0aW9uLmhhc2goYW5jaG9yX2lkKTtcbiAgICAgIHZhciBoYW5kbGUgID0gJGlvbmljU2Nyb2xsRGVsZWdhdGUuJGdldEJ5SGFuZGxlKCdjb250ZW50Jyk7XG4gICAgICBoYW5kbGUuYW5jaG9yU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uID0gZnVuY3Rpb24oYnV0dG9uaWQpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbmlkKS5jbGFzc05hbWUgPSBcIm9wdGlvbi1hY3RpdmVcIjtcbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMgPSBmdW5jdGlvbigpe1xuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9yZXBvcnRfZGV0YWlsX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRzY29wZS5yZXBvcnRfZGV0YWlsX2lkID0gbnVsbDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENlbnRlciBtYXAgb24gdXNlcidzIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgKi9cbiAgICAkc2NvcGUubG9jYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbigpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubGF0ID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE1O1xuXG4gICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLm5vdyA9IHtcbiAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJZb3UgQXJlIEhlcmVcIixcbiAgICAgICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiTG9jYXRpb24gZXJyb3IhXCIpO1xuICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG5cblxuICAgICRzY29wZS5hZGRNYXBDb250cm9scyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX2Nyb3NzaGFpcicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX2Nyb3NzaGFpcl9idXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgfTtcblxuXG4gICAgJHNjb3BlLmNoYW5nZVVzZXJMb2NhdGlvblBpbiA9IGZ1bmN0aW9uKGxhdCxsb24sdWlkKXtcbiAgICAgIGlmKCRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXlbdWlkXSl7XG4gICAgICAgIGxheWVyID0gJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheVt1aWRdO1xuICAgICAgICB2YXIgbmV3TGF0TG5nID0gbmV3IEwuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgbGF5ZXIuc2V0TGF0TG5nKG5ld0xhdExuZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnJlbW92ZUFsbFBpbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICAgJHNjb3BlLmFzZW50YW1pZW50b3NfbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24obGF5ZXIsa2V5KXtcbiAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cblxuICAgICRzY29wZS5oaWRlT2ZmU2NyZWVuUGlucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgLypsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgbWFwQm91bmRzID0gbWFwLmdldEJvdW5kcygpO1xuICAgICAgICAkc2NvcGUudXNlcnNWaXNpYmxlID0gW107XG4gICAgICAgICAgJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyLGtleSl7XG4gICAgICAgICAgICB2YXIgc2hvdWxkQmVWaXNpYmxlID0gbWFwQm91bmRzLmNvbnRhaW5zKGxheWVyLmdldExhdExuZygpKTtcbiAgICAgICAgICAgIGlmICghc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcnNWaXNpYmxlLnB1c2gobGF5ZXIuZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH0pOyovXG4gICAgfVxuXG4gICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIENrYW5TZXJ2aWNlLmdldEFsbERhdGEoJzA5MDM0MWEwLWRmYmEtNDNmZC1iYzgyLWRhOTAzOTRhODgzZCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgQ2thblNlcnZpY2UuYXNlbnRhbWllbnRvc0FjdGl2b3MgPSByZXNwb25zZTtcbiAgICAgICAgICAkc2NvcGUudXBkYXRlUGlucygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgJHNjb3BlLmdldE9ubHlDb29yZGluYXRlc1BvbHlnb24gPSBmdW5jdGlvbih3a3RfZ2VvbSl7XG4gICAgd2t0X2dlb20gPSB3a3RfZ2VvbS5yZXBsYWNlKFwiUG9seWdvbiAoKFwiLFwiXCIpO1xuICAgIHdrdF9nZW9tID0gd2t0X2dlb20ucmVwbGFjZShcIikpXCIsXCJcIik7XG4gICAgdmFyIHBvaW50c0FycmF5ID0gd2t0X2dlb20uc3BsaXQoXCIsXCIpO1xuICAgIHZhciBwb2x5Z29uUG9pbnRzQ29vcmRpbmF0ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICBwb2ludHNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHBvaW50LGtleSl7XG4gICAgICBwb2ludCA9IHBvaW50LnRyaW0oKTtcbiAgICAgIHZhciBjb29yZGluYXRlc0FycmF5ID0gcG9pbnQuc3BsaXQoXCIgXCIpO1xuICAgICAgdmFyIGxhdCA9IGNvb3JkaW5hdGVzQXJyYXlbMV07XG4gICAgICB2YXIgbG9uID0gY29vcmRpbmF0ZXNBcnJheVswXTtcbiAgICAgIHZhciBuZXdDb29yZGluYXRlcyA9IFBpblNlcnZpY2UuY29udmVydExhdExvbmdQcm9qKGxhdCxsb24sJHNjb3BlKTtcbiAgICAgIHZhciBsYXRsb24gPSBbbmV3Q29vcmRpbmF0ZXMubGF0LCBuZXdDb29yZGluYXRlcy5sbmddO1xuICAgICAgcG9seWdvblBvaW50c0Nvb3JkaW5hdGVzLnB1c2gobGF0bG9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcG9seWdvblBvaW50c0Nvb3JkaW5hdGVzO1xuICB9XG5cbiAgJHNjb3BlLmdldE9ubHlDb29yZGluYXRlc011bHRpUG9seWdvbiA9IGZ1bmN0aW9uKHdrdF9nZW9tKXtcbiAgICB2YXIgYWxsX3BvbHlnb25zID0gbmV3IEFycmF5KCk7XG4gICAgd2t0X2dlb20gPSB3a3RfZ2VvbS5yZXBsYWNlKFwiTXVsdGlQb2x5Z29uICgoKFwiLFwiXCIpO1xuICAgIHdrdF9nZW9tID0gd2t0X2dlb20ucmVwbGFjZShcIikpKVwiLFwiXCIpO1xuICAgIHZhciBwb2x5Z29ucyA9IHdrdF9nZW9tLnNwbGl0KFwiKSksKChcIik7XG4gICAgcG9seWdvbnMuZm9yRWFjaChmdW5jdGlvbihwb2x5Z29uLGtleSl7XG4gICAgICBwb2x5Z29uID0gcG9seWdvbi5yZXBsYWNlKFwiKChcIixcIlwiKTtcbiAgICAgIHBvbHlnb24gPSBwb2x5Z29uLnJlcGxhY2UoXCIpKVwiLFwiXCIpO1xuICAgICAgdmFyIHBvaW50c0FycmF5ID0gcG9seWdvbi5zcGxpdChcIixcIik7XG4gICAgICB2YXIgcG9seWdvblBvaW50c0Nvb3JkaW5hdGVzID0gbmV3IEFycmF5KCk7XG4gICAgICBwb2ludHNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHBvaW50LGtleTIpe1xuICAgICAgICBwb2ludCA9IHBvaW50LnRyaW0oKTtcbiAgICAgICAgdmFyIGNvb3JkaW5hdGVzQXJyYXkgPSBwb2ludC5zcGxpdChcIiBcIik7XG4gICAgICAgIHZhciBsYXQgPSBwYXJzZUZsb2F0KGNvb3JkaW5hdGVzQXJyYXlbMV0pO1xuICAgICAgICB2YXIgbG9uID0gcGFyc2VGbG9hdChjb29yZGluYXRlc0FycmF5WzBdKTtcbiAgICAgICAgLyp2YXIgbmV3Q29vcmRpbmF0ZXMgPSBQaW5TZXJ2aWNlLmNvbnZlcnRMYXRMb25nUHJvaihsYXQsbG9uLCRzY29wZSk7XG4gICAgICAgIHZhciBsYXRsb24gPSBbbmV3Q29vcmRpbmF0ZXMubGF0LCBuZXdDb29yZGluYXRlcy5sbmddOyovXG4gICAgICAgIGlmKCFpc05hTihsYXQpICYmICFpc05hTihsb24pKXtcbiAgICAgICAgICB2YXIgbGF0bG9uID0gW2xhdCwgbG9uXTtcbiAgICAgICAgICBwb2x5Z29uUG9pbnRzQ29vcmRpbmF0ZXMucHVzaChsYXRsb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFsbF9wb2x5Z29ucy5wdXNoKHBvbHlnb25Qb2ludHNDb29yZGluYXRlcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFsbF9wb2x5Z29ucztcbiAgfVxuXG4gICRzY29wZS5nZXRUeXBlT2ZNYXBPYmplY3QgPSBmdW5jdGlvbih3a3RfZ2VvbSl7XG4gICAgaWYod2t0X2dlb20pe1xuICAgICAgaWYod2t0X2dlb20uc3RhcnRzV2l0aChcIk11bHRpUG9seWdvblwiKSl7XG4gICAgICAgIHJldHVybiBcIk11bHRpUG9seWdvblwiO1xuICAgICAgfVxuICAgICAgaWYod2t0X2dlb20uc3RhcnRzV2l0aChcIlBvbHlnb25cIikpe1xuICAgICAgICByZXR1cm4gXCJQb2x5Z29uXCI7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gXCJVbmtub3duXCI7XG4gICAgfVxuXG4gIH1cblxuICAgIC8vUEFSQSBDT05UUk9MQVIgRUwgRU5URVIgRU4gQUxHVU5PUyBGT1JNU1xuICAgIC8qJHNjb3BlLmtleV9wcmVzcyA9IGZ1bmN0aW9uKGV2ZW50LHN0YWdlKXtcbiAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAgIGlmKHN0YWdlPT0ncHJpdmF0ZV9jaGF0Jyl7XG4gICAgICAgIGlmKGtleUNvZGU9PTEzKXtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYoY29yZG92YT09PW51bGwpe1xuXG4gICAgICAgICAgICB9ZWxzZSBpZihjb3Jkb3ZhJiZjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpe1xuICAgICAgICAgICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2F0Y2goZXJyKSB7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9Ki9cblxuXG4gICAgJHNjb3BlLnRpbWVDb252ZXJ0ZXIgPSBmdW5jdGlvbihVTklYX3RpbWVzdGFtcCl7XG4gICAgICB2YXIgYSA9IG5ldyBEYXRlKFVOSVhfdGltZXN0YW1wICogMTAwMCk7XG4gICAgICB2YXIgbW9udGhzID0gWydFbmVybycsJ0ZlYnJlcm8nLCdNYXJ6bycsJ0FicmlsJywnTWF5bycsJ0p1bmlvJywnSnVsaW8nLCdBZ29zdG8nLCdTZXRpZW1icmUnLCdPY3R1YnJlJywnTm92aWVtYnJlJywnRGljaWVtYnJlJ107XG4gICAgICB2YXIgeWVhciA9IGEuZ2V0RnVsbFllYXIoKTtcbiAgICAgIC8vdmFyIG1vbnRoID0gbW9udGhzW2EuZ2V0TW9udGgoKV07XG4gICAgICB2YXIgbW9udGggPSBhLmdldE1vbnRoKCk7XG4gICAgICBpZihtb250aDwxMCl7XG4gICAgICAgIG1vbnRoID0gXCIwXCIrbW9udGg7XG4gICAgICB9XG4gICAgICB2YXIgZGF5ID0gYS5nZXREYXRlKCk7XG4gICAgICBpZihkYXk8MTApe1xuICAgICAgICBkYXkgPSBcIjBcIitkYXk7XG4gICAgICB9XG4gICAgICB2YXIgaG91ciA9IGEuZ2V0SG91cnMoKTtcbiAgICAgIGlmKGhvdXI8MTApe1xuICAgICAgICBob3VyID0gXCIwXCIraG91cjtcbiAgICAgIH1cbiAgICAgIHZhciBtaW4gPSBhLmdldE1pbnV0ZXMoKTtcbiAgICAgIGlmKG1pbjwxMCl7XG4gICAgICAgIG1pbiA9IFwiMFwiK21pbjtcbiAgICAgIH1cbiAgICAgIHZhciBzZWMgPSBhLmdldFNlY29uZHMoKTtcbiAgICAgIHZhciB0aW1lID0gZGF5ICsgJy8nICsgbW9udGggKyAnLycgKyB5ZWFyICsgJyAnICsgaG91ciArICc6JyArIG1pbjtcbiAgICAgIHJldHVybiB0aW1lO1xuICAgIH1cblxuXG5cbiAgICAvLyBTdWdnZXN0aW9uXG4gICAgJHNjb3BlLm1vZGVsID0gW107XG4gICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgICRzY29wZS5wcmVzZWxlY3RlZFNlYXJjaEl0ZW1zID0gW107XG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gXCJcIjtcbiAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBcIlwiO1xuXG5cbiAgICAkc2NvcGUuaXRlbXNSZW1vdmVkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IGNhbGxiYWNrO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXNlcl9vcHRpb25zID0gZnVuY3Rpb24oKXtcbiAgICAgIC8qdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgaWYobWVudS5zdHlsZS5kaXNwbGF5PT1cImJsb2NrXCIpe1xuICAgICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1lbHNle1xuICAgICAgICAvL2NvbnNvbGUubG9nKFVzZXJTZXJ2aWNlLm5hbWUpO1xuICAgICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICAgIGlmKG5hbWU9PW51bGwpe1xuICAgICAgICAgIC8vTm8gZXN0YSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X2Fub255bW91c19tZW51KCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgICAkc2NvcGUuc2hvd191c2VyX21lbnUoKTtcbiAgICAgICAgfVxuICAgICAgfSovXG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgLyp2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICB2YXIgaHRtbCA9IFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X2xvZ2luX21vZGFsKCknPkluaWNpYXIgc2VzacOzbjwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J25vbmF1dGgtbGluaycgbmctY2xpY2s9J3Nob3dfc2lnbl91cF9tb2RhbCgpJz5SZWdpc3RyYXJzZTwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcxMjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzE1MHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjsqL1xuICAgIH1cblxuICAgICRzY29wZS5zaG93X3VzZXJfbWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICAvKnZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gVXNlclNlcnZpY2UubmFtZSArIFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwoKSc+TWkgcGVyZmlsPC9kaXY+XCI7XG4gICAgICAvL2h0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nY2hhbmdlX3Bhc3N3b3JkKCknPkNhbWJpYXIgY29udHJhc2XDsWE8L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2lnbl9vdXQoKSc+Q2VycmFyIHNlc2nDs248L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMjIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcyMDBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7Ki9cbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheSA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzID0gZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlLHNlY29uZFZhbHVlKXtcbiAgICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGQubmFtZSA9IG5hbWU7XG4gICAgICBmaWVsZC50eXBlID0gdHlwZTtcbiAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICBmaWVsZC5zZWNvbmRWYWx1ZSA9IHNlY29uZFZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsgPSBmdW5jdGlvbih1cmwpe1xuICAgICAgaWYodXJsLmluZGV4T2YoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpID49IDApe1xuICAgICAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpO1xuICAgICAgICB2YXIgbmV3VXJsID0gXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIrcGFydHNbMV07XG4gICAgICAgIHJldHVybiBuZXdVcmw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH07XG5cbiAgICAkc2NvcGUubG9nX2luID0gZnVuY3Rpb24odXNlciwgcGFzc3dvcmQpe1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJzdWJtaXQtZm9ybVwiKSl7XG4gICAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiVXN1YXJpb1wiLFwibm90TnVsbFwiLHVzZXIpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIixwYXNzd29yZCkpO1xuICAgICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgIEF1dGhTZXJ2aWNlLmxvZ19pbih1c2VyLHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChyZXNwLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgICBwaG90byA9ICRzY29wZS5maXhfZmJfaW1hZ2VfbGluaygkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90byk7XG4gICAgICAgICAgICAgICAgaWYocGhvdG89PVwiYW5vblwiKXtcbiAgICAgICAgICAgICAgICAgIHBob3RvPVwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YSgkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lLCAkc2NvcGUubm9uYXV0aC5wYXNzd29yZCwgcGhvdG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlNob3dMb2NhdGlvbiwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwkc2NvcGUubm9uYXV0aC5wYXNzd29yZCxwaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2xvZ2luX21vZGFsKCk7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAvL2FsZXJ0KFwiRXJyb3IgZW4gc2lnbl9pblwiKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJcIixyZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJTaW4gY29uZXhpw7NuIGEgaW50ZXJuZXRcIixcIlBhcmEgaW5pY2lhciBzZXNpw7NuIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUubG9nX2luX2JhY2tncm91bmQgPSBmdW5jdGlvbih1c2VyLCBwYXNzd29yZCl7XG4gICAgICBBdXRoU2VydmljZS5sb2dfaW4odXNlcixwYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheChyZXNwKSl7XG4gICAgICAgICAgcGhvdG8gPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8pO1xuICAgICAgICAgIGlmKHBob3RvPT1cImFub25cIil7XG4gICAgICAgICAgICBwaG90bz1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgcGFzc3dvcmQsIHBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUscGFzc3dvcmQscGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcblxuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSk7XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5zaWduX291dCA9IGZ1bmN0aW9uKCl7XG4gICAgICBVc2VyU2VydmljZS5lcmFzZV91c2VyX2RhdGEoKTtcbiAgICAgIERCU2VydmljZS5lcmFzZVVzZXIoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgIC8qZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOyovXG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfZWRpdF9wcm9maWxlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBsYSBpbmZvIGRlbCB1c3VhcmlvIGxvZ3VlYWRvIHkgY29uIGVsIHN1Ym1pdCBhIGVkaXRfcHJvZmlsZV9va1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLW1vZGFsXCIpKXtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmVtYWlsID0gVXNlclNlcnZpY2UuZW1haWw7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmdlbmRlciA9IFVzZXJTZXJ2aWNlLmdlbmRlcjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIudXNlcm5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5pbnRlcmVzdGVkID0gVXNlclNlcnZpY2UuaW50ZXJlc3RlZDtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuc3RhdHVzID0gVXNlclNlcnZpY2Uuc3RhdHVzO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5zaG93X2xvY2F0aW9uID0gVXNlclNlcnZpY2Uuc2hvd19sb2NhdGlvbjtcbiAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsO1xuICAgICAgICBpZigkc2NvcGUuYWN0dWFsX3Bob3RvIT1udWxsKXtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZigkc2NvcGUuYWN0dWFsX3Bob3RvPT1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIil7XG4gICAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgaWYoVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGVfd2l0aF9waG90by5odG1sJywge1xuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2VkaXRfcHJvZmlsZV93aXRoX3Bob3RvX2Rlc2t0b3AuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLnJlYWRVUkwgPSBmdW5jdGlvbiAoaW5wdXQsdHlwZSkge1xuICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGlmKHR5cGU9PTEpe1xuICAgICAgICAgICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgICAgICB9ZWxzZSBpZiAodHlwZT09Mil7XG4gICAgICAgICAgJHNjb3BlLmNvbW1lbnQucGhvdG8gPSBpbnB1dC5maWxlc1swXTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLnJlcG9ydC5maWxlID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUltYWdlXCIpLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XG4gICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSB1cGRhdGVfdXNlclxuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuICAgICRzY29wZS5lZGl0X3Byb2ZpbGVfb2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmVkaXRfcHJvZmlsZSgpO1xuICAgIH1cblxuICAgICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgaWYocmVzcG9uc2UuZGF0YSl7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuZWRpdF9wcm9maWxlID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwic3VibWl0LWZvcm1cIikpe1xuICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAvKnZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29ycmVvIGVsZWN0csOzbmljb1wiLFwiZW1haWxcIixuZXdfZW1haWwpKTtcbiAgICAgICAgICAvL2ZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkPDqWR1bGEgZGUgSWRlbnRpZGFkXCIsXCJpZGRvY191eVwiLGlkX2RvYykpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJOb21icmUgeSBhcGVsbGlkb1wiLFwidHdvX3dvcmRzXCIsZnVsbG5hbWUpKTsqL1xuICAgICAgICAgIC8qaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpeyovXG4gICAgICAgICAgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQgPSBVc2VyU2VydmljZS5wYXNzd29yZDtcbiAgICAgICAgICAgIHZhciBlZGl0X3JlcXVlc3QgPSBBdXRoU2VydmljZS5lZGl0X3VzZXIoJHNjb3BlLm5ld3VzZXIpO1xuICAgICAgICAgICAgaWYoJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmw9PW51bGwgfHwgJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmw9PVwiXCIgfHwgIVZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgICBlZGl0X3JlcXVlc3Quc3VjY2VzcyhmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiAxMDAlXCI7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLGNvbmZpZyl7XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBlZGl0X3JlcXVlc3QudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgICBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLlBob3RvLCBkYXRhLlNob3dMb2NhdGlvbiwgZGF0YS5VaWQsIGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKGRhdGEuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCxkYXRhLlBob3RvLGRhdGEuU2hvd0xvY2F0aW9uLGRhdGEuVWlkLGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZhciBhbGVydCA9IFwiQ8OzZGlnbzogXCIgKyBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBPcmlnZW46IFwiICsgZXJyb3Iuc291cmNlO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBEZXN0aW5vOiBcIiArIGVycm9yLnRhcmdldDtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgaHR0cF9zdGF0dXM6IFwiICsgZXJyb3IuaHR0cF9zdGF0dXM7XG4gICAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIEJvZHk6IFwiICsgZXJyb3IuYm9keTtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgRXhjZXB0aW9uOiBcIiArIGVycm9yLmV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIsXCJIdWJvIHVuIGVycm9yIGVuIGVsIGVudsOtbzogXCIgKyBhbGVydCk7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkUHJvZ3Jlc3MgPSAocHJvZ3Jlc3MubG9hZGVkIC8gcHJvZ3Jlc3MudG90YWwpICogMTAwO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiBcIiArIE1hdGgucm91bmQoJHNjb3BlLnVwbG9hZFByb2dyZXNzKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8qfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBlZGl0YXIgc3UgcGVyZmlsIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgICRzY29wZS5zaG93X2xvZ2luX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIGxvZ2luIHkgYWhpIGxsYW1hIGFsIHNpZ25faW5cbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICRzY29wZS5ub25hdXRoID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5ub25hdXRoLnVzZXIgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubm9uYXV0aC5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvbG9nX2luLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5sb2dpbl9vayA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubG9nX2luKCRzY29wZS5ub25hdXRoLnVzZXIsJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQpO1xuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5zaG93X3NpZ25fdXBfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgLy9jYXJnYXIgZWwgbW9kYWwgY29uIGVsIGZvcm0gZGUgc2lnbl91cCB5IGRlIGFoaSBsbGFtYXIgYWwgc2lnbl91cFxuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLW1vZGFsXCIpKXtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuZW1haWwgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmZ1bGxuYW1lID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuaWRfZG9jID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIudGVsZXBob25lID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIucGhvdG8gPSBcIlwiO1xuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgIGlmKFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3NpZ25fdXAuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvc2lnbl91cF9kZXNrdG9wLmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9zaWduX3VwX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl91cCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcInN1Ym1pdC1mb3JtXCIpKXtcbiAgICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgIC8qZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvcnJlbyBlbGVjdHLDs25pY29cIixcImVtYWlsXCIsJHNjb3BlLm5ld3VzZXIuZW1haWwpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5wYXNzd29yZCkpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJVc3VhcmlvXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIudXNlcm5hbWUpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiR8OpbmVyb1wiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLmdlbmRlcikpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJJbnRlcmVzYWRvIGVuXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIuaW50ZXJlc3RlZCkpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJFc3RhZG9cIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5zdGF0dXMpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTW9zdHJhciB1YmljYWNpw7NuXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIuc2hvd19sb2NhdGlvbikpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXlfd2l0aF90d29GaWVsZHMoXCInQ29udHJhc2XDsWEnIHkgJ0NvbmZpcm1hciBjb250cmFzZcOxYSdcIixcImVxdWFsc1RvXCIsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsICRzY29wZS5uZXd1c2VyLnJlcGFzc3dvcmQpKTsqL1xuICAgICAgICAgIC8vaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgaWYoJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmwhPW51bGwgJiYgJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmwhPVwiXCIgJiYgVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgICAgICAgIEF1dGhTZXJ2aWNlLmNyZWF0ZV91c2VyKCRzY29wZS5uZXd1c2VyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VudF9sYWJlbFwiKS5pbm5lckhUTUwgPSBcIkVudmlhZG86IDEwMCVcIjtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgICBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLm5hbWUsIGRhdGEuZW1haWwsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLmlkZW50aXR5X2RvY3VtZW50LCBkYXRhLnBob25lLCBkYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRhdGEuTmFtZSwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsIGRhdGEuUGhvdG8sIGRhdGEuU2hvd0xvY2F0aW9uLCBkYXRhLlVpZCwgZGF0YS5Fc3RhZG8sIGRhdGEuR2VuZGVyLCBkYXRhLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoZGF0YS5OYW1lLHBhc3N3b3JkLGRhdGEuUGhvdG8sZGF0YS5TaG93TG9jYXRpb24sZGF0YS5VaWQsZGF0YS5Fc3RhZG8sIGRhdGEuR2VuZGVyLCBkYXRhLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2VfZWRpdF9wcm9maWxlX21vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQoKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIEF1dGhTZXJ2aWNlLmNyZWF0ZV91c2VyKCRzY29wZS5uZXd1c2VyKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9zaWduX3VwX21vZGFsKCk7XG4gICAgICAgICAgICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJVc3VhcmlvIGNyZWFkbyBjb24gw6l4aXRvXCIsXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIscmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgLyp9ZWxzZXtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIH0qL1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIGluaWNpYXIgcmVnaXN0cmFyc2UgZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zaWduX3VwX29rID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vY29uc29sZS5sb2coJHNjb3BlLm5ld3VzZXIpO1xuICAgICAgJHNjb3BlLnNpZ25fdXAoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9TaSBIYXkgdW4gdXN1YXJpbyBndWFyZGFkb1xuICAgICAgICAgIHZhciB1c2VyID0gREJTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICAgICAgICB1c2VyLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICAgaWYoZG9jLm5hbWUhPW51bGwgJiYgZG9jLm5hbWUhPVwiXCIgJiYgZG9jLm5hbWUhPVwidW5kZWZpbmVkXCIpe1xuICAgICAgICAgICAgICAkc2NvcGUubG9nX2luX2JhY2tncm91bmQoZG9jLm5hbWUsIGRvYy5wYXNzd29yZCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybD09bnVsbCB8fCBVc2VyU2VydmljZS5waWN0dXJlX3VybD09XCJcIil7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIG5vIHRpZW5lIGZvdG8gZGVmaW5pZGFcbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIHRpZW5lIGZvdG9cbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgIGlmKG5hbWU9PW51bGwpe1xuICAgICAgICAgIC8vU2kgSGF5IHVuIHVzdWFyaW8gZ3VhcmRhZG9cbiAgICAgICAgICB2YXIgdXNlciA9IERCU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgICAgdXNlci50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgIGlmKGRvYy5uYW1lIT1udWxsICYmIGRvYy5uYW1lIT1cIlwiICYmIGRvYy5uYW1lIT1cInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZG9jLm5hbWUsIGRvYy5wYXNzd29yZCwgZG9jLnBpY3R1cmVfdXJsLCBkb2Muc2hvd19sb2NhdGlvbik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybD09bnVsbCB8fCBVc2VyU2VydmljZS5waWN0dXJlX3VybD09XCJcIil7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIG5vIHRpZW5lIGZvdG8gZGVmaW5pZGFcbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIHRpZW5lIGZvdG9cbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSA9IGZ1bmN0aW9uKGhhc1Bob3RvKXtcbiAgICAgIHZhciBwaWN0dXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3BpY3R1cmVcIik7XG4gICAgICBpZihoYXNQaG90bz09MCl7XG4gICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybCE9bnVsbCAmJiBVc2VyU2VydmljZS5waWN0dXJlX3VybCE9XCJcIil7XG4gICAgICAgICAgLy9hbGVydChVc2VyU2VydmljZS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsO1xuICAgICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsICsgXCIpXCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2U9XCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICAkc2NvcGUuZmluZF9tZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbihcImJ1dHRvbi1maW5kLW1lXCIpO1xuICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMTAwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubGF0ICA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcbiAgICAgICAgICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE4O1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubm93ID0ge1xuICAgICAgICAgICAgICAgICAgbGF0OnBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgIGxuZzpwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCI8cCBhbGlnbj0nY2VudGVyJz5UZSBlbmN1ZW50cmFzIGFxdcOtIDxici8+IDxhIG5nLWNsaWNrPSduZXdfcmVwb3J0KDEpOyc+SW5pY2lhciByZXBvcnRlIGVuIHR1IHBvc2ljacOzbiBhY3R1YWw8L2E+PC9wPlwiLFxuICAgICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZ2V0TWVzc2FnZVNjb3BlOiBmdW5jdGlvbigpIHsgcmV0dXJuICRzY29wZTsgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUubWFwLm1hcmtlcnMubm93Lm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2NhdGlvbiBlcnJvciFcIik7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIk5vIGhlbW9zIHBvZGlkbyBnZW9sb2NhbGl6YXJsby4gwr9UYWwgdmV6IG9sdmlkw7MgaGFiaWxpdGFyIGxvcyBzZXJ2aWNpb3MgZGUgbG9jYWxpemFjacOzbiBlbiBzdSBkaXNwb3NpdGl2bz9cIilcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkNvdW5jaWxTZWxlY3RvcigpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH07XG5cbiAgICAgICAgLyoqIEZJTFRFUlMgSlMgKi9cbiAgICAgICAgJHNjb3BlLnN1Ym1pdEZpbHRlcnMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIENrYW5TZXJ2aWNlLmdldERhdGEoJHNjb3BlLmZpbHRlcnMpLnRoZW4oZnVuY3Rpb24gKGFzZW50YW1pZW50b3MpIHtcbiAgICAgICAgICAgIENrYW5TZXJ2aWNlLmFzZW50YW1pZW50b3NBY3Rpdm9zID0gYXNlbnRhbWllbnRvcztcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgLy9yZWxvYWQgUGluU1xuICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZVBpbnMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudG9nZ2xlR3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgICAgIGlmICgkc2NvcGUuaXNHcm91cFNob3duKGdyb3VwKSkge1xuICAgICAgICAgICAgJHNjb3BlLnNob3duR3JvdXAgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd25Hcm91cCA9IGdyb3VwO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmlzR3JvdXBTaG93biA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5zaG93bkdyb3VwID09PSBncm91cDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUubWFwSWNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpY29uVXJsOiAnJyxcbiAgICAgICAgICAgIGljb25TaXplOiAgICAgWzM3LCA0MV0sIC8vIHNpemUgb2YgdGhlIGljb25cbiAgICAgICAgICAgIGljb25BbmNob3I6ICAgWzE4LCAzNl0sIC8vIHBvaW50IG9mIHRoZSBpY29uIHdoaWNoIHdpbGwgY29ycmVzcG9uZCB0byBtYXJrZXIncyBsb2NhdGlvblxuICAgICAgICAgICAgcG9wdXBBbmNob3I6ICBbMCwgMF0gLy8gcG9pbnQgZnJvbSB3aGljaCB0aGUgcG9wdXAgc2hvdWxkIG9wZW4gcmVsYXRpdmUgdG8gdGhlIGljb25BbmNob3JcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnVwZGF0ZVBpbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgICAgaWYgKCAkc2NvcGUuYXNlbnRhbWllbnRvc19sYXllcnMubGVuZ3RoID4gMCApe1xuICAgICAgICAgICAgICAkc2NvcGUuYXNlbnRhbWllbnRvc19sYXllcnMuZm9yRWFjaChmdW5jdGlvbihsYXllcixrZXkpe1xuICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hc2VudGFtaWVudG9zX2xheWVyc1trZXldO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQ2thblNlcnZpY2UuYXNlbnRhbWllbnRvc0FjdGl2b3MuZm9yRWFjaChmdW5jdGlvbihmZWF0dXJlKXtcbiAgICAgICAgICAgICAgdmFyIGxhdGxuZ3MgPSB7fTtcbiAgICAgICAgICAgICAgaWYoJHNjb3BlLmdldFR5cGVPZk1hcE9iamVjdChmZWF0dXJlLndrdF9nZW9tKT09XCJQb2x5Z29uXCIpe1xuICAgICAgICAgICAgICAgIGxhdGxuZ3MgPSAkc2NvcGUuZ2V0T25seUNvb3JkaW5hdGVzUG9seWdvbihmZWF0dXJlLndrdF9nZW9tKTtcbiAgICAgICAgICAgICAgICAvL3ZhciBwb2x5Z29uID0gTC5wb2x5Z29uKGxhdGxuZ3MsIHtjb2xvcjogJ3JlZCd9KS5iaW5kUG9wdXAoZmVhdHVyZS5ub21icmUgKyBcIiAtIFwiICsgZmVhdHVyZS5pZDIwMTgpLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUuYXNlbnRhbWllbnRvc19sYXllcnNbZmVhdHVyZS5pZDIwMThdID0gcG9seWdvbjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKCRzY29wZS5nZXRUeXBlT2ZNYXBPYmplY3QoZmVhdHVyZS53a3RfZ2VvbSk9PVwiTXVsdGlQb2x5Z29uXCIpe1xuICAgICAgICAgICAgICAgIGxhdGxuZ3MgPSAkc2NvcGUuZ2V0T25seUNvb3JkaW5hdGVzTXVsdGlQb2x5Z29uKGZlYXR1cmUud2t0X2dlb20pO1xuICAgICAgICAgICAgICAgIGlmKGxhdGxuZ3MubGVuZ3RoPT0xKXtcbiAgICAgICAgICAgICAgICAgIGxhdGxuZ3MgPSBsYXRsbmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvL3ZhciBhc3RDb2xvciA9ICcjYjE3NWZiJztcbiAgICAgICAgICAgICAgdmFyIGFzdENvbG9yID0gJyMxY2M3YmQnO1xuICAgICAgICAgICAgICB2YXIgYXN0VnVsbmVyID0gJ05vIHJlZ2lzdHJhZG8nO1xuICAgICAgICAgICAgICB2YXIgYXN0UGluID0gJ2ltZy9waW4tZ3JlZW4uc3ZnJztcbiAgICAgICAgICAgICAgLyppZiAoIGZlYXR1cmUudnVsbmVyYV91cmIgKSB7XG4gICAgICAgICAgICAgICAgYXN0Q29sb3IgPSAkc2NvcGUuYXN0VnVsbmVyYVtmZWF0dXJlLnZ1bG5lcmFfdXJiXS5jb2xvcjtcbiAgICAgICAgICAgICAgICBhc3R2dWxuZXIgPSAkc2NvcGUuYXN0VnVsbmVyYVtmZWF0dXJlLnZ1bG5lcmFfdXJiXS5uYW1lO1xuICAgICAgICAgICAgICAgIGFzdFBpbiA9ICRzY29wZS5hc3RWdWxuZXJhW2ZlYXR1cmUudnVsbmVyYV91cmJdLmljb247XG4gICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgICAvL1BvcHVwXG4gICAgICAgICAgICAgIHZhciBhc3RQb3B1cCA9ICc8ZGl2IGNsYXNzPVwicG9wdXAtaGVhZGVyXCI+JytcbiAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwb3B1cC1hc3Qtbm9tYnJlXCI+JytmZWF0dXJlLm5vbWJyZSArXCI8L2Rpdj5cIitcbiAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwb3B1cC1hc3Qtbm9tYnJlLW90cm9cIj4nK2ZlYXR1cmUubm9tYnJlX290cm8gK1wiPC9kaXY+XCIrXG4gICAgICAgICAgICAgICc8L2Rpdj4nK1xuICAgICAgICAgICAgICAnPHVsIGNsYXNzPVwicG9wdXAtYm9keVwiPicrXG4gICAgICAgICAgICAgICc8bGk+PGxhYmVsPkHDsW8gZGUgY3JlYWNpw7NuPC9sYWJlbD48ZGl2IGNsYXNzPVwicG9wdXAtdmFsdWVcIj4nK1xuICAgICAgICAgICAgICBmZWF0dXJlLnlfY3JlYWNpb24rJzxkaXYgY2xhc3M9XCJwb3B1cC12YWx1ZVwiPjwvbGk+JytcbiAgICAgICAgICAgICAgJzwhLS08bGk+PGxhYmVsPlZ1bG5lcmFiaWxpZGFkPC9sYWJlbD48ZGl2IGNsYXNzPVwicG9wdXAtdmFsdWVcIiBzdHlsZT1cImNvbG9yOicrYXN0Q29sb3IrJ1wiPicrXG4gICAgICAgICAgICAgIGZlYXR1cmUudnVsbmVyYV91cmIrJzxkaXYgY2xhc3M9XCJwb3B1cC12YWx1ZVwiPjwvbGk+JytcbiAgICAgICAgICAgICAgJzxsaT48bGFiZWw+TsO6bWVybyBlc3RpbWFkbyBkZSBwZXJzb25hczwvbGFiZWw+PGRpdiBjbGFzcz1cInBvcHVwLXZhbHVlXCI+JytcbiAgICAgICAgICAgICAgZmVhdHVyZS5lc3RpbV9wZXJzb25hc19hanVzdCsnPGRpdiBjbGFzcz1cInBvcHVwLXZhbHVlXCI+PC9saT4tLT4nK1xuICAgICAgICAgICAgICAnPGxpPjxsYWJlbD5Ow7ptZXJvIGVzdGltYWRvIGRlIHZpdmllbmRhczwvbGFiZWw+PGRpdiBjbGFzcz1cInBvcHVwLXZhbHVlXCI+JytcbiAgICAgICAgICAgICAgZmVhdHVyZS5ucm9fdml2aWVuZGFzKyc8ZGl2IGNsYXNzPVwicG9wdXAtdmFsdWVcIj48L2xpPicrXG4gICAgICAgICAgICAgICc8L3VsPjxkaXYgY2xhc3M9XCJwb3B1cC1mb290ZXJcIj48YSBocmVmPVwiI1wiPkNsaWNrIHBhcmEgdmVyIG3DoXMgZGV0YWxsZXM8L2E+PC9kaXY+JztcblxuICAgICAgICAgICAgICB2YXIgcG9seWdvbiA9IEwucG9seWdvbihsYXRsbmdzLCB7Y29sb3I6IGFzdENvbG9yfSkuYmluZFBvcHVwKGFzdFBvcHVwKS5hZGRUbyhtYXApO1xuXG4gICAgICAgICAgICAgICRzY29wZS5hc2VudGFtaWVudG9zX2xheWVycy5wdXNoKHBvbHlnb24pO1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAvL0N1c3RvbSBpY29ucyBmb3IgcG9seWdvbnNcbiAgICAgICAgICAgICAgdmFyIGFzdEljb24gPSAkc2NvcGUubWFwSWNvbigpO1xuICAgICAgICAgICAgICBhc3RJY29uLmljb25VcmwgPSBhc3RQaW47XG4gICAgICAgICAgICAgIC8qRWwgY8OhbGN1bG8gZGUgY2VudHJvaWRlcyBkZSBsb3MgcG9sw61nb25vcyBkZWphIGVsIHNpc3RlbWEgbXV5IGxlbnRvLCBzZSBnZW5lcmFuIGRhdG9zIHkgc2UgY2FyZ2FuIGEgbGEgcGxhbmlsbGEqL1xuICAgICAgICAgICAgICAvL3ZhciBhc3RCb3VuZHMgPSBwb2x5Z29uLmdldEJvdW5kcygpOy8vIFZlcmlmaWNhciBxdWUgYm91bmRzIG5vIGVzdMOpIHZhY8OtbzogLmdldENlbnRlcigpO1xuICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5jZW50X2xhdCAmJiBmZWF0dXJlLmNlbnRfbG9uZykge1xuICAgICAgICAgICAgICAgIHZhciBhc3RNYXJrZXIgPSBMLm1hcmtlcihbZmVhdHVyZS5jZW50X2xhdCxmZWF0dXJlLmNlbnRfbG9uZ10sIHtpY29uOiBMLmljb24oYXN0SWNvbil9KS5iaW5kUG9wdXAoYXN0UG9wdXApLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFzZW50YW1pZW50b3NfbGF5ZXJzLnB1c2goYXN0TWFya2VyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbHRlci10b3RhbFwiKS5pbm5lckhUTUwgPSBDa2FuU2VydmljZS5hc2VudGFtaWVudG9zQWN0aXZvcy5sZW5ndGg7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgLy8kc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgfVxuXG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdTdGF0aWNDb250cm9sbGVyJyxcblsnJHNjb3BlJyxcbmZ1bmN0aW9uKCRzY29wZSkge1xuXG59XSk7XG4iXX0=
